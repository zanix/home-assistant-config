---
# This platform allows you to detect presence by looking at devices connected
# to a Ubiquiti Unifi controller.
#
# https://www.home-assistant.io/components/device_tracker.unifi/
#
platform: unifi

# The hostname or IP address of your controller.
host: !secret device_tracker_unifi_host

# Since this is an internal connection, the SSL connection won't verify.
# So lets ignore the fact that the cert is invalid for the above host.
verify_ssl: false

# Authentication credentials
username: !secret device_tracker_unifi_username
password: !secret device_tracker_unifi_password

# How long since the last seen time before the device is marked away, specified
# in seconds.
detection_time: 180

# Don't track each device that enters the network.
new_device_defaults:
  track_new_devices: false
  hide_if_away: false

# A list of extra attributes to pull from the Unifi controller.
monitored_conditions:
  - _id
  - _is_guest_by_uap
  - _last_seen_by_uap
  - _uptime_by_uap
  - ap_mac
  - assoc_time
  - authorized
  - bssid
  - bytes-r
  - ccq
  - channel
  - essid
  - first_seen
  - hostname
  - idletime
  - ip
  - is_11r
  - is_guest
  - is_wired
  - last_seen
  - latest_assoc_time
  - mac
  - name
  - noise
  - noted
  - oui
  - powersave_enabled
  - qos_policy_applied
  - radio
  - radio_proto
  - rssi
  - rx_bytes
  - rx_bytes-r
  - rx_packets
  - rx_rate
  - signal
  - site_id
  - tx_bytes
  - tx_bytes-r
  - tx_packets
  - tx_power
  - tx_rate
  - uptime
  - user_id
  - usergroup_id
  - vlan
