function e(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}var t=window&&window.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"].map((function(e){return e.replace(/^(.*?)-/,"")}));var n,i,a,r=window&&window.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=window&&window.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function s(e){return e.substr(0,e.indexOf("."))}!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="MISSING_LOCALE_DATA",t}r(t,e)}(Error),function(e){e.language="language",e.system="system",e.comma_decimal="comma_decimal",e.decimal_comma="decimal_comma",e.space_comma="space_comma",e.none="none"}(i||(i={})),function(e){e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24"}(a||(a={}));var c=["closed","locked","off"],l=function(e,t,n,i){i=i||{},n=null==n?{}:n;var a=new Event(t,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});return a.detail=n,e.dispatchEvent(a),a},d=function(e){l(window,"haptic",e)},u=function(e,t){return function(e,t,n){void 0===n&&(n=!0);var i,a=s(t),r="group"===a?"homeassistant":a;switch(a){case"lock":i=n?"unlock":"lock";break;case"cover":i=n?"open_cover":"close_cover";break;default:i=n?"turn_on":"turn_off"}return e.callService(r,i,{entity_id:t})}(e,t,c.includes(e.states[t].state))},h=function(e,t,n,i){if(i||(i={action:"more-info"}),!i.confirmation||i.confirmation.exemptions&&i.confirmation.exemptions.some((function(e){return e.user===t.user.id}))||(d("warning"),confirm(i.confirmation.text||"Are you sure you want to "+i.action+"?")))switch(i.action){case"more-info":(n.entity||n.camera_image)&&l(e,"hass-more-info",{entityId:n.entity?n.entity:n.camera_image});break;case"navigate":i.navigation_path&&function(e,t,n){void 0===n&&(n=!1),n?history.replaceState(null,"",t):history.pushState(null,"",t),l(window,"location-changed",{replace:n})}(0,i.navigation_path);break;case"url":i.url_path&&window.open(i.url_path);break;case"toggle":n.entity&&(u(t,n.entity),d("success"));break;case"call-service":if(!i.service)return void d("failure");var a=i.service.split(".",2);t.callService(a[0],a[1],i.service_data,i.target),d("success");break;case"fire-dom-event":l(e,"ll-custom",i)}};function m(e){return void 0!==e&&"none"!==e.action}var f=function(){var e=document.querySelector("home-assistant");if(e=(e=(e=(e=(e=(e=(e=(e=e&&e.shadowRoot)&&e.querySelector("home-assistant-main"))&&e.shadowRoot)&&e.querySelector("app-drawer-layout partial-panel-resolver"))&&e.shadowRoot||e)&&e.querySelector("ha-panel-lovelace"))&&e.shadowRoot)&&e.querySelector("hui-root")){var t=e.lovelace;return t.current_view=e.___curView,t}return null};
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const p=window,g=p.ShadowRoot&&(void 0===p.ShadyCSS||p.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,v=Symbol(),_=new WeakMap;class y{constructor(e,t,n){if(this._$cssResult$=!0,n!==v)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(g&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=_.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&_.set(t,e))}return e}toString(){return this.cssText}}const b=e=>new y("string"==typeof e?e:e+"",void 0,v),w=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new y(n,e,v)},x=(e,t)=>{g?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),i=p.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))},C=g?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return b(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var $;const k=window,E=k.trustedTypes,S=E?E.emptyScript:"",M=k.reactiveElementPolyfillSupport,T={toAttribute(e,t){switch(t){case Boolean:e=e?S:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},A=(e,t)=>t!==e&&(t==t||e==e),j={attribute:!0,type:String,converter:T,reflect:!1,hasChanged:A};class z extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const i=this._$Ep(n,t);void 0!==i&&(this._$Ev.set(i,n),e.push(i))})),e}static createProperty(e,t=j){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const a=this[e];this[t]=i,this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||j}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(C(e))}else void 0!==e&&t.push(C(e));return t}static _$Ep(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return x(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=j){var i;const a=this.constructor._$Ep(e,n);if(void 0!==a&&!0===n.reflect){const r=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:T).toAttribute(t,n.type);this._$El=e,null==r?this.removeAttribute(a):this.setAttribute(a,r),this._$El=null}}_$AK(e,t){var n;const i=this.constructor,a=i._$Ev.get(e);if(void 0!==a&&this._$El!==a){const e=i.getPropertyOptions(a),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(n=e.converter)||void 0===n?void 0:n.fromAttribute)?e.converter:T;this._$El=a,this[a]=r.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||A)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var O;z.finalized=!0,z.elementProperties=new Map,z.elementStyles=[],z.shadowRootOptions={mode:"open"},null==M||M({ReactiveElement:z}),(null!==($=k.reactiveElementVersions)&&void 0!==$?$:k.reactiveElementVersions=[]).push("1.6.1");const I=window,P=I.trustedTypes,D=P?P.createPolicy("lit-html",{createHTML:e=>e}):void 0,R=`lit$${(Math.random()+"").slice(9)}$`,N="?"+R,L=`<${N}>`,U=document,F=(e="")=>U.createComment(e),H=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Z=Array.isArray,q=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,V=/-->/g,W=/>/g,B=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Y=/'/g,Q=/"/g,G=/^(?:script|style|textarea|title)$/i,K=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),X=Symbol.for("lit-noChange"),J=Symbol.for("lit-nothing"),ee=new WeakMap,te=U.createTreeWalker(U,129,null,!1),ne=(e,t)=>{const n=e.length-1,i=[];let a,r=2===t?"<svg>":"",o=q;for(let t=0;t<n;t++){const n=e[t];let s,c,l=-1,d=0;for(;d<n.length&&(o.lastIndex=d,c=o.exec(n),null!==c);)d=o.lastIndex,o===q?"!--"===c[1]?o=V:void 0!==c[1]?o=W:void 0!==c[2]?(G.test(c[2])&&(a=RegExp("</"+c[2],"g")),o=B):void 0!==c[3]&&(o=B):o===B?">"===c[0]?(o=null!=a?a:q,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,s=c[1],o=void 0===c[3]?B:'"'===c[3]?Q:Y):o===Q||o===Y?o=B:o===V||o===W?o=q:(o=B,a=void 0);const u=o===B&&e[t+1].startsWith("/>")?" ":"";r+=o===q?n+L:l>=0?(i.push(s),n.slice(0,l)+"$lit$"+n.slice(l)+R+u):n+R+(-2===l?(i.push(void 0),t):u)}const s=r+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==D?D.createHTML(s):s,i]};class ie{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let a=0,r=0;const o=e.length-1,s=this.parts,[c,l]=ne(e,t);if(this.el=ie.createElement(c,n),te.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=te.nextNode())&&s.length<o;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(R)){const n=l[r++];if(e.push(t),void 0!==n){const e=i.getAttribute(n.toLowerCase()+"$lit$").split(R),t=/([.?@])?(.*)/.exec(n);s.push({type:1,index:a,name:t[2],strings:e,ctor:"."===t[1]?ce:"?"===t[1]?de:"@"===t[1]?ue:se})}else s.push({type:6,index:a})}for(const t of e)i.removeAttribute(t)}if(G.test(i.tagName)){const e=i.textContent.split(R),t=e.length-1;if(t>0){i.textContent=P?P.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],F()),te.nextNode(),s.push({type:2,index:++a});i.append(e[t],F())}}}else if(8===i.nodeType)if(i.data===N)s.push({type:2,index:a});else{let e=-1;for(;-1!==(e=i.data.indexOf(R,e+1));)s.push({type:7,index:a}),e+=R.length-1}a++}}static createElement(e,t){const n=U.createElement("template");return n.innerHTML=e,n}}function ae(e,t,n=e,i){var a,r,o,s;if(t===X)return t;let c=void 0!==i?null===(a=n._$Co)||void 0===a?void 0:a[i]:n._$Cl;const l=H(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(r=null==c?void 0:c._$AO)||void 0===r||r.call(c,!1),void 0===l?c=void 0:(c=new l(e),c._$AT(e,n,i)),void 0!==i?(null!==(o=(s=n)._$Co)&&void 0!==o?o:s._$Co=[])[i]=c:n._$Cl=c),void 0!==c&&(t=ae(e,c._$AS(e,t.values),c,i)),t}class re{constructor(e,t){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var t;const{el:{content:n},parts:i}=this._$AD,a=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:U).importNode(n,!0);te.currentNode=a;let r=te.nextNode(),o=0,s=0,c=i[0];for(;void 0!==c;){if(o===c.index){let t;2===c.type?t=new oe(r,r.nextSibling,this,e):1===c.type?t=new c.ctor(r,c.name,c.strings,this,e):6===c.type&&(t=new he(r,this,e)),this.u.push(t),c=i[++s]}o!==(null==c?void 0:c.index)&&(r=te.nextNode(),o++)}return a}p(e){let t=0;for(const n of this.u)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class oe{constructor(e,t,n,i){var a;this.type=2,this._$AH=J,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cm=null===(a=null==i?void 0:i.isConnected)||void 0===a||a}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ae(this,e,t),H(e)?e===J||null==e||""===e?(this._$AH!==J&&this._$AR(),this._$AH=J):e!==this._$AH&&e!==X&&this.g(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>Z(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.k(e):this.g(e)}O(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==J&&H(this._$AH)?this._$AA.nextSibling.data=e:this.T(U.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:i}=e,a="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=ie.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===a)this._$AH.p(n);else{const e=new re(a,this),t=e.v(this.options);e.p(n),this.T(t),this._$AH=e}}_$AC(e){let t=ee.get(e.strings);return void 0===t&&ee.set(e.strings,t=new ie(e)),t}k(e){Z(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const a of e)i===t.length?t.push(n=new oe(this.O(F()),this.O(F()),this,this.options)):n=t[i],n._$AI(a),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cm=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class se{constructor(e,t,n,i,a){this.type=1,this._$AH=J,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=a,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=J}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const a=this.strings;let r=!1;if(void 0===a)e=ae(this,e,t,0),r=!H(e)||e!==this._$AH&&e!==X,r&&(this._$AH=e);else{const i=e;let o,s;for(e=a[0],o=0;o<a.length-1;o++)s=ae(this,i[n+o],t,o),s===X&&(s=this._$AH[o]),r||(r=!H(s)||s!==this._$AH[o]),s===J?e=J:e!==J&&(e+=(null!=s?s:"")+a[o+1]),this._$AH[o]=s}r&&!i&&this.j(e)}j(e){e===J?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class ce extends se{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===J?void 0:e}}const le=P?P.emptyScript:"";class de extends se{constructor(){super(...arguments),this.type=4}j(e){e&&e!==J?this.element.setAttribute(this.name,le):this.element.removeAttribute(this.name)}}class ue extends se{constructor(e,t,n,i,a){super(e,t,n,i,a),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=ae(this,e,t,0))&&void 0!==n?n:J)===X)return;const i=this._$AH,a=e===J&&i!==J||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==J&&(i===J||a);a&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class he{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ae(this,e)}}const me=I.litHtmlPolyfillSupport;null==me||me(ie,oe),(null!==(O=I.litHtmlVersions)&&void 0!==O?O:I.litHtmlVersions=[]).push("2.6.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var fe,pe;class ge extends z{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{var i,a;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t;let o=r._$litPart$;if(void 0===o){const e=null!==(a=null==n?void 0:n.renderBefore)&&void 0!==a?a:null;r._$litPart$=o=new oe(t.insertBefore(F(),e),e,void 0,null!=n?n:{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return X}}ge.finalized=!0,ge._$litElement$=!0,null===(fe=globalThis.litElementHydrateSupport)||void 0===fe||fe.call(globalThis,{LitElement:ge});const ve=globalThis.litElementPolyfillSupport;null==ve||ve({LitElement:ge}),(null!==(pe=globalThis.litElementVersions)&&void 0!==pe?pe:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const _e=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:i}=t;return{kind:n,elements:i,finisher(t){customElements.define(e,t)}}})(e,t)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,ye=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(n){n.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}};function be(e){return(t,n)=>void 0!==n?((e,t,n)=>{t.constructor.createProperty(n,e)})(e,t,n):ye(e,t)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function we(e){return be({...e,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var xe;null===(xe=window.HTMLSlotElement)||void 0===xe||xe.prototype.assignedElements;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ce={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},$e=e=>(...t)=>({_$litDirective$:e,values:t});class ke{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ee=$e(class extends ke{constructor(e){var t;if(super(e),e.type!==Ce.ATTRIBUTE||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var n,i;if(void 0===this.nt){this.nt=new Set,void 0!==e.strings&&(this.st=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(n=this.st)||void 0===n?void 0:n.has(e))&&this.nt.add(e);return this.render(t)}const a=e.element.classList;this.nt.forEach((e=>{e in t||(a.remove(e),this.nt.delete(e))}));for(const e in t){const n=!!t[e];n===this.nt.has(e)||(null===(i=this.st)||void 0===i?void 0:i.has(e))||(n?(a.add(e),this.nt.add(e)):(a.remove(e),this.nt.delete(e)))}return X}}),Se=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Me=e=>void 0===e.strings,Te={},Ae=(e,t=Te)=>e._$AH=t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,je=(e,t)=>{var n,i;const a=e._$AN;if(void 0===a)return!1;for(const e of a)null===(i=(n=e)._$AO)||void 0===i||i.call(n,t,!1),je(e,t);return!0},ze=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===(null==n?void 0:n.size))},Oe=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),De(t)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ie(e){void 0!==this._$AN?(ze(this),this._$AM=e,Oe(this)):this._$AM=e}function Pe(e,t=!1,n=0){const i=this._$AH,a=this._$AN;if(void 0!==a&&0!==a.size)if(t)if(Array.isArray(i))for(let e=n;e<i.length;e++)je(i[e],!1),ze(i[e]);else null!=i&&(je(i,!1),ze(i));else je(this,e)}const De=e=>{var t,n,i,a;e.type==Ce.CHILD&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=Pe),null!==(n=(a=e)._$AQ)&&void 0!==n||(a._$AQ=Ie))};class Re extends ke{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),Oe(this),this.isConnected=e._$AU}_$AO(e,t=!0){var n,i;e!==this.isConnected&&(this.isConnected=e,e?null===(n=this.reconnected)||void 0===n||n.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),t&&(je(this,e),ze(this))}setValue(e){if(Me(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ne=()=>new Le;class Le{}const Ue=new WeakMap,Fe=$e(class extends Re{render(e){return J}update(e,[t]){var n;const i=t!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=t,this.dt=null===(n=e.options)||void 0===n?void 0:n.host,this.rt(this.ct=e.element)),J}rt(e){var t;if("function"==typeof this.Y){const n=null!==(t=this.dt)&&void 0!==t?t:globalThis;let i=Ue.get(n);void 0===i&&(i=new WeakMap,Ue.set(n,i)),void 0!==i.get(this.Y)&&this.Y.call(this.dt,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.dt,e)}else this.Y.value=e}get lt(){var e,t,n;return"function"==typeof this.Y?null===(t=Ue.get(null!==(e=this.dt)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.Y):null===(n=this.Y)||void 0===n?void 0:n.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),He=$e(class extends ke{constructor(e){var t;if(super(e),e.type!==Ce.ATTRIBUTE||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,n)=>{const i=e[n];return null==i?t:t+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(e,[t]){const{style:n}=e.element;if(void 0===this.vt){this.vt=new Set;for(const e in t)this.vt.add(e);return this.render(t)}this.vt.forEach((e=>{null==t[e]&&(this.vt.delete(e),e.includes("-")?n.removeProperty(e):n[e]="")}));for(const e in t){const i=t[e];null!=i&&(this.vt.add(e),e.includes("-")?n.setProperty(e,i):n[e]=i)}return X}});
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var qe="object"==typeof global&&global&&global.Object===Object&&global,Ve="object"==typeof self&&self&&self.Object===Object&&self,We=qe||Ve||Function("return this")(),Be=function(){return We.Date.now()},Ye=/\s/;var Qe=/^\s+/;function Ge(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ye.test(e.charAt(t)););return t}(e)+1).replace(Qe,""):e}var Ke=We.Symbol,Xe=Object.prototype,Je=Xe.hasOwnProperty,et=Xe.toString,tt=Ke?Ke.toStringTag:void 0;var nt=Object.prototype.toString;var it="[object Null]",at="[object Undefined]",rt=Ke?Ke.toStringTag:void 0;function ot(e){return null==e?void 0===e?at:it:rt&&rt in Object(e)?function(e){var t=Je.call(e,tt),n=e[tt];try{e[tt]=void 0;var i=!0}catch(e){}var a=et.call(e);return i&&(t?e[tt]=n:delete e[tt]),a}(e):function(e){return nt.call(e)}(e)}function st(e){return null!=e&&"object"==typeof e}var ct="[object Symbol]";function lt(e){return"symbol"==typeof e||st(e)&&ot(e)==ct}var dt=NaN,ut=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,ft=parseInt;function pt(e){if("number"==typeof e)return e;if(lt(e))return dt;if(Ze(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ze(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ge(e);var n=ht.test(e);return n||mt.test(e)?ft(e.slice(2),n?2:8):ut.test(e)?dt:+e}var gt="Expected a function",vt=Math.max,_t=Math.min;function yt(e,t,n){var i,a,r,o,s,c,l=0,d=!1,u=!1,h=!0;if("function"!=typeof e)throw new TypeError(gt);function m(t){var n=i,r=a;return i=a=void 0,l=t,o=e.apply(r,n)}function f(e){var n=e-c;return void 0===c||n>=t||n<0||u&&e-l>=r}function p(){var e=Be();if(f(e))return g(e);s=setTimeout(p,function(e){var n=t-(e-c);return u?_t(n,r-(e-l)):n}(e))}function g(e){return s=void 0,h&&i?m(e):(i=a=void 0,o)}function v(){var e=Be(),n=f(e);if(i=arguments,a=this,c=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(p,t),d?m(e):o}(c);if(u)return clearTimeout(s),s=setTimeout(p,t),m(c)}return void 0===s&&(s=setTimeout(p,t)),o}return t=pt(t)||0,Ze(n)&&(d=!!n.leading,r=(u="maxWait"in n)?vt(pt(n.maxWait)||0,t):r,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=a=s=void 0},v.flush=function(){return void 0===s?o:g(Be())},v}var bt="Expected a function";function wt(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(bt);return Ze(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),yt(e,t,{leading:i,maxWait:t,trailing:a})}const xt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ct=(()=>{if("undefined"==typeof document)return!1;const e=xt[0],t={};for(const n of xt){const i=n?.[1];if(i in document){for(const[i,a]of n.entries())t[e[i]]=a;return t}}return!1})(),$t={change:Ct.fullscreenchange,error:Ct.fullscreenerror};let kt={request:(e=document.documentElement,t)=>new Promise(((n,i)=>{const a=()=>{kt.off("change",a),n()};kt.on("change",a);const r=e[Ct.requestFullscreen](t);r instanceof Promise&&r.then(a).catch(i)})),exit:()=>new Promise(((e,t)=>{if(!kt.isFullscreen)return void e();const n=()=>{kt.off("change",n),e()};kt.on("change",n);const i=document[Ct.exitFullscreen]();i instanceof Promise&&i.then(n).catch(t)})),toggle:(e,t)=>kt.isFullscreen?kt.exit():kt.request(e,t),onchange(e){kt.on("change",e)},onerror(e){kt.on("error",e)},on(e,t){const n=$t[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=$t[e];n&&document.removeEventListener(n,t,!1)},raw:Ct};Object.defineProperties(kt,{isFullscreen:{get:()=>Boolean(document[Ct.fullscreenElement])},element:{enumerable:!0,get:()=>document[Ct.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[Ct.fullscreenEnabled])}}),Ct||(kt={isEnabled:!1});var Et,St,Mt=kt;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),i={};for(const e of n)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Et||(Et={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(St||(St={}));const Tt=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),At=e=>{switch(typeof e){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return isNaN(e)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(e)?Tt.array:null===e?Tt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Tt.promise:"undefined"!=typeof Map&&e instanceof Map?Tt.map:"undefined"!=typeof Set&&e instanceof Set?Tt.set:"undefined"!=typeof Date&&e instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},jt=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zt extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},i=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,i=0;for(;i<a.path.length;){const n=a.path[i];i===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}zt.create=e=>new zt(e);const Ot=(e,t)=>{let n;switch(e.code){case jt.invalid_type:n=e.received===Tt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case jt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case jt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case jt.invalid_union:n="Invalid input";break;case jt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case jt.invalid_enum_value:n=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case jt.invalid_arguments:n="Invalid function arguments";break;case jt.invalid_return_type:n="Invalid function return type";break;case jt.invalid_date:n="Invalid date";break;case jt.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case jt.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case jt.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case jt.custom:n="Invalid input";break;case jt.invalid_intersection_types:n="Intersection results could not be merged";break;case jt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case jt.not_finite:n="Number must be finite";break;default:n=t.defaultError,Et.assertNever(e)}return{message:n}};let It=Ot;function Pt(){return It}const Dt=e=>{const{data:t,path:n,errorMaps:i,issueData:a}=e,r=[...n,...a.path||[]],o={...a,path:r};let s="";const c=i.filter((e=>!!e)).slice().reverse();for(const e of c)s=e(o,{data:t,defaultError:s}).message;return{...a,path:r,message:a.message||s}};function Rt(e,t){const n=Dt({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Pt(),Ot].filter((e=>!!e))});e.common.issues.push(n)}class Nt{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if("aborted"===i.status)return Lt;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return Nt.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:t,value:a}=i;if("aborted"===t.status)return Lt;if("aborted"===a.status)return Lt;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(void 0!==a.value||i.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}const Lt=Object.freeze({status:"aborted"}),Ut=e=>({status:"dirty",value:e}),Ft=e=>({status:"valid",value:e}),Ht=e=>"aborted"===e.status,Zt=e=>"dirty"===e.status,qt=e=>"valid"===e.status,Vt=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Wt;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Wt||(Wt={}));class Bt{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yt=(e,t)=>{if(qt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new zt(e.common.issues);return this._error=t,this._error}}};function Qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:a}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=i?i:t.defaultError}:{message:null!=n?n:t.defaultError},description:a}}class Gt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return At(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nt,ctx:{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Vt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const i={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Yt(i,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Vt(i)?i:Promise.resolve(i));return Yt(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,i)=>{const a=e(t),r=()=>i.addIssue({code:jt.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(r(),!1))):!!a||(r(),!1)}))}refinement(e,t){return this._refinement(((n,i)=>!!e(n)||(i.addIssue("function"==typeof t?t(n,i):t),!1)))}_refinement(e){return new Ln({schema:this,typeName:Gn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Un.create(this,this._def)}nullable(){return Fn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this,this._def)}promise(){return Nn.create(this,this._def)}or(e){return Cn.create([this,e],this._def)}and(e){return Sn.create(this,e,this._def)}transform(e){return new Ln({...Qt(this._def),schema:this,typeName:Gn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Hn({...Qt(this._def),innerType:this,defaultValue:t,typeName:Gn.ZodDefault})}brand(){return new Wn({typeName:Gn.ZodBranded,type:this,...Qt(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Zn({...Qt(this._def),innerType:this,catchValue:t,typeName:Gn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Bn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kt=/^c[^\s-]{8,}$/i,Xt=/^[a-z][a-z0-9]*$/,Jt=/[0-9A-HJKMNP-TV-Z]{26}/,en=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,tn=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,nn=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,an=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,rn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;function on(e,t){return!("v4"!==t&&t||!an.test(e))||!("v6"!==t&&t||!rn.test(e))}class sn extends Gt{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:jt.invalid_string,...Wt.errToObj(n)}),this.nonempty=e=>this.min(1,Wt.errToObj(e)),this.trim=()=>new sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Tt.string){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.string,received:t.parsedType}),Lt}const t=new Nt;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const i=e.data.length>a.value,r=e.data.length<a.value;(i||r)&&(n=this._getOrReturnCtx(e,n),i?Rt(n,{code:jt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&Rt(n,{code:jt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)tn.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"email",code:jt.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)nn.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"emoji",code:jt.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)en.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"uuid",code:jt.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Kt.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"cuid",code:jt.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)Xt.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"cuid2",code:jt.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)Jt.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"ulid",code:jt.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(i){n=this._getOrReturnCtx(e,n),Rt(n,{validation:"url",code:jt.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"regex",code:jt.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){((i=a).precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):0===i.precision?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else"ip"===a.kind?on(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Rt(n,{validation:"ip",code:jt.invalid_string,message:a.message}),t.dirty()):Et.assertNever(a);var i;return{status:t.value,value:e.data}}_addCheck(e){return new sn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wt.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...Wt.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Wt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Wt.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Wt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Wt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Wt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Wt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Wt.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function cn(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=n>i?n:i;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}sn.create=e=>{var t;return new sn({checks:[],typeName:Gn.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Qt(e)})};class ln extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Tt.number){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.number,received:t.parsedType}),Lt}let t;const n=new Nt;for(const i of this._def.checks)if("int"===i.kind)Et.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==cn(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.not_finite,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wt.toString(t))}setLimit(e,t,n,i){return new ln({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wt.toString(i)}]})}_addCheck(e){return new ln({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Wt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Et.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ln.create=e=>new ln({checks:[],typeName:Gn.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Qt(e)});class dn extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Tt.bigint){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.bigint,received:t.parsedType}),Lt}let t;const n=new Nt;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Rt(t,{code:jt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wt.toString(t))}setLimit(e,t,n,i){return new dn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wt.toString(i)}]})}_addCheck(e){return new dn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}dn.create=e=>{var t;return new dn({checks:[],typeName:Gn.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Qt(e)})};class un extends Gt{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Tt.boolean){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.boolean,received:t.parsedType}),Lt}return Ft(e.data)}}un.create=e=>new un({typeName:Gn.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Qt(e)});class hn extends Gt{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Tt.date){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.date,received:t.parsedType}),Lt}if(isNaN(e.data.getTime())){return Rt(this._getOrReturnCtx(e),{code:jt.invalid_date}),Lt}const t=new Nt;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),Rt(n,{code:jt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):Et.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Wt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Wt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}hn.create=e=>new hn({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Gn.ZodDate,...Qt(e)});class mn extends Gt{_parse(e){if(this._getType(e)!==Tt.symbol){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.symbol,received:t.parsedType}),Lt}return Ft(e.data)}}mn.create=e=>new mn({typeName:Gn.ZodSymbol,...Qt(e)});class fn extends Gt{_parse(e){if(this._getType(e)!==Tt.undefined){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.undefined,received:t.parsedType}),Lt}return Ft(e.data)}}fn.create=e=>new fn({typeName:Gn.ZodUndefined,...Qt(e)});class pn extends Gt{_parse(e){if(this._getType(e)!==Tt.null){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.null,received:t.parsedType}),Lt}return Ft(e.data)}}pn.create=e=>new pn({typeName:Gn.ZodNull,...Qt(e)});class gn extends Gt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ft(e.data)}}gn.create=e=>new gn({typeName:Gn.ZodAny,...Qt(e)});class vn extends Gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ft(e.data)}}vn.create=e=>new vn({typeName:Gn.ZodUnknown,...Qt(e)});class _n extends Gt{_parse(e){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.never,received:t.parsedType}),Lt}}_n.create=e=>new _n({typeName:Gn.ZodNever,...Qt(e)});class yn extends Gt{_parse(e){if(this._getType(e)!==Tt.undefined){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.void,received:t.parsedType}),Lt}return Ft(e.data)}}yn.create=e=>new yn({typeName:Gn.ZodVoid,...Qt(e)});class bn extends Gt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Tt.array)return Rt(t,{code:jt.invalid_type,expected:Tt.array,received:t.parsedType}),Lt;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(Rt(t,{code:e?jt.too_big:jt.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(Rt(t,{code:jt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(Rt(t,{code:jt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>i.type._parseAsync(new Bt(t,e,t.path,n))))).then((e=>Nt.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>i.type._parseSync(new Bt(t,e,t.path,n))));return Nt.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new bn({...this._def,minLength:{value:e,message:Wt.toString(t)}})}max(e,t){return new bn({...this._def,maxLength:{value:e,message:Wt.toString(t)}})}length(e,t){return new bn({...this._def,exactLength:{value:e,message:Wt.toString(t)}})}nonempty(e){return this.min(1,e)}}function wn(e){if(e instanceof xn){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Un.create(wn(i))}return new xn({...e._def,shape:()=>t})}return e instanceof bn?new bn({...e._def,type:wn(e.element)}):e instanceof Un?Un.create(wn(e.unwrap())):e instanceof Fn?Fn.create(wn(e.unwrap())):e instanceof Mn?Mn.create(e.items.map((e=>wn(e)))):e}bn.create=(e,t)=>new bn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Gn.ZodArray,...Qt(t)});class xn extends Gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Et.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Tt.object){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.object,received:t.parsedType}),Lt}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),r=[];if(!(this._def.catchall instanceof _n&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||r.push(e);const o=[];for(const e of a){const t=i[e],a=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new Bt(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof _n){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of r)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)r.length>0&&(Rt(n,{code:jt.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const i=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Bt(n,i,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Nt.mergeObjectSync(t,e))):Nt.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Wt.errToObj,new xn({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var i,a,r,o;const s=null!==(r=null===(a=(i=this._def).errorMap)||void 0===a?void 0:a.call(i,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Wt.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Gn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const t={};return Et.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new xn({...this._def,shape:()=>t})}omit(e){const t={};return Et.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new xn({...this._def,shape:()=>t})}deepPartial(){return wn(this)}partial(e){const t={};return Et.objectKeys(this.shape).forEach((n=>{const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()})),new xn({...this._def,shape:()=>t})}required(e){const t={};return Et.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Un;)e=e._def.innerType;t[n]=e}})),new xn({...this._def,shape:()=>t})}keyof(){return Pn(Et.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:_n.create(),typeName:Gn.ZodObject,...Qt(t)}),xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:_n.create(),typeName:Gn.ZodObject,...Qt(t)}),xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:_n.create(),typeName:Gn.ZodObject,...Qt(t)});class Cn extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new zt(e.ctx.common.issues)));return Rt(t,{code:jt.invalid_union,unionErrors:n}),Lt}));{let e;const i=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=i.map((e=>new zt(e)));return Rt(t,{code:jt.invalid_union,unionErrors:a}),Lt}}get options(){return this._def.options}}Cn.create=(e,t)=>new Cn({options:e,typeName:Gn.ZodUnion,...Qt(t)});const $n=e=>e instanceof On?$n(e.schema):e instanceof Ln?$n(e.innerType()):e instanceof In?[e.value]:e instanceof Dn?e.options:e instanceof Rn?Object.keys(e.enum):e instanceof Hn?$n(e._def.innerType):e instanceof fn?[void 0]:e instanceof pn?[null]:null;class kn extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.object)return Rt(t,{code:jt.invalid_type,expected:Tt.object,received:t.parsedType}),Lt;const n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Rt(t,{code:jt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const n of t){const t=$n(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of t){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,n)}}return new kn({typeName:Gn.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Qt(n)})}}function En(e,t){const n=At(e),i=At(t);if(e===t)return{valid:!0,data:e};if(n===Tt.object&&i===Tt.object){const n=Et.objectKeys(t),i=Et.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of i){const i=En(e[n],t[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===Tt.array&&i===Tt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const a=En(e[i],t[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Tt.date&&i===Tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Sn extends Gt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if(Ht(e)||Ht(i))return Lt;const a=En(e.value,i.value);return a.valid?((Zt(e)||Zt(i))&&t.dirty(),{status:t.value,value:a.data}):(Rt(n,{code:jt.invalid_intersection_types}),Lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>i(e,t))):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Sn.create=(e,t,n)=>new Sn({left:e,right:t,typeName:Gn.ZodIntersection,...Qt(n)});class Mn extends Gt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.array)return Rt(n,{code:jt.invalid_type,expected:Tt.array,received:n.parsedType}),Lt;if(n.data.length<this._def.items.length)return Rt(n,{code:jt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&n.data.length>this._def.items.length&&(Rt(n,{code:jt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map(((e,t)=>{const i=this._def.items[t]||this._def.rest;return i?i._parse(new Bt(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(i).then((e=>Nt.mergeArray(t,e))):Nt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Mn({...this._def,rest:e})}}Mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:e,typeName:Gn.ZodTuple,rest:null,...Qt(t)})};class Tn extends Gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.object)return Rt(n,{code:jt.invalid_type,expected:Tt.object,received:n.parsedType}),Lt;const i=[],a=this._def.keyType,r=this._def.valueType;for(const e in n.data)i.push({key:a._parse(new Bt(n,e,n.path,e)),value:r._parse(new Bt(n,n.data[e],n.path,e))});return n.common.async?Nt.mergeObjectAsync(t,i):Nt.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return new Tn(t instanceof Gt?{keyType:e,valueType:t,typeName:Gn.ZodRecord,...Qt(n)}:{keyType:sn.create(),valueType:e,typeName:Gn.ZodRecord,...Qt(t)})}}class An extends Gt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.map)return Rt(n,{code:jt.invalid_type,expected:Tt.map,received:n.parsedType}),Lt;const i=this._def.keyType,a=this._def.valueType,r=[...n.data.entries()].map((([e,t],r)=>({key:i._parse(new Bt(n,e,n.path,[r,"key"])),value:a._parse(new Bt(n,t,n.path,[r,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of r){const i=await n.key,a=await n.value;if("aborted"===i.status||"aborted"===a.status)return Lt;"dirty"!==i.status&&"dirty"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of r){const i=n.key,a=n.value;if("aborted"===i.status||"aborted"===a.status)return Lt;"dirty"!==i.status&&"dirty"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}An.create=(e,t,n)=>new An({valueType:t,keyType:e,typeName:Gn.ZodMap,...Qt(n)});class jn extends Gt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.set)return Rt(n,{code:jt.invalid_type,expected:Tt.set,received:n.parsedType}),Lt;const i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(Rt(n,{code:jt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(Rt(n,{code:jt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const a=this._def.valueType;function r(e){const n=new Set;for(const i of e){if("aborted"===i.status)return Lt;"dirty"===i.status&&t.dirty(),n.add(i.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new Bt(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>r(e))):r(o)}min(e,t){return new jn({...this._def,minSize:{value:e,message:Wt.toString(t)}})}max(e,t){return new jn({...this._def,maxSize:{value:e,message:Wt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}jn.create=(e,t)=>new jn({valueType:e,minSize:null,maxSize:null,typeName:Gn.ZodSet,...Qt(t)});class zn extends Gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.function)return Rt(t,{code:jt.invalid_type,expected:Tt.function,received:t.parsedType}),Lt;function n(e,n){return Dt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pt(),Ot].filter((e=>!!e)),issueData:{code:jt.invalid_arguments,argumentsError:n}})}function i(e,n){return Dt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pt(),Ot].filter((e=>!!e)),issueData:{code:jt.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},r=t.data;return this._def.returns instanceof Nn?Ft((async(...e)=>{const t=new zt([]),o=await this._def.args.parseAsync(e,a).catch((i=>{throw t.addIssue(n(e,i)),t})),s=await r(...o),c=await this._def.returns._def.type.parseAsync(s,a).catch((e=>{throw t.addIssue(i(s,e)),t}));return c})):Ft(((...e)=>{const t=this._def.args.safeParse(e,a);if(!t.success)throw new zt([n(e,t.error)]);const o=r(...t.data),s=this._def.returns.safeParse(o,a);if(!s.success)throw new zt([i(o,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zn({...this._def,args:Mn.create(e).rest(vn.create())})}returns(e){return new zn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new zn({args:e||Mn.create([]).rest(vn.create()),returns:t||vn.create(),typeName:Gn.ZodFunction,...Qt(n)})}}class On extends Gt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}On.create=(e,t)=>new On({getter:e,typeName:Gn.ZodLazy,...Qt(t)});class In extends Gt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Rt(t,{received:t.data,code:jt.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Pn(e,t){return new Dn({values:e,typeName:Gn.ZodEnum,...Qt(t)})}In.create=(e,t)=>new In({value:e,typeName:Gn.ZodLiteral,...Qt(t)});class Dn extends Gt{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Rt(t,{expected:Et.joinValues(n),received:t.parsedType,code:jt.invalid_type}),Lt}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Rt(t,{received:t.data,code:jt.invalid_enum_value,options:n}),Lt}return Ft(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Dn.create(e)}exclude(e){return Dn.create(this.options.filter((t=>!e.includes(t))))}}Dn.create=Pn;class Rn extends Gt{_parse(e){const t=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Tt.string&&n.parsedType!==Tt.number){const e=Et.objectValues(t);return Rt(n,{expected:Et.joinValues(e),received:n.parsedType,code:jt.invalid_type}),Lt}if(-1===t.indexOf(e.data)){const e=Et.objectValues(t);return Rt(n,{received:n.data,code:jt.invalid_enum_value,options:e}),Lt}return Ft(e.data)}get enum(){return this._def.values}}Rn.create=(e,t)=>new Rn({values:e,typeName:Gn.ZodNativeEnum,...Qt(t)});class Nn extends Gt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.promise&&!1===t.common.async)return Rt(t,{code:jt.invalid_type,expected:Tt.promise,received:t.parsedType}),Lt;const n=t.parsedType===Tt.promise?t.data:Promise.resolve(t.data);return Ft(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Nn.create=(e,t)=>new Nn({type:e,typeName:Gn.ZodPromise,...Qt(t)});class Ln extends Gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if("preprocess"===i.type){const e=i.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const a={addIssue:e=>{Rt(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===i.type){const e=e=>{const t=i.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?Lt:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Lt:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qt(e))return e;const r=i.transform(e.value,a);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>qt(e)?Promise.resolve(i.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}Et.assertNever(i)}}Ln.create=(e,t,n)=>new Ln({schema:e,typeName:Gn.ZodEffects,effect:t,...Qt(n)}),Ln.createWithPreprocess=(e,t,n)=>new Ln({schema:t,effect:{type:"preprocess",transform:e},typeName:Gn.ZodEffects,...Qt(n)});class Un extends Gt{_parse(e){return this._getType(e)===Tt.undefined?Ft(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Un.create=(e,t)=>new Un({innerType:e,typeName:Gn.ZodOptional,...Qt(t)});class Fn extends Gt{_parse(e){return this._getType(e)===Tt.null?Ft(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fn.create=(e,t)=>new Fn({innerType:e,typeName:Gn.ZodNullable,...Qt(t)});class Hn extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Hn.create=(e,t)=>new Hn({innerType:e,typeName:Gn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Qt(t)});class Zn extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vt(i)?i.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new zt(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new zt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zn.create=(e,t)=>new Zn({innerType:e,typeName:Gn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Qt(t)});class qn extends Gt{_parse(e){if(this._getType(e)!==Tt.nan){const t=this._getOrReturnCtx(e);return Rt(t,{code:jt.invalid_type,expected:Tt.nan,received:t.parsedType}),Lt}return{status:"valid",value:e.data}}}qn.create=e=>new qn({typeName:Gn.ZodNaN,...Qt(e)});const Vn=Symbol("zod_brand");class Wn extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bn extends Gt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Lt:"dirty"===e.status?(t.dirty(),Ut(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Lt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Bn({in:e,out:t,typeName:Gn.ZodPipeline})}}const Yn=(e,t={},n)=>e?gn.create().superRefine(((i,a)=>{var r,o;if(!e(i)){const e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,s=null===(o=null!==(r=e.fatal)&&void 0!==r?r:n)||void 0===o||o,c="string"==typeof e?{message:e}:e;a.addIssue({code:"custom",...c,fatal:s})}})):gn.create(),Qn={object:xn.lazycreate};var Gn;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(Gn||(Gn={}));const Kn=sn.create,Xn=ln.create,Jn=qn.create,ei=dn.create,ti=un.create,ni=hn.create,ii=mn.create,ai=fn.create,ri=pn.create,oi=gn.create,si=vn.create,ci=_n.create,li=yn.create,di=bn.create,ui=xn.create,hi=xn.strictCreate,mi=Cn.create,fi=kn.create,pi=Sn.create,gi=Mn.create,vi=Tn.create,_i=An.create,yi=jn.create,bi=zn.create,wi=On.create,xi=In.create,Ci=Dn.create,$i=Rn.create,ki=Nn.create,Ei=Ln.create,Si=Un.create,Mi=Fn.create,Ti=Ln.createWithPreprocess,Ai=Bn.create,ji={string:e=>sn.create({...e,coerce:!0}),number:e=>ln.create({...e,coerce:!0}),boolean:e=>un.create({...e,coerce:!0}),bigint:e=>dn.create({...e,coerce:!0}),date:e=>hn.create({...e,coerce:!0})},zi=Lt;var Oi=Object.freeze({__proto__:null,defaultErrorMap:Ot,setErrorMap:function(e){It=e},getErrorMap:Pt,makeIssue:Dt,EMPTY_PATH:[],addIssueToContext:Rt,ParseStatus:Nt,INVALID:Lt,DIRTY:Ut,OK:Ft,isAborted:Ht,isDirty:Zt,isValid:qt,isAsync:Vt,get util(){return Et},get objectUtil(){return St},ZodParsedType:Tt,getParsedType:At,ZodType:Gt,ZodString:sn,ZodNumber:ln,ZodBigInt:dn,ZodBoolean:un,ZodDate:hn,ZodSymbol:mn,ZodUndefined:fn,ZodNull:pn,ZodAny:gn,ZodUnknown:vn,ZodNever:_n,ZodVoid:yn,ZodArray:bn,ZodObject:xn,ZodUnion:Cn,ZodDiscriminatedUnion:kn,ZodIntersection:Sn,ZodTuple:Mn,ZodRecord:Tn,ZodMap:An,ZodSet:jn,ZodFunction:zn,ZodLazy:On,ZodLiteral:In,ZodEnum:Dn,ZodNativeEnum:Rn,ZodPromise:Nn,ZodEffects:Ln,ZodTransformer:Ln,ZodOptional:Un,ZodNullable:Fn,ZodDefault:Hn,ZodCatch:Zn,ZodNaN:qn,BRAND:Vn,ZodBranded:Wn,ZodPipeline:Bn,custom:Yn,Schema:Gt,ZodSchema:Gt,late:Qn,get ZodFirstPartyTypeKind(){return Gn},coerce:ji,any:oi,array:di,bigint:ei,boolean:ti,date:ni,discriminatedUnion:fi,effect:Ei,enum:Ci,function:bi,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Yn((t=>t instanceof e),t),intersection:pi,lazy:wi,literal:xi,map:_i,nan:Jn,nativeEnum:$i,never:ci,null:ri,nullable:Mi,number:Xn,object:ui,oboolean:()=>ti().optional(),onumber:()=>Xn().optional(),optional:Si,ostring:()=>Kn().optional(),pipeline:Ai,preprocess:Ti,promise:ki,record:vi,set:yi,strictObject:hi,string:Kn,symbol:ii,transformer:Ei,tuple:gi,undefined:ai,union:mi,unknown:si,void:li,NEVER:zi,ZodIssueCode:jt,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:zt});const Ii="https://github.com/dermotduffy/frigate-hass-card",Pi=`${Ii}#troubleshooting`,Di="cameras",Ri=`${Di}.#.camera_entity`,Ni=`${Di}.#.frigate.camera_name`,Li=`${Di}.#.frigate.client_id`,Ui=`${Di}.#.frigate.labels`,Fi=`${Di}.#.frigate.url`,Hi=`${Di}.#.frigate.zones`,Zi=`${Di}.#.go2rtc.modes`,qi=`${Di}.#.go2rtc.stream`,Vi=`${Di}.#.hide`,Wi=`${Di}.#.icon`,Bi=`${Di}.#.id`,Yi=`${Di}.#.image.refresh_seconds`,Qi=`${Di}.#.image.url`,Gi=`${Di}.#.motioneye.images.directory_pattern`,Ki=`${Di}.#.motioneye.images.file_pattern`,Xi=`${Di}.#.motioneye.movies.directory_pattern`,Ji=`${Di}.#.motioneye.movies.file_pattern`,ea=`${Di}.#.motioneye.url`,ta=`${Di}.#.title`,na=`${Di}.#.webrtc_card.entity`,ia=`${Di}.#.webrtc_card.url`,aa=`${Di}.#.live_provider`,ra=`${Di}.#.dependencies.cameras`,oa=`${Di}.#.dependencies.all_cameras`,sa=`${Di}.#.triggers.motion`,ca=`${Di}.#.triggers.occupancy`,la=`${Di}.#.triggers.entities`,da="cameras_global",ua=`${da}.image`,ha=`${da}.jsmpeg`,ma=`${da}.webrtc_card`,fa=`${da}.triggers.occupancy`,pa=`${da}.image.refresh_seconds`,ga="view",va=`${ga}.camera_select`,_a=`${ga}.dark_mode`,ya=`${ga}.default`,ba=`${ga}.timeout_seconds`,wa=`${ga}.update_cycle_camera`,xa=`${ga}.update_force`,Ca=`${ga}.update_seconds`,$a=`${ga}.scan`,ka=`${$a}.enabled`,Ea=`${$a}.show_trigger_status`,Sa=`${$a}.untrigger_reset`,Ma=`${$a}.untrigger_seconds`,Ta="media_gallery",Aa=`${Ta}.controls.filter.mode`,ja=`${Ta}.controls.thumbnails.show_details`,za=`${Ta}.controls.thumbnails.show_download_control`,Oa=`${Ta}.controls.thumbnails.show_favorite_control`,Ia=`${Ta}.controls.thumbnails.show_timeline_control`,Pa=`${Ta}.controls.thumbnails.size`,Da="media_viewer",Ra=`${Da}.auto_play`,Na=`${Da}.auto_pause`,La=`${Da}.auto_mute`,Ua=`${Da}.auto_unmute`,Fa=`${Da}.draggable`,Ha=`${Da}.lazy_load`,Za=`${Da}.snapshot_click_plays_clip`,qa=`${Da}.transition_effect`,Va=`${Da}.controls.next_previous.style`,Wa=`${Da}.controls.next_previous.size`,Ba=`${Da}.controls.thumbnails.mode`,Ya=`${Da}.controls.thumbnails.show_details`,Qa=`${Da}.controls.thumbnails.show_download_control`,Ga=`${Da}.controls.thumbnails.show_favorite_control`,Ka=`${Da}.controls.thumbnails.show_timeline_control`,Xa=`${Da}.controls.thumbnails.size`,Ja=`${Da}.controls.timeline.clustering_threshold`,er=`${Da}.controls.timeline.media`,tr=`${Da}.controls.timeline.mode`,nr=`${Da}.controls.timeline.show_recordings`,ir=`${Da}.controls.timeline.window_seconds`,ar=`${Da}.controls.title.mode`,rr=`${Da}.controls.title.duration_seconds`,or=`${Da}.layout.fit`,sr=`${Da}.layout.position.x`,cr=`${Da}.layout.position.y`,lr="live",dr=`${lr}.auto_play`,ur=`${lr}.auto_pause`,hr=`${lr}.auto_mute`,mr=`${lr}.auto_unmute`,fr=`${lr}.controls.next_previous.style`,pr=`${lr}.controls.next_previous.size`,gr=`${lr}.controls.thumbnails.media`,vr=`${lr}.controls.thumbnails.mode`,_r=`${lr}.controls.thumbnails.size`,yr=`${lr}.controls.thumbnails.show_details`,br=`${lr}.controls.thumbnails.show_download_control`,wr=`${lr}.controls.thumbnails.show_favorite_control`,xr=`${lr}.controls.thumbnails.show_timeline_control`,Cr=`${lr}.control s.timeline.clustering_threshold`,$r=`${lr}.controls.timeline.media`,kr=`${lr}.controls.timeline.mode`,Er=`${lr}.controls.timeline.show_recordings`,Sr=`${lr}.controls.timeline.window_seconds`,Mr=`${lr}.controls.title.mode`,Tr=`${lr}.controls.title.duration_seconds`,Ar=`${lr}.layout.fit`,jr=`${lr}.layout.position.x`,zr=`${lr}.layout.position.y`,Or=`${lr}.draggable`,Ir=`${lr}.lazy_load`,Pr=`${lr}.lazy_unload`,Dr=`${lr}.preload`,Rr=`${lr}.transition_effect`,Nr=`${lr}.show_image_during_load`,Lr="image",Ur=`${Lr}.layout.fit`,Fr=`${Lr}.layout.position.x`,Hr=`${Lr}.layout.position.y`,Zr=`${Lr}.mode`,qr=`${Lr}.refresh_seconds`,Vr=`${Lr}.url`,Wr="timeline",Br=`${Wr}.window_seconds`,Yr=`${Wr}.clustering_threshold`,Qr=`${Wr}.media`,Gr=`${Wr}.show_recordings`,Kr=`${Wr}.controls.thumbnails.mode`,Xr=`${Wr}.controls.thumbnails.size`,Jr=`${Wr}.controls.thumbnails.show_details`,eo=`${Wr}.controls.thumbnails.show_download_control`,to=`${Wr}.controls.thumbnails.show_favorite_control`,no=`${Wr}.controls.thumbnails.show_timeline_control`,io="menu",ao=`${io}.alignment`,ro=`${io}.position`,oo=`${io}.style`,so=`${io}.button_size`,co=`${io}.buttons`,lo=`${io}.buttons.cameras`,uo=`${io}.buttons.clips`,ho=`${io}.buttons.download`,mo=`${io}.buttons.frigate`,fo=`${io}.buttons.camera_ui`,po=`${io}.buttons.fullscreen`,go=`${io}.buttons.image`,vo=`${io}.buttons.live`,_o=`${io}.buttons.media_player`,yo=`${io}.buttons.snapshots`,bo=`${io}.buttons.timeline`,wo="dimensions",xo=`${wo}.aspect_ratio`,Co=`${wo}.aspect_ratio_mode`,$o="overrides",ko="performance",Eo=`${ko}.features.animated_progress_indicator`,So=`${ko}.features.media_chunk_size`,Mo=`${ko}.profile`,To=`${ko}.style.box_shadow`,Ao=`${ko}.style.border_radius`,jo=50,zo=1e3;function Oo(e){if(e instanceof Oi.ZodDefault)return Oo(e.removeDefault());if(e instanceof Oi.ZodObject){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Oi.ZodOptional.create(Oo(i))}return new Oi.ZodObject({...e._def,shape:()=>t})}return e instanceof Oi.ZodArray?Oi.ZodArray.create(Oo(e.element)):e instanceof Oi.ZodOptional?Oi.ZodOptional.create(Oo(e.unwrap())):e instanceof Oi.ZodNullable?Oi.ZodNullable.create(Oo(e.unwrap())):e instanceof Oi.ZodTuple?Oi.ZodTuple.create(e.items.map((e=>Oo(e)))):e}function Io(e){const t=e.format();return Object.keys(t).filter((e=>!e.startsWith("_")))}const Po=20,Do=175,Ro=75,No=["live","clip","clips","snapshot","snapshots","recording","recordings","image","timeline"],Lo="live",Uo=["left","right","top","bottom"],Fo=Uo,Ho=100,Zo=["all","unselected","hidden","never"],qo=["all","selected","visible","never"];class Vo extends Error{constructor(e,t){super(e),this.context=t}}const Wo=Oi.object({confirmation:Oi.boolean().or(Oi.object({text:Oi.string().optional(),exemptions:Oi.object({user:Oi.string()}).array().optional()})).optional()}),Bo=Wo.extend({action:Oi.literal("toggle")}),Yo=Wo.extend({action:Oi.literal("call-service"),service:Oi.string(),service_data:Oi.object({}).passthrough().optional()}),Qo=Wo.extend({action:Oi.literal("navigate"),navigation_path:Oi.string()}),Go=Wo.extend({action:Oi.literal("url"),url_path:Oi.string()}),Ko=Wo.extend({action:Oi.literal("more-info")}),Xo=Wo.extend({action:Oi.literal("fire-dom-event")}).passthrough(),Jo=Wo.extend({action:Oi.literal("none")}),es=Xo.extend({action:Oi.literal("custom:frigate-card-action").transform((()=>"fire-dom-event")).or(Oi.literal("fire-dom-event")),card_id:Oi.string().optional()}),ts=["camera_ui","clip","clips","default","diagnostics","expand","download","fullscreen","image","live","menu_toggle","recording","recordings","snapshot","snapshots","timeline"],ns=es.extend({frigate_card_action:Oi.enum(ts)}),is=es.extend({frigate_card_action:Oi.literal("camera_select"),camera:Oi.string()}),as=es.extend({frigate_card_action:Oi.literal("live_substream_select"),camera:Oi.string()}),rs=es.extend({frigate_card_action:Oi.literal("media_player"),media_player:Oi.string(),media_player_action:Oi.enum(["play","stop"])}),os=Oi.union([ns,is,as,rs]),ss=Oi.union([Bo,Yo,Qo,Go,Ko,Jo,Xo,os]),cs=Oi.object({tap_action:ss.or(ss.array()).optional(),hold_action:ss.or(ss.array()).optional(),double_tap_action:ss.or(ss.array()).optional(),start_tap_action:ss.or(ss.array()).optional(),end_tap_action:ss.or(ss.array()).optional()}).passthrough(),ls=Oi.object({actions:cs.optional()}),ds=cs.extend({style:Oi.object({}).passthrough().optional(),title:Oi.string().nullable().optional()}),us=ds.extend({type:Oi.literal("state-badge"),entity:Oi.string()}),hs=ds.extend({type:Oi.literal("state-icon"),entity:Oi.string(),icon:Oi.string().optional(),state_color:Oi.boolean().default(!0)}),ms=ds.extend({type:Oi.literal("state-label"),entity:Oi.string(),attribute:Oi.string().optional(),prefix:Oi.string().optional(),suffix:Oi.string().optional()}),fs=ds.extend({type:Oi.literal("service-button"),title:Oi.string(),service:Oi.string(),service_data:Oi.object({}).passthrough().optional()}),ps=ds.extend({type:Oi.literal("icon"),icon:Oi.string(),entity:Oi.string().optional()}),gs=ds.extend({type:Oi.literal("image"),entity:Oi.string().optional(),image:Oi.string().optional(),camera_image:Oi.string().optional(),camera_view:Oi.string().optional(),state_image:Oi.object({}).passthrough().optional(),filter:Oi.string().optional(),state_filter:Oi.object({}).passthrough().optional(),aspect_ratio:Oi.string().optional()}),vs=Oi.object({entity:Oi.string(),state:Oi.string().optional(),state_not:Oi.string().optional()}).array(),_s=Oi.object({type:Oi.literal("conditional"),conditions:vs,elements:Oi.lazy((()=>Ns))}),ys=Oi.object({type:Oi.string().superRefine(((e,t)=>{e.match(/^custom:(?!frigate-card).+/)||t.addIssue({code:Oi.ZodIssueCode.custom,message:"Frigate-card custom elements must match specific schemas",fatal:!0})}))}).passthrough(),bs={refresh_seconds:1},ws=Oi.object({url:Oi.string().optional(),refresh_seconds:Oi.number().min(0).default(bs.refresh_seconds)}),xs=Oi.object({modes:Oi.enum(["webrtc","mse","mp4","mjpeg"]).array().optional(),stream:Oi.string().optional()}),Cs=ws,$s=Oi.object({entity:Oi.string().optional(),url:Oi.string().optional()}).passthrough(),ks=Oi.object({options:Oi.object({audio:Oi.boolean().optional(),video:Oi.boolean().optional(),pauseWhenHidden:Oi.boolean().optional(),disableGl:Oi.boolean().optional(),disableWebAssembly:Oi.boolean().optional(),preserveDrawingBuffer:Oi.boolean().optional(),progressive:Oi.boolean().optional(),throttled:Oi.boolean().optional(),chunkSize:Oi.number().optional(),maxAudioLag:Oi.number().optional(),videoBufferSize:Oi.number().optional(),audioBufferSize:Oi.number().optional()}).optional()}),Es={dependencies:{all_cameras:!1,cameras:[]},engine:"auto",frigate:{client_id:"frigate"},hide:!1,image:{refresh_seconds:1},live_provider:"auto",motioneye:{images:{directory_pattern:"%Y-%m-%d",file_pattern:"%H-%M-%S"},movies:{directory_pattern:"%Y-%m-%d",file_pattern:"%H-%M-%S"}},triggers:{motion:!1,occupancy:!0,entities:[]}},Ss=Oi.object({camera_entity:Oi.string().optional(),icon:Oi.string().optional(),title:Oi.string().optional(),hide:Oi.boolean().optional(),id:Oi.string().optional(),dependencies:Oi.object({all_cameras:Oi.boolean().default(Es.dependencies.all_cameras),cameras:Oi.string().array().default(Es.dependencies.cameras)}).default(Es.dependencies),triggers:Oi.object({motion:Oi.boolean().default(Es.triggers.motion),occupancy:Oi.boolean().default(Es.triggers.occupancy),entities:Oi.string().array().default(Es.triggers.entities)}).default(Es.triggers),engine:Oi.enum(["auto","frigate","generic","motioneye"]).default("auto"),frigate:Oi.object({url:Oi.string().optional(),client_id:Oi.string().default(Es.frigate.client_id),camera_name:Oi.string().optional(),labels:Oi.string().array().optional(),zones:Oi.string().array().optional()}).default(Es.frigate),motioneye:Oi.object({url:Oi.string().optional(),images:Oi.object({directory_pattern:Oi.string().includes("%").default(Es.motioneye.images.directory_pattern),file_pattern:Oi.string().includes("%").default(Es.motioneye.images.file_pattern)}).default(Es.motioneye.images),movies:Oi.object({directory_pattern:Oi.string().includes("%").default(Es.motioneye.movies.directory_pattern),file_pattern:Oi.string().includes("%").default(Es.motioneye.movies.file_pattern)}).default(Es.motioneye.movies)}).default(Es.motioneye),live_provider:Oi.enum(["auto","image","ha","jsmpeg","go2rtc","webrtc-card"]).default(Es.live_provider),go2rtc:xs.optional(),image:Cs.default(Es.image),jsmpeg:ks.optional(),webrtc_card:$s.optional()}).default(Es),Ms=Ss.array().min(1),Ts=Oi.object({enabled:Oi.boolean().default(!0).optional(),priority:Oi.number().min(0).max(100).default(50).optional(),alignment:Oi.enum(["matching","opposing"]).default("matching").optional(),icon:Oi.string().optional()}),As=Ts.merge(ps).extend({type:Oi.literal("custom:frigate-card-menu-icon")}),js=Ts.merge(hs).extend({type:Oi.literal("custom:frigate-card-menu-state-icon")}).merge(Ts),zs=ds.extend({entity:Oi.string().optional(),icon:Oi.string().optional(),state_color:Oi.boolean().default(!0),selected:Oi.boolean().default(!1),subtitle:Oi.string().optional(),enabled:Oi.boolean().default(!0)}),Os=Ts.merge(ps).extend({type:Oi.literal("custom:frigate-card-menu-submenu"),items:zs.array()}),Is=Ts.merge(hs).extend({type:Oi.literal("custom:frigate-card-menu-submenu-select"),options:Oi.record(zs.deepPartial()).optional()}),Ps=Oi.object({view:Oi.string().array().optional(),fullscreen:Oi.boolean().optional(),expand:Oi.boolean().optional(),camera:Oi.string().array().optional(),media_loaded:Oi.boolean().optional(),state:vs.optional(),media_query:Oi.string().optional()}),Ds=Oi.object({type:Oi.literal("custom:frigate-card-conditional"),conditions:Ps,elements:Oi.lazy((()=>Ns))}),Rs=Oi.preprocess((e=>{if(!e||"object"!=typeof e||!e.service)return e;const t={...e};return["left","right","up","down","zoom_in","zoom_out","home"].forEach((n=>{`data_${n}`in e&&!(`actions_${n}`in e)&&(t[`actions_${n}`]={tap_action:{action:"call-service",service:e.service,service_data:e[`data_${n}`]}},delete t[`data_${n}`])})),t}),Oi.object({type:Oi.literal("custom:frigate-card-ptz"),style:Oi.object({}).passthrough().optional(),orientation:Oi.enum(["vertical","horizontal"]).default("vertical").optional(),service:Oi.string().optional(),actions_left:cs.optional(),actions_right:cs.optional(),actions_up:cs.optional(),actions_down:cs.optional(),actions_zoom_in:cs.optional(),actions_zoom_out:cs.optional(),actions_home:cs.optional()})),Ns=Oi.union([js,As,Os,Is,Ds,Rs,us,hs,ms,fs,ps,gs,_s,ys]).array().optional(),Ls=Oi.object({fit:Oi.enum(["contain","cover","fill"]).optional(),position:Oi.object({x:Oi.number().min(0).max(100).optional(),y:Oi.number().min(0).max(100).optional()}).optional()}),Us={default:Lo,camera_select:"current",timeout_seconds:300,update_seconds:0,update_force:!1,update_cycle_camera:!1,dark_mode:"off",scan:{enabled:!1,show_trigger_status:!0,untrigger_seconds:0,untrigger_reset:!0}},Fs=Oi.object({default:Oi.enum(No).default(Us.default),camera_select:Oi.enum([...No,"current"]).default(Us.camera_select),timeout_seconds:Oi.number().default(Us.timeout_seconds),update_seconds:Oi.number().default(Us.update_seconds),update_force:Oi.boolean().default(Us.update_force),update_cycle_camera:Oi.boolean().default(Us.update_cycle_camera),update_entities:Oi.string().array().optional(),render_entities:Oi.string().array().optional(),dark_mode:Oi.enum(["on","off","auto"]).optional(),scan:Oi.object({enabled:Oi.boolean().default(Us.scan.enabled),show_trigger_status:Oi.boolean().default(Us.scan.show_trigger_status),untrigger_seconds:Oi.number().default(Us.scan.untrigger_seconds),untrigger_reset:Oi.boolean().default(Us.scan.untrigger_reset)}).default(Us.scan)}).merge(ls).default(Us),Hs={mode:"url",...bs},Zs=ws.extend({mode:Oi.enum(["screensaver","camera","url"]).default(Hs.mode),layout:Ls.optional()}).merge(ls).default(Hs),qs={mode:"right",size:100,show_details:!0,show_favorite_control:!0,show_timeline_control:!0,show_download_control:!0},Vs=Oi.object({mode:Oi.enum(["none","above","below","left","right"]).default(qs.mode),size:Oi.number().min(75).max(Do).default(qs.size),show_details:Oi.boolean().default(qs.show_details),show_favorite_control:Oi.boolean().default(qs.show_favorite_control),show_timeline_control:Oi.boolean().default(qs.show_timeline_control),show_download_control:Oi.boolean().default(qs.show_download_control)}),Ws={clustering_threshold:3,media:"all",window_seconds:3600,show_recordings:!0},Bs=Oi.enum(["all","clips","snapshots"]),Ys=Oi.object({clustering_threshold:Oi.number().optional().default(Ws.clustering_threshold),media:Bs.optional().default(Ws.media),window_seconds:Oi.number().min(60).max(86400).optional().default(Ws.window_seconds),show_recordings:Oi.boolean().optional().default(Ws.show_recordings)}),Qs={...Ws,mode:"none"},Gs=Ys.extend({mode:Oi.enum(["none","above","below"]).default(Qs.mode)}),Ks=Oi.object({style:Oi.enum(["none","chevrons","icons","thumbnails"]),size:Oi.number().min(Po)}),Xs=Oi.enum(["none","slide"]),Js=Oi.object({mode:Oi.enum(["none","popup-top-right","popup-top-left","popup-bottom-right","popup-bottom-left"]),duration_seconds:Oi.number().min(0).max(60)}),ec={auto_play:"all",auto_pause:"never",auto_mute:"all",auto_unmute:"never",preload:!1,lazy_load:!0,lazy_unload:"never",draggable:!0,transition_effect:"slide",show_image_during_load:!0,controls:{next_previous:{size:48,style:"chevrons"},thumbnails:{...qs,media:"all"},timeline:Qs,title:{mode:"popup-bottom-right",duration_seconds:2}}},tc=Vs.extend({media:Oi.enum(["all","clips","snapshots"]).default(ec.controls.thumbnails.media)}),nc=Oi.object({controls:Oi.object({next_previous:Ks.extend({style:Oi.enum(["none","chevrons","icons"]).default(ec.controls.next_previous.style),size:Ks.shape.size.default(ec.controls.next_previous.size)}).default(ec.controls.next_previous),thumbnails:tc.default(ec.controls.thumbnails),timeline:Gs.default(ec.controls.timeline),title:Js.extend({mode:Js.shape.mode.default(ec.controls.title.mode),duration_seconds:Js.shape.duration_seconds.default(ec.controls.title.duration_seconds)}).default(ec.controls.title)}).default(ec.controls),show_image_during_load:Oi.boolean().default(ec.show_image_during_load),layout:Ls.optional()}).merge(ls),ic=nc.extend({auto_play:Oi.enum(qo).default(ec.auto_play),auto_pause:Oi.enum(Zo).default(ec.auto_pause),auto_mute:Oi.enum(Zo).default(ec.auto_mute),auto_unmute:Oi.enum(qo).default(ec.auto_unmute),preload:Oi.boolean().default(ec.preload),lazy_load:Oi.boolean().default(ec.lazy_load),lazy_unload:Oi.enum(Zo).default(ec.lazy_unload),draggable:Oi.boolean().default(ec.draggable),transition_effect:Xs.default(ec.transition_effect)}).default(ec),ac={priority:50,enabled:!0},rc={priority:50,enabled:!1},oc={style:"hidden",position:"top",alignment:"left",buttons:{frigate:ac,cameras:ac,substreams:ac,live:ac,clips:ac,snapshots:ac,image:rc,timeline:ac,download:ac,camera_ui:ac,fullscreen:ac,expand:rc,media_player:ac,recordings:rc},button_size:40},sc=Ts.extend({enabled:Ts.shape.enabled.default(ac.enabled),priority:Ts.shape.priority.default(ac.priority)}),cc=Ts.extend({enabled:Ts.shape.enabled.default(rc.enabled),priority:Ts.shape.priority.default(rc.priority)}),lc=Oi.object({style:Oi.enum(["none","hidden","overlay","hover","hover-card","outside"]).default(oc.style),position:Oi.enum(Uo).default(oc.position),alignment:Oi.enum(Fo).default(oc.alignment),buttons:Oi.object({frigate:sc.default(oc.buttons.frigate),cameras:sc.default(oc.buttons.cameras),substreams:sc.default(oc.buttons.substreams),live:sc.default(oc.buttons.live),clips:sc.default(oc.buttons.clips),snapshots:sc.default(oc.buttons.snapshots),image:cc.default(oc.buttons.image),timeline:sc.default(oc.buttons.timeline),download:sc.default(oc.buttons.download),camera_ui:sc.default(oc.buttons.camera_ui),fullscreen:sc.default(oc.buttons.fullscreen),expand:cc.default(oc.buttons.expand),media_player:sc.default(oc.buttons.media_player),recordings:cc.default(oc.buttons.recordings)}).default(oc.buttons),button_size:Oi.number().min(Po).default(oc.button_size)}).default(oc),dc={auto_play:"all",auto_pause:"all",auto_mute:"all",auto_unmute:"never",lazy_load:!0,draggable:!0,transition_effect:"slide",snapshot_click_plays_clip:!0,controls:{next_previous:{size:48,style:"thumbnails"},thumbnails:qs,timeline:Qs,title:{mode:"popup-bottom-right",duration_seconds:2}}},uc=Ks.extend({style:Oi.enum(["none","thumbnails","chevrons"]).default(dc.controls.next_previous.style),size:Ks.shape.size.default(dc.controls.next_previous.size)}),hc=Oi.object({auto_play:Oi.enum(qo).default(dc.auto_play),auto_pause:Oi.enum(Zo).default(dc.auto_pause),auto_mute:Oi.enum(Zo).default(dc.auto_mute),auto_unmute:Oi.enum(qo).default(dc.auto_unmute),lazy_load:Oi.boolean().default(dc.lazy_load),draggable:Oi.boolean().default(dc.draggable),transition_effect:Xs.default(dc.transition_effect),snapshot_click_plays_clip:Oi.boolean().default(dc.snapshot_click_plays_clip),controls:Oi.object({next_previous:uc.default(dc.controls.next_previous),thumbnails:Vs.default(dc.controls.thumbnails),timeline:Gs.default(dc.controls.timeline),title:Js.extend({mode:Js.shape.mode.default(dc.controls.title.mode),duration_seconds:Js.shape.duration_seconds.default(dc.controls.title.duration_seconds)}).default(dc.controls.title)}).default(dc.controls),layout:Ls.optional()}).merge(ls).default(dc),mc={...qs,show_details:!1},fc={controls:{thumbnails:mc,filter:{mode:"right"}}},pc=Vs.extend({show_details:Oi.boolean().default(mc.show_details)}),gc=Oi.object({controls:Oi.object({thumbnails:pc.default(fc.controls.thumbnails),filter:Oi.object({mode:Oi.enum(["none","left","right"]).default(fc.controls.filter.mode)}).default(fc.controls.filter)}).default(fc.controls)}).merge(ls).default(fc),vc={aspect_ratio_mode:"dynamic",aspect_ratio:[16,9]},_c=Oi.object({aspect_ratio_mode:Oi.enum(["dynamic","static","unconstrained"]).default(vc.aspect_ratio_mode),aspect_ratio:Oi.number().array().length(2).or(Oi.string().regex(/^\s*\d+\s*[:\/]\s*\d+\s*$/).transform((e=>e.split(/[:\/]/).map((e=>Number(e)))))).default(vc.aspect_ratio)}).default(vc),yc={...Ws,controls:{thumbnails:qs}},bc=Ys.extend({controls:Oi.object({thumbnails:Vs.default(yc.controls.thumbnails)}).default(yc.controls)}).default(yc),wc=Oi.object({cameras:Oo(Ms).optional(),cameras_global:Oo(Ss).optional(),live:Oo(nc).optional(),menu:Oo(lc).optional(),image:Oo(Zs).optional(),view:Oo(Fs).optional(),dimensions:Oo(_c).optional()}),xc=Oi.object({conditions:Ps,overrides:wc}).array().optional();Oi.object({conditions:Ps,overrides:nc}).array().optional();const Cc={profile:"high",features:{animated_progress_indicator:!0,media_chunk_size:50},style:{border_radius:!0,box_shadow:!0}},$c=Oi.object({profile:Oi.enum(["low","high"]).default(Cc.profile),features:Oi.object({animated_progress_indicator:Oi.boolean().default(Cc.features.animated_progress_indicator),media_chunk_size:Oi.number().min(0).max(1e3).default(Cc.features.media_chunk_size)}).default(Cc.features),style:Oi.object({border_radius:Oi.boolean().default(Cc.style.border_radius),box_shadow:Oi.boolean().default(Cc.style.box_shadow)}).default(Cc.style)}).default(Cc),kc={logging:!1},Ec=Oi.object({logging:Oi.boolean().default(kc.logging)}).default(kc),Sc=Oi.object({cameras:Oo(Ms),cameras_global:Ss,view:Fs,menu:lc,live:ic,media_gallery:gc,media_viewer:hc,image:Zs,elements:Ns,dimensions:_c,timeline:bc,performance:$c,debug:Ec,overrides:xc,card_mod:Oi.unknown(),card_id:Oi.string().regex(/^\w+$/).optional(),type:Oi.string(),test_gui:Oi.boolean().optional()}),Mc={cameras:Es,view:Us,menu:oc,live:ec,media_gallery:fc,media_viewer:dc,image:Hs,timeline:yc,performance:Cc,debug:kc};Oi.discriminatedUnion("type",[As,js,Os,Is]);const Tc={info:10,error:20,connection:30,diagnostics:40},Ac=Oi.object({url:Oi.string(),mime_type:Oi.string()}),jc=Oi.object({path:Oi.string()});function zc(e){if(!e)return null;const t=os.safeParse(e);return t.success?t.data:null}function Oc(e,t){return"camera_select"===e||"live_substream_select"===e?t?.camera?{action:"fire-dom-event",frigate_card_action:e,camera:t.camera,...t.cardID&&{card_id:t.cardID}}:null:"media_player"===e?t?.media_player&&t.media_player_action?{action:"fire-dom-event",frigate_card_action:e,media_player:t.media_player,media_player_action:t.media_player_action,...t.cardID&&{card_id:t.cardID}}:null:{action:"fire-dom-event",frigate_card_action:e,...t?.cardID&&{card_id:t.cardID}}}function Ic(e,t){if(e&&t)return"tap"==e&&t.tap_action?t.tap_action:"hold"==e&&t.hold_action?t.hold_action:"double_tap"==e&&t.double_tap_action?t.double_tap_action:"end_tap"==e&&t.end_tap_action?t.end_tap_action:"start_tap"==e&&t.start_tap_action?t.start_tap_action:void 0}const Pc=(e,t,n,i,a)=>!(!a&&"tap"!=i)&&(Array.isArray(a)?a.forEach((i=>h(e,t,n,i))):h(e,t,n,a),!0),Dc=e=>Array.isArray(e)?!!e.find((e=>m(e))):m(e),Rc=e=>{e.stopPropagation()};class Nc extends HTMLElement{constructor(){super(...arguments),this.holdTime=400,this.held=!1}connectedCallback(){["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach((e=>{document.addEventListener(e,(()=>{this.timer&&(clearTimeout(this.timer),this.timer=void 0)}),{passive:!0})}))}bind(e,t){if(e.actionHandlerOptions)return void(e.actionHandlerOptions=t);e.actionHandlerOptions=t,e.addEventListener("contextmenu",(e=>{const t=e||window.event;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1}));const n=()=>{e.actionHandlerOptions?.hasHold&&(this.held=!1,this.timer=window.setTimeout((()=>{this.held=!0}),this.holdTime)),l(e,"action",{action:"start_tap"})},i=t=>{const n=e.actionHandlerOptions;n?.allowPropagation||Rc(t),(!["touchend","touchcancel"].includes(t.type)||n?.hasHold&&this.held)&&(n?.hasHold&&(clearTimeout(this.timer),this.timer=void 0),l(e,"action",{action:"end_tap"}),n?.hasHold&&this.held?l(e,"action",{action:"hold"}):n?.hasDoubleClick?"click"===t.type&&t.detail<2||!this.dblClickTimeout?this.dblClickTimeout=window.setTimeout((()=>{this.dblClickTimeout=void 0,l(e,"action",{action:"tap"})}),250):(clearTimeout(this.dblClickTimeout),this.dblClickTimeout=void 0,l(e,"action",{action:"double_tap"})):l(e,"action",{action:"tap"}))};e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchend",i),e.addEventListener("touchcancel",i),e.addEventListener("mousedown",n,{passive:!0}),e.addEventListener("click",i),e.addEventListener("keyup",(e=>{"Enter"===e.key&&i(e)}))}}customElements.define("action-handler-frigate-card",Nc);const Lc=(e,t)=>{const n=(()=>{const e=document.body;if(e.querySelector("action-handler-frigate-card"))return e.querySelector("action-handler-frigate-card");const t=document.createElement("action-handler-frigate-card");return e.appendChild(t),t})();n&&n.bind(e,t)},Uc=$e(class extends ke{update(e,[t]){return Lc(e.element,t),X}render(e){}});function Fc(e,t){return e===t||e!=e&&t!=t}function Hc(e,t){for(var n=e.length;n--;)if(Fc(e[n][0],t))return n;return-1}var Zc=Array.prototype.splice;function qc(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}qc.prototype.clear=function(){this.__data__=[],this.size=0},qc.prototype.delete=function(e){var t=this.__data__,n=Hc(t,e);return!(n<0)&&(n==t.length-1?t.pop():Zc.call(t,n,1),--this.size,!0)},qc.prototype.get=function(e){var t=this.__data__,n=Hc(t,e);return n<0?void 0:t[n][1]},qc.prototype.has=function(e){return Hc(this.__data__,e)>-1},qc.prototype.set=function(e,t){var n=this.__data__,i=Hc(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var Vc="[object AsyncFunction]",Wc="[object Function]",Bc="[object GeneratorFunction]",Yc="[object Proxy]";function Qc(e){if(!Ze(e))return!1;var t=ot(e);return t==Wc||t==Bc||t==Vc||t==Yc}var Gc,Kc=We["__core-js_shared__"],Xc=(Gc=/[^.]+$/.exec(Kc&&Kc.keys&&Kc.keys.IE_PROTO||""))?"Symbol(src)_1."+Gc:"";var Jc=Function.prototype.toString;function el(e){if(null!=e){try{return Jc.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var tl=/^\[object .+?Constructor\]$/,nl=Function.prototype,il=Object.prototype,al=nl.toString,rl=il.hasOwnProperty,ol=RegExp("^"+al.call(rl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sl(e){return!(!Ze(e)||(t=e,Xc&&Xc in t))&&(Qc(e)?ol:tl).test(el(e));var t}function cl(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return sl(n)?n:void 0}var ll=cl(We,"Map"),dl=cl(Object,"create");var ul="__lodash_hash_undefined__",hl=Object.prototype.hasOwnProperty;var ml=Object.prototype.hasOwnProperty;var fl="__lodash_hash_undefined__";function pl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function gl(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function vl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}pl.prototype.clear=function(){this.__data__=dl?dl(null):{},this.size=0},pl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pl.prototype.get=function(e){var t=this.__data__;if(dl){var n=t[e];return n===ul?void 0:n}return hl.call(t,e)?t[e]:void 0},pl.prototype.has=function(e){var t=this.__data__;return dl?void 0!==t[e]:ml.call(t,e)},pl.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dl&&void 0===t?fl:t,this},vl.prototype.clear=function(){this.size=0,this.__data__={hash:new pl,map:new(ll||qc),string:new pl}},vl.prototype.delete=function(e){var t=gl(this,e).delete(e);return this.size-=t?1:0,t},vl.prototype.get=function(e){return gl(this,e).get(e)},vl.prototype.has=function(e){return gl(this,e).has(e)},vl.prototype.set=function(e,t){var n=gl(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var _l=200;function yl(e){var t=this.__data__=new qc(e);this.size=t.size}yl.prototype.clear=function(){this.__data__=new qc,this.size=0},yl.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},yl.prototype.get=function(e){return this.__data__.get(e)},yl.prototype.has=function(e){return this.__data__.has(e)},yl.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qc){var i=n.__data__;if(!ll||i.length<_l-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new vl(i)}return n.set(e,t),this.size=n.size,this};var bl=function(){try{var e=cl(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function wl(e,t,n){"__proto__"==t&&bl?bl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function xl(e,t,n){(void 0!==n&&!Fc(e[t],n)||void 0===n&&!(t in e))&&wl(e,t,n)}var Cl,$l=function(e,t,n){for(var i=-1,a=Object(e),r=n(e),o=r.length;o--;){var s=r[Cl?o:++i];if(!1===t(a[s],s,a))break}return e},kl="object"==typeof exports&&exports&&!exports.nodeType&&exports,El=kl&&"object"==typeof module&&module&&!module.nodeType&&module,Sl=El&&El.exports===kl?We.Buffer:void 0,Ml=Sl?Sl.allocUnsafe:void 0;function Tl(e,t){if(t)return e.slice();var n=e.length,i=Ml?Ml(n):new e.constructor(n);return e.copy(i),i}var Al=We.Uint8Array;function jl(e){var t=new e.constructor(e.byteLength);return new Al(t).set(new Al(e)),t}function zl(e,t){var n=t?jl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ol(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var Il=Object.create,Pl=function(){function e(){}return function(t){if(!Ze(t))return{};if(Il)return Il(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Dl(e,t){return function(n){return e(t(n))}}var Rl=Dl(Object.getPrototypeOf,Object),Nl=Object.prototype;function Ll(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Nl)}function Ul(e){return"function"!=typeof e.constructor||Ll(e)?{}:Pl(Rl(e))}var Fl="[object Arguments]";function Hl(e){return st(e)&&ot(e)==Fl}var Zl=Object.prototype,ql=Zl.hasOwnProperty,Vl=Zl.propertyIsEnumerable,Wl=Hl(function(){return arguments}())?Hl:function(e){return st(e)&&ql.call(e,"callee")&&!Vl.call(e,"callee")},Bl=Array.isArray,Yl=9007199254740991;function Ql(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Yl}function Gl(e){return null!=e&&Ql(e.length)&&!Qc(e)}var Kl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Xl=Kl&&"object"==typeof module&&module&&!module.nodeType&&module,Jl=Xl&&Xl.exports===Kl?We.Buffer:void 0,ed=(Jl?Jl.isBuffer:void 0)||function(){return!1},td="[object Object]",nd=Function.prototype,id=Object.prototype,ad=nd.toString,rd=id.hasOwnProperty,od=ad.call(Object);var sd={};function cd(e){return function(t){return e(t)}}sd["[object Float32Array]"]=sd["[object Float64Array]"]=sd["[object Int8Array]"]=sd["[object Int16Array]"]=sd["[object Int32Array]"]=sd["[object Uint8Array]"]=sd["[object Uint8ClampedArray]"]=sd["[object Uint16Array]"]=sd["[object Uint32Array]"]=!0,sd["[object Arguments]"]=sd["[object Array]"]=sd["[object ArrayBuffer]"]=sd["[object Boolean]"]=sd["[object DataView]"]=sd["[object Date]"]=sd["[object Error]"]=sd["[object Function]"]=sd["[object Map]"]=sd["[object Number]"]=sd["[object Object]"]=sd["[object RegExp]"]=sd["[object Set]"]=sd["[object String]"]=sd["[object WeakMap]"]=!1;var ld="object"==typeof exports&&exports&&!exports.nodeType&&exports,dd=ld&&"object"==typeof module&&module&&!module.nodeType&&module,ud=dd&&dd.exports===ld&&qe.process,hd=function(){try{var e=dd&&dd.require&&dd.require("util").types;return e||ud&&ud.binding&&ud.binding("util")}catch(e){}}(),md=hd&&hd.isTypedArray,fd=md?cd(md):function(e){return st(e)&&Ql(e.length)&&!!sd[ot(e)]};function pd(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var gd=Object.prototype.hasOwnProperty;function vd(e,t,n){var i=e[t];gd.call(e,t)&&Fc(i,n)&&(void 0!==n||t in e)||wl(e,t,n)}function _d(e,t,n,i){var a=!n;n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),a?wl(n,s,c):vd(n,s,c)}return n}var yd=9007199254740991,bd=/^(?:0|[1-9]\d*)$/;function wd(e,t){var n=typeof e;return!!(t=null==t?yd:t)&&("number"==n||"symbol"!=n&&bd.test(e))&&e>-1&&e%1==0&&e<t}var xd=Object.prototype.hasOwnProperty;function Cd(e,t){var n=Bl(e),i=!n&&Wl(e),a=!n&&!i&&ed(e),r=!n&&!i&&!a&&fd(e),o=n||i||a||r,s=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],c=s.length;for(var l in e)!t&&!xd.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wd(l,c))||s.push(l);return s}var $d=Object.prototype.hasOwnProperty;function kd(e){if(!Ze(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ll(e),n=[];for(var i in e)("constructor"!=i||!t&&$d.call(e,i))&&n.push(i);return n}function Ed(e){return Gl(e)?Cd(e,!0):kd(e)}function Sd(e,t,n,i,a,r,o){var s=pd(e,n),c=pd(t,n),l=o.get(c);if(l)xl(e,n,l);else{var d,u=r?r(s,c,n+"",e,t,o):void 0,h=void 0===u;if(h){var m=Bl(c),f=!m&&ed(c),p=!m&&!f&&fd(c);u=c,m||f||p?Bl(s)?u=s:st(d=s)&&Gl(d)?u=Ol(s):f?(h=!1,u=Tl(c,!0)):p?(h=!1,u=zl(c,!0)):u=[]:function(e){if(!st(e)||ot(e)!=td)return!1;var t=Rl(e);if(null===t)return!0;var n=rd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ad.call(n)==od}(c)||Wl(c)?(u=s,Wl(s)?u=function(e){return _d(e,Ed(e))}(s):Ze(s)&&!Qc(s)||(u=Ul(c))):h=!1}h&&(o.set(c,u),a(u,c,i,r,o),o.delete(c)),xl(e,n,u)}}function Md(e,t,n,i,a){e!==t&&$l(t,(function(r,o){if(a||(a=new yl),Ze(r))Sd(e,t,o,n,Md,i,a);else{var s=i?i(pd(e,o),r,o+"",e,t,a):void 0;void 0===s&&(s=r),xl(e,o,s)}}),Ed)}function Td(e){return e}var Ad=Math.max;var jd=bl?function(e,t){return bl(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Td,zd=800,Od=16,Id=Date.now;var Pd,Dd,Rd,Nd=(Pd=jd,Dd=0,Rd=0,function(){var e=Id(),t=Od-(e-Rd);if(Rd=e,t>0){if(++Dd>=zd)return arguments[0]}else Dd=0;return Pd.apply(void 0,arguments)});function Ld(e,t){return Nd(function(e,t,n){return t=Ad(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=Ad(i.length-t,0),o=Array(r);++a<r;)o[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Td),e+"")}var Ud,Fd=(Ud=function(e,t,n){Md(e,t,n)},Ld((function(e,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,r=i>2?t[2]:void 0;for(a=Ud.length>3&&"function"==typeof a?(i--,a):void 0,r&&function(e,t,n){if(!Ze(n))return!1;var i=typeof t;return!!("number"==i?Gl(n)&&wd(t,n.length):"string"==i&&t in n)&&Fc(n[t],e)}(t[0],t[1],r)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=t[n];o&&Ud(e,o,n,a)}return e})));var Hd=Dl(Object.keys,Object),Zd=Object.prototype.hasOwnProperty;function qd(e){return Gl(e)?Cd(e):function(e){if(!Ll(e))return Hd(e);var t=[];for(var n in Object(e))Zd.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function Vd(){return[]}var Wd=Object.prototype.propertyIsEnumerable,Bd=Object.getOwnPropertySymbols,Yd=Bd?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,a=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[a++]=o)}return r}(Bd(e),(function(t){return Wd.call(e,t)})))}:Vd;function Qd(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}var Gd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Qd(t,Yd(e)),e=Rl(e);return t}:Vd;function Kd(e,t,n){var i=t(e);return Bl(e)?i:Qd(i,n(e))}function Xd(e){return Kd(e,qd,Yd)}function Jd(e){return Kd(e,Ed,Gd)}var eu=cl(We,"DataView"),tu=cl(We,"Promise"),nu=cl(We,"Set"),iu=cl(We,"WeakMap"),au="[object Map]",ru="[object Promise]",ou="[object Set]",su="[object WeakMap]",cu="[object DataView]",lu=el(eu),du=el(ll),uu=el(tu),hu=el(nu),mu=el(iu),fu=ot;(eu&&fu(new eu(new ArrayBuffer(1)))!=cu||ll&&fu(new ll)!=au||tu&&fu(tu.resolve())!=ru||nu&&fu(new nu)!=ou||iu&&fu(new iu)!=su)&&(fu=function(e){var t=ot(e),n="[object Object]"==t?e.constructor:void 0,i=n?el(n):"";if(i)switch(i){case lu:return cu;case du:return au;case uu:return ru;case hu:return ou;case mu:return su}return t});var pu=fu,gu=Object.prototype.hasOwnProperty;var vu=/\w*$/;var _u=Ke?Ke.prototype:void 0,yu=_u?_u.valueOf:void 0;var bu="[object Boolean]",wu="[object Date]",xu="[object Map]",Cu="[object Number]",$u="[object RegExp]",ku="[object Set]",Eu="[object String]",Su="[object Symbol]",Mu="[object ArrayBuffer]",Tu="[object DataView]",Au="[object Float32Array]",ju="[object Float64Array]",zu="[object Int8Array]",Ou="[object Int16Array]",Iu="[object Int32Array]",Pu="[object Uint8Array]",Du="[object Uint8ClampedArray]",Ru="[object Uint16Array]",Nu="[object Uint32Array]";function Lu(e,t,n){var i,a,r,o=e.constructor;switch(t){case Mu:return jl(e);case bu:case wu:return new o(+e);case Tu:return function(e,t){var n=t?jl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Au:case ju:case zu:case Ou:case Iu:case Pu:case Du:case Ru:case Nu:return zl(e,n);case xu:return new o;case Cu:case Eu:return new o(e);case $u:return(r=new(a=e).constructor(a.source,vu.exec(a))).lastIndex=a.lastIndex,r;case ku:return new o;case Su:return i=e,yu?Object(yu.call(i)):{}}}var Uu="[object Map]";var Fu=hd&&hd.isMap,Hu=Fu?cd(Fu):function(e){return st(e)&&pu(e)==Uu},Zu="[object Set]";var qu=hd&&hd.isSet,Vu=qu?cd(qu):function(e){return st(e)&&pu(e)==Zu},Wu=1,Bu=2,Yu=4,Qu="[object Arguments]",Gu="[object Function]",Ku="[object GeneratorFunction]",Xu="[object Object]",Ju={};function eh(e,t,n,i,a,r){var o,s=t&Wu,c=t&Bu,l=t&Yu;if(n&&(o=a?n(e,i,a,r):n(e)),void 0!==o)return o;if(!Ze(e))return e;var d=Bl(e);if(d){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Ol(e,o)}else{var u=pu(e),h=u==Gu||u==Ku;if(ed(e))return Tl(e,s);if(u==Xu||u==Qu||h&&!a){if(o=c||h?{}:Ul(e),!s)return c?function(e,t){return _d(e,Gd(e),t)}(e,function(e,t){return e&&_d(t,Ed(t),e)}(o,e)):function(e,t){return _d(e,Yd(e),t)}(e,function(e,t){return e&&_d(t,qd(t),e)}(o,e))}else{if(!Ju[u])return a?e:{};o=Lu(e,u,s)}}r||(r=new yl);var m=r.get(e);if(m)return m;r.set(e,o),Vu(e)?e.forEach((function(i){o.add(eh(i,t,n,i,e,r))})):Hu(e)&&e.forEach((function(i,a){o.set(a,eh(i,t,n,a,e,r))}));var f=d?void 0:(l?c?Jd:Xd:c?Ed:qd)(e);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(f||e,(function(i,a){f&&(i=e[a=i]),vd(o,a,eh(i,t,n,a,e,r))})),o}Ju[Qu]=Ju["[object Array]"]=Ju["[object ArrayBuffer]"]=Ju["[object DataView]"]=Ju["[object Boolean]"]=Ju["[object Date]"]=Ju["[object Float32Array]"]=Ju["[object Float64Array]"]=Ju["[object Int8Array]"]=Ju["[object Int16Array]"]=Ju["[object Int32Array]"]=Ju["[object Map]"]=Ju["[object Number]"]=Ju[Xu]=Ju["[object RegExp]"]=Ju["[object Set]"]=Ju["[object String]"]=Ju["[object Symbol]"]=Ju["[object Uint8Array]"]=Ju["[object Uint8ClampedArray]"]=Ju["[object Uint16Array]"]=Ju["[object Uint32Array]"]=!0,Ju["[object Error]"]=Ju[Gu]=Ju["[object WeakMap]"]=!1;var th=1,nh=4;function ih(e){return eh(e,th|nh)}var ah=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rh=/^\w*$/;function oh(e,t){if(Bl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lt(e))||(rh.test(e)||!ah.test(e)||null!=t&&e in Object(t))}var sh="Expected a function";function ch(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(sh);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var o=e.apply(this,i);return n.cache=r.set(a,o)||r,o};return n.cache=new(ch.Cache||vl),n}ch.Cache=vl;var lh=500;var dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uh=/\\(\\)?/g,hh=function(e){var t=ch(e,(function(e){return n.size===lh&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dh,(function(e,n,i,a){t.push(i?a.replace(uh,"$1"):n||e)})),t}));function mh(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}var fh=1/0,ph=Ke?Ke.prototype:void 0,gh=ph?ph.toString:void 0;function vh(e){if("string"==typeof e)return e;if(Bl(e))return mh(e,vh)+"";if(lt(e))return gh?gh.call(e):"";var t=e+"";return"0"==t&&1/e==-fh?"-0":t}function _h(e,t){return Bl(e)?e:oh(e,t)?[e]:hh(function(e){return null==e?"":vh(e)}(e))}var yh=1/0;function bh(e){if("string"==typeof e||lt(e))return e;var t=e+"";return"0"==t&&1/e==-yh?"-0":t}function wh(e,t){for(var n=0,i=(t=_h(t,e)).length;null!=e&&n<i;)e=e[bh(t[n++])];return n&&n==i?e:void 0}function xh(e,t,n){var i=null==e?void 0:wh(e,t);return void 0===i?n:i}var Ch="__lodash_hash_undefined__";function $h(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new vl;++t<n;)this.add(e[t])}function kh(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function Eh(e,t){return e.has(t)}$h.prototype.add=$h.prototype.push=function(e){return this.__data__.set(e,Ch),this},$h.prototype.has=function(e){return this.__data__.has(e)};var Sh=1,Mh=2;function Th(e,t,n,i,a,r){var o=n&Sh,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=r.get(e),d=r.get(t);if(l&&d)return l==t&&d==e;var u=-1,h=!0,m=n&Mh?new $h:void 0;for(r.set(e,t),r.set(t,e);++u<s;){var f=e[u],p=t[u];if(i)var g=o?i(p,f,u,t,e,r):i(f,p,u,e,t,r);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!kh(t,(function(e,t){if(!Eh(m,t)&&(f===e||a(f,e,n,i,r)))return m.push(t)}))){h=!1;break}}else if(f!==p&&!a(f,p,n,i,r)){h=!1;break}}return r.delete(e),r.delete(t),h}function Ah(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function jh(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var zh=1,Oh=2,Ih="[object Boolean]",Ph="[object Date]",Dh="[object Error]",Rh="[object Map]",Nh="[object Number]",Lh="[object RegExp]",Uh="[object Set]",Fh="[object String]",Hh="[object Symbol]",Zh="[object ArrayBuffer]",qh="[object DataView]",Vh=Ke?Ke.prototype:void 0,Wh=Vh?Vh.valueOf:void 0;var Bh=1,Yh=Object.prototype.hasOwnProperty;var Qh=1,Gh="[object Arguments]",Kh="[object Array]",Xh="[object Object]",Jh=Object.prototype.hasOwnProperty;function em(e,t,n,i,a,r){var o=Bl(e),s=Bl(t),c=o?Kh:pu(e),l=s?Kh:pu(t),d=(c=c==Gh?Xh:c)==Xh,u=(l=l==Gh?Xh:l)==Xh,h=c==l;if(h&&ed(e)){if(!ed(t))return!1;o=!0,d=!1}if(h&&!d)return r||(r=new yl),o||fd(e)?Th(e,t,n,i,a,r):function(e,t,n,i,a,r,o){switch(n){case qh:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zh:return!(e.byteLength!=t.byteLength||!r(new Al(e),new Al(t)));case Ih:case Ph:case Nh:return Fc(+e,+t);case Dh:return e.name==t.name&&e.message==t.message;case Lh:case Fh:return e==t+"";case Rh:var s=Ah;case Uh:var c=i&zh;if(s||(s=jh),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=Oh,o.set(e,t);var d=Th(s(e),s(t),i,a,r,o);return o.delete(e),d;case Hh:if(Wh)return Wh.call(e)==Wh.call(t)}return!1}(e,t,c,n,i,a,r);if(!(n&Qh)){var m=d&&Jh.call(e,"__wrapped__"),f=u&&Jh.call(t,"__wrapped__");if(m||f){var p=m?e.value():e,g=f?t.value():t;return r||(r=new yl),a(p,g,n,i,r)}}return!!h&&(r||(r=new yl),function(e,t,n,i,a,r){var o=n&Bh,s=Xd(e),c=s.length;if(c!=Xd(t).length&&!o)return!1;for(var l=c;l--;){var d=s[l];if(!(o?d in t:Yh.call(t,d)))return!1}var u=r.get(e),h=r.get(t);if(u&&h)return u==t&&h==e;var m=!0;r.set(e,t),r.set(t,e);for(var f=o;++l<c;){var p=e[d=s[l]],g=t[d];if(i)var v=o?i(g,p,d,t,e,r):i(p,g,d,e,t,r);if(!(void 0===v?p===g||a(p,g,n,i,r):v)){m=!1;break}f||(f="constructor"==d)}if(m&&!f){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(m=!1)}return r.delete(e),r.delete(t),m}(e,t,n,i,a,r))}function tm(e,t,n,i,a){return e===t||(null==e||null==t||!st(e)&&!st(t)?e!=e&&t!=t:em(e,t,n,i,tm,a))}function nm(e,t){return tm(e,t)}function im(e,t,n){return null==e?e:function(e,t,n,i){if(!Ze(e))return e;for(var a=-1,r=(t=_h(t,e)).length,o=r-1,s=e;null!=s&&++a<r;){var c=bh(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=o){var d=s[c];void 0===(l=i?i(d,c,s):void 0)&&(l=Ze(d)?d:wd(t[a+1])?[]:{})}vd(s,c,l),s=s[c]}return e}(e,t,n)}var am=6e4,rm=36e5,om=1e3;function sm(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function cm(e){return cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(e)}function lm(e){sm(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===cm(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function dm(e,t){return sm(2,arguments),lm(e).getTime()-lm(t).getTime()}var um={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},hm="trunc";function mm(e){return e?um[e]:um[hm]}function fm(e,t,n){sm(2,arguments);var i=dm(e,t)/1e3;return mm(null==n?void 0:n.roundingMethod)(i)}function pm(e){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(e)}function gm(e){if(sm(1,arguments),!function(e){return sm(1,arguments),e instanceof Date||"object"===pm(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=lm(e);return!isNaN(Number(t))}function vm(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function _m(e,t){return sm(2,arguments),function(e,t){sm(2,arguments);var n=lm(e).getTime(),i=vm(t);return new Date(n+i)}(e,-vm(t))}var ym=864e5;function bm(e){sm(1,arguments);var t=lm(e),n=t.getUTCDay(),i=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function wm(e){sm(1,arguments);var t=lm(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var a=bm(i),r=new Date(0);r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0);var o=bm(r);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}var xm=6048e5;function Cm(e){sm(1,arguments);var t=lm(e),n=bm(t).getTime()-function(e){sm(1,arguments);var t=wm(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),bm(n)}(t).getTime();return Math.round(n/xm)+1}var $m={};function km(){return $m}function Em(e,t){var n,i,a,r,o,s,c,l;sm(1,arguments);var d=km(),u=vm(null!==(n=null!==(i=null!==(a=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==i?i:null===(c=d.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=lm(e),m=h.getUTCDay(),f=(m<u?7:0)+m-u;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function Sm(e,t){var n,i,a,r,o,s,c,l;sm(1,arguments);var d=lm(e),u=d.getUTCFullYear(),h=km(),m=vm(null!==(n=null!==(i=null!==(a=null!==(r=null==t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null==t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:h.firstWeekContainsDate)&&void 0!==i?i:null===(c=h.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,m),f.setUTCHours(0,0,0,0);var p=Em(f,t),g=new Date(0);g.setUTCFullYear(u,0,m),g.setUTCHours(0,0,0,0);var v=Em(g,t);return d.getTime()>=p.getTime()?u+1:d.getTime()>=v.getTime()?u:u-1}var Mm=6048e5;function Tm(e,t){sm(1,arguments);var n=lm(e),i=Em(n,t).getTime()-function(e,t){var n,i,a,r,o,s,c,l;sm(1,arguments);var d=km(),u=vm(null!==(n=null!==(i=null!==(a=null!==(r=null==t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null==t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==i?i:null===(c=d.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1),h=Sm(e,t),m=new Date(0);return m.setUTCFullYear(h,0,u),m.setUTCHours(0,0,0,0),Em(m,t)}(n,t).getTime();return Math.round(i/Mm)+1}function Am(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}var jm=function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Am("yy"===t?i%100:i,t.length)},zm=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Am(n+1,2)},Om=function(e,t){return Am(e.getUTCDate(),t.length)},Im=function(e,t){return Am(e.getUTCHours()%12||12,t.length)},Pm=function(e,t){return Am(e.getUTCHours(),t.length)},Dm=function(e,t){return Am(e.getUTCMinutes(),t.length)},Rm=function(e,t){return Am(e.getUTCSeconds(),t.length)},Nm=function(e,t){var n=t.length,i=e.getUTCMilliseconds();return Am(Math.floor(i*Math.pow(10,n-3)),t.length)},Lm="midnight",Um="noon",Fm="morning",Hm="afternoon",Zm="evening",qm="night",Vm={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return jm(e,t)},Y:function(e,t,n,i){var a=Sm(e,i),r=a>0?a:1-a;return"YY"===t?Am(r%100,2):"Yo"===t?n.ordinalNumber(r,{unit:"year"}):Am(r,t.length)},R:function(e,t){return Am(wm(e),t.length)},u:function(e,t){return Am(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Am(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Am(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return zm(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Am(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=Tm(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Am(a,t.length)},I:function(e,t,n){var i=Cm(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Am(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Om(e,t)},D:function(e,t,n){var i=function(e){sm(1,arguments);var t=lm(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/ym)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Am(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),r=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Am(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),r=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Am(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return Am(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,a=e.getUTCHours();switch(i=12===a?Um:0===a?Lm:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,a=e.getUTCHours();switch(i=a>=17?Zm:a>=12?Hm:a>=4?Fm:qm,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Im(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Pm(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Am(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Am(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Dm(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Rm(e,t)},S:function(e,t){return Nm(e,t)},X:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Bm(a);case"XXXX":case"XX":return Ym(a);default:return Ym(a,":")}},x:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return Bm(a);case"xxxx":case"xx":return Ym(a);default:return Ym(a,":")}},O:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Wm(a,":");default:return"GMT"+Ym(a,":")}},z:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Wm(a,":");default:return"GMT"+Ym(a,":")}},t:function(e,t,n,i){var a=i._originalDate||e;return Am(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,i){return Am((i._originalDate||e).getTime(),t.length)}};function Wm(e,t){var n=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),r=i%60;if(0===r)return n+String(a);var o=t||"";return n+String(a)+o+Am(r,2)}function Bm(e,t){return e%60==0?(e>0?"-":"+")+Am(Math.abs(e)/60,2):Ym(e,t)}function Ym(e,t){var n=t||"",i=e>0?"-":"+",a=Math.abs(e);return i+Am(Math.floor(a/60),2)+n+Am(a%60,2)}var Qm=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Gm=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Km={p:Gm,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],a=i[1],r=i[2];if(!r)return Qm(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Qm(a,t)).replace("{{time}}",Gm(r,t))}};function Xm(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Jm=["D","DD"],ef=["YY","YYYY"];function tf(e){return-1!==Jm.indexOf(e)}function nf(e){return-1!==ef.indexOf(e)}function af(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rf={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function of(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var sf={date:of({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:of({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:of({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},cf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lf(e){return function(t,n){var i;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,r=null!=n&&n.width?String(n.width):a;i=e.formattingValues[r]||e.formattingValues[a]}else{var o=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function df(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(a);if(!r)return null;var o,s=r[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(c,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(c,(function(e){return e.test(s)}));return o=e.valueCallback?e.valueCallback(l):l,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}var uf,hf={code:"en-US",formatDistance:function(e,t,n){var i,a=rf[e];return i="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:sf,formatRelative:function(e,t,n,i){return cf[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lf({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lf({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:lf({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lf({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lf({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(uf={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(uf.matchPattern);if(!n)return null;var i=n[0],a=e.match(uf.parsePattern);if(!a)return null;var r=uf.valueCallback?uf.valueCallback(a[0]):a[0];return{value:r=t.valueCallback?t.valueCallback(r):r,rest:e.slice(i.length)}}),era:df({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:df({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:df({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:df({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:df({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},mf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ff=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pf=/^'([^]*?)'?$/,gf=/''/g,vf=/[a-zA-Z]/;function _f(e,t,n){var i,a,r,o,s,c,l,d,u,h,m,f,p,g,v,_,y,b;sm(2,arguments);var w=String(t),x=km(),C=null!==(i=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:x.locale)&&void 0!==i?i:hf,$=vm(null!==(r=null!==(o=null!==(s=null!==(c=null==n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null==n||null===(l=n.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:x.firstWeekContainsDate)&&void 0!==o?o:null===(u=x.locale)||void 0===u||null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:1);if(!($>=1&&$<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=vm(null!==(m=null!==(f=null!==(p=null!==(g=null==n?void 0:n.weekStartsOn)&&void 0!==g?g:null==n||null===(v=n.locale)||void 0===v||null===(_=v.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==p?p:x.weekStartsOn)&&void 0!==f?f:null===(y=x.locale)||void 0===y||null===(b=y.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==m?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var E=lm(e);if(!gm(E))throw new RangeError("Invalid time value");var S=_m(E,Xm(E)),M={firstWeekContainsDate:$,weekStartsOn:k,locale:C,_originalDate:E};return w.match(ff).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Km[t])(e,C.formatLong):e})).join("").match(mf).map((function(i){if("''"===i)return"'";var a=i[0];if("'"===a)return function(e){var t=e.match(pf);if(!t)return e;return t[1].replace(gf,"'")}(i);var r=Vm[a];if(r)return null!=n&&n.useAdditionalWeekYearTokens||!nf(i)||af(i,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!tf(i)||af(i,t,String(e)),r(S,i,C.localize,M);if(a.match(vf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return i})).join("")}function yf(e,t,n){e.dispatchEvent(new CustomEvent(`frigate-card:${t}`,{bubbles:!0,composed:!0,detail:n}))}function bf(e){if(!e)return;return e.split(/[_\s]+/).map((e=>e[0].toUpperCase()+e.substring(1))).join(" ")}function wf(e,t,n){const i=e[t];e.splice(t,1),e.splice(n,0,i)}const xf=e=>Array.isArray(e)?e:[e];function Cf(e,t){return!nm(e,t)}function $f(e,t=console.warn){e instanceof Vo&&e.context?t(e,e.context):t(e)}const kf=()=>window.matchMedia("(hover: hover) and (pointer: fine)").matches,Ef=e=>_f(e,"yyyy-MM-dd HH:mm"),Sf=e=>_f(e,"yyyy-MM-dd"),Mf=(e,t)=>{window.requestIdleCallback?window.requestIdleCallback(e,{...t&&{timeout:t}}):e()};function Tf(e,t){const n=function(e,t,n){sm(2,arguments);var i=dm(e,t)/rm;return mm(null==n?void 0:n.roundingMethod)(i)}(t,e),i=function(e,t,n){sm(2,arguments);var i=dm(e,t)/am;return mm(null==n?void 0:n.roundingMethod)(i)}(t,e)-60*n;let a="";return n&&(a+=`${n}h `),i&&(a+=`${i}m `),a+=`${fm(t,e)-60*n*60-60*i}s`,a}const Af=async(e,t)=>await Promise.all(Array.from(e).map((e=>t(e)))),jf=e=>new Date(`${e}T00:00:00`),zf=(e,t)=>{for(const n of t)if(!e.has(n))return!1;return!0},Of=async e=>{await new Promise((t=>setTimeout(t,1e3*e)))},If=e=>!isNaN(e.getTime()),Pf=(e,t,n)=>{im(e,t,n)},Df=(e,t,n)=>xh(e,t,n),Rf=(e,t)=>{let n=t,i=e;if(t&&t.split&&t.includes(".")){const a=t.split(".");n=a[a.length-1],i=Df(e,a.slice(0,-1).join("."))}i&&"object"==typeof i&&delete i[n]},Nf=function(e){let t=!1;for(let n=0;n<tp.length;n++)t=tp[n](e)||t;return t},Lf=function(e){return Nf(Uf(e))},Uf=e=>ih(e),Ff=function(e,t,n){return i=>{let a=e(i);return"number"!=typeof a||(a=t?Math.max(t,a):a,a=n?Math.min(n,a):a),a}},Hf=function(e){if("number"!=typeof e)return"string"!=typeof e?null:(e=e.replace(/px$/i,""),isNaN(e)?null:Number(e))},Zf=function(e){return null},qf=(e,t)=>e.replace("#",`[${t.toString()}]`),Vf=function(e,t,n){return function(i){return((e,t,n,i)=>{const a=Df(e,t);if(void 0===a)return!1;const r=i?.transform?i.transform(a):a;return!(t===n&&nm(a,r)||(null===r?i?.keepOriginal||(Rf(e,t),0):void 0===r||(i?.keepOriginal||Rf(e,t),Pf(e,n,r),0)))})(i,e,t,n)}},Wf=function(e,t,n){return function(i){let a=Vf(e,t,n)(i);return a=Qf($o,Vf(e,t,n),(e=>e.overrides))(i)||a,a}},Bf=function(e,t){return Wf(e,e,{transform:t})},Yf=function(e,t){return Vf(e,e,{transform:t})},Qf=function(e,t,n){return function(i){let a=!1;const r=Df(i,e);return Array.isArray(r)&&r.forEach((e=>{const i=n?n(e):e;i&&"object"==typeof i&&(a=t(i)||a)})),a}},Gf=function(e){if("object"!=typeof e)return"boolean"!=typeof e?null:{enabled:e}},Kf=e=>{const t=`${e}.show_controls`;return function(n){let i=!1;return i=Wf(t,`${e}.show_favorite_control`,{keepOriginal:!0})(n)||i,i=Wf(t,`${e}.show_timeline_control`,{keepOriginal:!0})(n)||i,Bf(t,Zf)(n)||i}},Xf=(e,t)=>{const n=i=>{let a=!1;if(i&&"object"==typeof i){const r=t?t(i):i;r&&(a=e(r)||a),Array.isArray(i)?i.filter((e=>"object"==typeof e)).forEach((e=>{a=n(e)||a})):Object.keys(i).filter((e=>"object"==typeof i[e])).forEach((e=>{a=n(i[e])||a}))}return a};return n},Jf=e=>!("object"!=typeof e||!e||void 0===e.mediaLoaded)&&(e.media_loaded=e.mediaLoaded,delete e.mediaLoaded,!0),ep=e=>!("object"!=typeof e||!e||"custom:frigate-card-action"!==e.action||"frigate_ui"!==e.frigate_card_action)&&(e.frigate_card_action="camera_ui",!0),tp=[Bf(_r,Ff(Hf,75,Do)),Bf("event_viewer.controls.thumbnails.size",Ff(Hf,75,Do)),Bf(pr,Ff(Hf,Po)),Bf("event_viewer.controls.next_previous.size",Ff(Hf,Po)),Bf(so,Ff(Hf,Po)),Bf("event_gallery.min_columns",Zf),function(e){let t=!1;return t=Wf("menu.mode",oo,{transform:e=>{if("string"==typeof e){const t=e.match(/^(hover|hidden|overlay|above|below|none)/);if(t)switch(t[1]){case"hover":case"hidden":case"overlay":case"none":return t[1];case"above":case"below":return"outside"}}},keepOriginal:!0})(e)||t,t=Wf("menu.mode",ro,{transform:e=>{if("string"==typeof e){const t=e.match(/(above|below|left|right|top|bottom)$/);if(t)switch(t[1]){case"left":case"right":case"top":case"bottom":return t[1];case"above":return"top";case"below":return"bottom"}}},keepOriginal:!0})(e)||t,Bf("menu.mode",Zf)(e)||t},Bf(mo,Gf),Bf(lo,Gf),Bf(vo,Gf),Bf(uo,Gf),Bf(yo,Gf),Bf(go,Gf),Bf(ho,Gf),Bf("menu.buttons.frigate_ui",Gf),Bf(po,Gf),Yf(Pr,(e=>"boolean"==typeof e?e?"all":"never":void 0)),Yf(mr,(e=>"boolean"==typeof e?e?"all":"never":void 0)),Yf("event_viewer.auto_play",(e=>"boolean"==typeof e?e?"all":"never":void 0)),Yf("event_viewer.auto_unmute",(e=>"boolean"==typeof e?e?"all":"never":void 0)),Wf("event_viewer",Da),Qf(Di,Vf("camera_name","frigate.camera_name")),Qf(Di,Vf("client_id","frigate.client_id")),Qf(Di,Vf("label","frigate.label")),Qf(Di,Vf("frigate_url","frigate.url")),Qf(Di,Vf("zone","frigate.zone")),Kf("event_gallery.controls.thumbnails"),Kf("media_viewer.controls.thumbnails"),Kf("live.controls.thumbnails"),Kf("timeline.controls.thumbnails"),Qf($o,Jf,(e=>e.conditions)),e=>Xf(Jf,(e=>e.conditions))("object"==typeof e&&e?e.elements:{}),Wf("event_gallery",Ta),Wf("menu.buttons.frigate_ui",fo),e=>Xf(ep)("object"==typeof e&&e?e:{}),Qf(Di,Bf("live_provider",(e=>"frigate-jsmpeg"===e?"jsmpeg":e))),Wf("live.image",ua),Wf("live.jsmpeg",ha),Wf("live.webrtc_card",ma),Qf(Di,Wf("frigate.zone","frigate.zones",{transform:e=>xf(e)})),Qf(Di,Wf("frigate.label","frigate.labels",{transform:e=>xf(e)}))];class np extends Event{}function ip(e,t){if(!t)return!1;let n=!0;if(e?.view?.length&&(n&&=!!t.view&&e.view.includes(t.view)),void 0!==e?.fullscreen&&(n&&=void 0!==t.fullscreen&&e.fullscreen==t.fullscreen),void 0!==e?.expand&&(n&&=void 0!==t.expand&&e.expand==t.expand),e?.camera?.length&&(n&&=!!t.camera&&e.camera.includes(t.camera)),e?.state?.length)for(const i of e?.state)n&&=!(!t.state||(i.state||i.state_not)&&(!(i.entity in t.state)||i.state&&t.state[i.entity].state!==i.state||i.state_not&&t.state[i.entity].state===i.state_not));return void 0!==e?.media_loaded&&(n&&=void 0!==t.media_loaded&&e.media_loaded==t.media_loaded),e?.media_query&&(n&&=window.matchMedia(e.media_query).matches),n}function ap(e,t,n){const i=Uf(e);let a=!1;if(t)for(const e of t)ip(e.conditions,n)&&(Fd(i,e.overrides),a=!0);return a?i:e}class rp{constructor(e,t){this._hasHAStateConditions=!1,this._mediaQueries=[],this._boundTriggerChange=this._triggerChange.bind(this),this._initConditions(e),this._callback=t}destroy(){this._mediaQueries.forEach((e=>e.removeEventListener("change",this._boundTriggerChange))),this._mediaQueries=[]}get hasHAStateConditions(){return this._hasHAStateConditions}_triggerChange(e){this._callback()}_initConditions(e){const t=(e=>{const t=[];e.overrides?.forEach((e=>t.push(e.conditions)));const n=e=>{const i=Ds.safeParse(e);i.success?(t.push(i.data.conditions),i.data.elements?.forEach(n)):e&&"object"==typeof e&&Object.keys(e).forEach((t=>n(e[t])))};return e.elements?.forEach(n),t})(e);this._hasHAStateConditions=t.some((e=>!!e.state?.length)),t.forEach((e=>{if(e.media_query){const t=window.matchMedia(e.media_query);t.addEventListener("change",this._boundTriggerChange),this._mediaQueries.push(t)}}))}}var op={frigate_card:"Frigate card",frigate_card_description:"A Lovelace card for use with Frigate",live:"Live",no_media:"No media to display",recordings:"Recordings",version:"Version"},sp={cameras:{camera_entity:"Camera Entity",dependencies:{all_cameras:"Show events for all cameras with this camera",cameras:"Show events for specific cameras with this camera",editor_label:"Dependency Options"},engines:{editor_label:"Camera engine options"},frigate:{camera_name:"Frigate camera name (Autodetected from entity)",client_id:"Frigate client id (For >1 Frigate server)",labels:"Frigate labels/object filters",editor_label:"Frigate Options",url:"Frigate server URL",zones:"Frigate zones"},go2rtc:{editor_label:"go2rtc Options",modes:{editor_label:"go2rtc Modes",mse:"Media Source Extensions (MSE)",webrtc:"Web Real-Time Communication (WebRTC)",mp4:"MPEG-4 (MP4)",mjpeg:"Motion JPEG (MJPEG)"},stream:"go2rtc stream name"},hide:"Hide camera from UI",icon:"Icon for this camera (Autodetected from entity)",image:{editor_label:"Image Options",refresh_seconds:"Number of seconds after which to refresh live image (0=never)",url:"Image URL to use instead of camera entity snapshot"},id:"Unique id for this camera in this card",live_provider:"Live view provider for this camera",live_provider_options:{editor_label:"Live provider options"},live_providers:{auto:"Automatic",jsmpeg:"JSMpeg",go2rtc:"go2rtc",ha:"Home Assistant video stream (i.e. HLS, LL-HLS, WebRTC via HA)",image:"Home Assistant images","webrtc-card":"WebRTC Card (i.e. AlexxIT's WebRTC Card)"},motioneye:{editor_label:"MotionEye Options",images:{directory_pattern:"Images directory pattern",file_pattern:"Images file pattern"},movies:{directory_pattern:"Movies directory pattern",file_pattern:"Movies file pattern"},url:"MotionEye UI URL"},title:"Title for this camera (Autodetected from entity)",triggers:{entities:"Trigger from other entities",motion:"Trigger by auto-detecting the motion sensor",occupancy:"Trigger by auto-detecting the occupancy sensor",editor_label:"Trigger Options"},webrtc_card:{entity:"WebRTC Card Camera Entity (Not a Frigate camera)",editor_label:"WebRTC Card Options",url:"WebRTC Card Camera URL"}},common:{media_action_conditions:{all:"All opportunities",hidden:"On browser/tab hiding",never:"Never",selected:"On selection",unselected:"On unselection",visible:"On browser/tab visibility"},layout:{fit:"Layout fit",fits:{cover:"Media expands proportionally to cover the card",contain:"Media is contained/letterboxed",fill:"Media is stretched to fill the card"},position:{x:"Horizontal placement percentage",y:"Vertical placement percentage"}},timeline:{clustering_threshold:"The count of events at which they are clustered (0=no clustering)",media:"The media the timeline displays",medias:{all:"All media types",clips:"Clips",snapshots:"Snapshots"},show_recordings:"Show recordings",window_seconds:"The default length of the timeline view in seconds"},controls:{filter:{editor_label:"Media Filter",mode:"Filter mode",modes:{none:"No media filter",left:"Media filter in a drawer to the left",right:"Media filter in a drawer to the right"}},next_previous:{editor_label:"Next & Previous",size:"Next & previous control size in pixels",style:"Next & previous control style",styles:{chevrons:"Chevrons",icons:"Icons",none:"None",thumbnails:"Thumbnails"}},timeline:{editor_label:"Mini Timeline",mode:"Mode",modes:{none:"None",above:"Above",below:"Below"}},thumbnails:{editor_label:"Thumbnails",media:"Whether to show thumbnails of clips or snapshots",medias:{clips:"Clip thumbnails",snapshots:"Snapshot thumbnails"},mode:"Thumbnails mode",modes:{above:"Thumbnails above",below:"Thumbnails below",left:"Thumbnails in a drawer to the left",none:"No thumbnails",right:"Thumbnails in a drawer to the right"},show_details:"Show details with thumbnails",show_download_control:"Show download control on thumbnails",show_favorite_control:"Show favorite control on thumbnails",show_timeline_control:"Show timeline control on thumbnails",size:"Thumbnails size in pixels"},title:{editor_label:"Popup Title Controls",duration_seconds:"Seconds to display popup title (0=forever)",mode:"Popup title display mode",modes:{none:"No title display","popup-bottom-left":"Popup on the bottom left","popup-bottom-right":"Popup on the bottom right","popup-top-left":"Popup on the top left","popup-top-right":"Popup on the top right"}}}},dimensions:{aspect_ratio:"Default aspect ratio (e.g. '16:9')",aspect_ratio_mode:"Aspect ratio mode",aspect_ratio_modes:{dynamic:"Aspect ratio adjusts to media",static:"Static aspect ratio",unconstrained:"Unconstrained aspect ratio"}},image:{layout:"Image Layout",mode:"Image view mode",modes:{camera:"Home Assistant camera snapshot of camera entity",screensaver:"Embedded Frigate logo",url:"Arbitrary image specified by URL"},refresh_seconds:"Number of seconds after which to refresh (0=never)",url:"Static image URL for image view"},live:{auto_mute:"Automatically mute live cameras",auto_pause:"Automatically pause live cameras",auto_play:"Automatically play live cameras",auto_unmute:"Automatically unmute live cameras",controls:{editor_label:"Live Controls"},draggable:"Live cameras view can be dragged/swiped",layout:"Live Layout",lazy_load:"Live cameras are lazily loaded",lazy_unload:"Live cameras are lazily unloaded",preload:"Preload live view in the background",show_image_during_load:"Show still image while the live stream is loading",transition_effect:"Live camera transition effect"},media_viewer:{auto_mute:"Automatically mute media",auto_pause:"Automatically pause media",auto_play:"Automatically play media",auto_unmute:"Automatically unmute media",snapshot_click_plays_clip:"Clicking on a snapshot plays a related clip",controls:{editor_label:"Media Viewer Controls"},draggable:"Media Viewer can be dragged/swiped",lazy_load:"Media Viewer media is lazily loaded in carousel",layout:"Media Viewer Layout",transition_effect:"Media Viewer transition effect",transition_effects:{none:"No transition",slide:"Slide transition"}},menu:{alignment:"Menu alignment",alignments:{bottom:"Aligned to the bottom",left:"Aligned to the left",right:"Aligned to the right",top:"Aligned to the top"},button_size:"Menu button size in pixels",buttons:{alignment:"Button alignment",alignments:{matching:"Matching the menu alignment",opposing:"Opposing the menu alignment"},camera_ui:"Camera user interface",cameras:"Cameras",clips:"Clips",download:"Download",enabled:"Button enabled",expand:"Expand",frigate:"Frigate menu / Default view",fullscreen:"Fullscreen",icon:"Icon",image:"Image",live:"Live",media_player:"Send to media player",priority:"Priority",snapshots:"Snapshots",substreams:"Substream(s)",timeline:"Timeline",recordings:"Recordings"},position:"Menu position",positions:{bottom:"Positioned on the bottom",left:"Positioned on the left",right:"Positioned on the right",top:"Positioned on the top"},style:"Menu style",styles:{hidden:"Hidden menu",hover:"Hover menu","hover-card":"Hover menu (card-wide)",none:"No menu",outside:"Outside menu",overlay:"Overlay menu"}},overrides:{info:"This card configuration has manually specified overrides configured which may override values shown in the visual editor, please consult the code editor to view/modify these overrides"},performance:{warning:"This card is in low profile mode so defaults have changed to optimize performance",features:{editor_label:"Feature Options",animated_progress_indicator:"Animated Progress Indicator",media_chunk_size:"Media chunk size"},profile:"Performance profile",profiles:{low:"Low performance",high:"High/full performance"},style:{editor_label:"Style Options",box_shadow:"Shadows",border_radius:"Curves"}},view:{camera_select:"View for newly selected cameras",dark_mode:"Dark mode",dark_modes:{auto:"Auto",off:"Off",on:"On"},default:"Default view",scan:{enabled:"Scan mode enabled",scan_mode:"Scan mode",show_trigger_status:"Show pulsing border when triggered",untrigger_reset:"Reset the view to default after untrigger",untrigger_seconds:"Seconds after inactive state change to untrigger"},timeout_seconds:"Reset to default view X seconds after user action (0=never)",update_cycle_camera:"Cycle through cameras when default view updates",update_force:"Force card updates (ignore user interaction)",update_seconds:"Refresh default view every X seconds (0=never)",views:{clip:"Most recent clip",clips:"Clips gallery",current:"Current view",image:"Static image",live:"Live view",recording:"Most recent recording",recordings:"Recordings gallery",snapshot:"Most recent snapshot",snapshots:"Snapshots gallery",timeline:"Timeline view"}}},cp={add_new_camera:"Add new camera",button:"Button",camera:"Camera",cameras:"Cameras",cameras_secondary:"What cameras to render on this card",delete:"Delete",dimensions:"Dimensions",dimensions_secondary:"Dimensions & shape options",image:"Image",image_secondary:"Static image view options",live:"Live",live_secondary:"Live camera view options",media_gallery:"Media gallery",media_gallery_secondary:"Media gallery options",media_viewer:"Media viewer",media_viewer_secondary:"Viewer for static media (clips, snapshots or recordings)",menu:"Menu",menu_secondary:"Menu look & feel options",move_down:"Move down",move_up:"Move up",overrides:"Overrides are active",overrides_secondary:"Dynamic configuration overrides detected",performance:"Performance",performance_secondary:"Card performance options",timeline:"Timeline",timeline_secondary:"Event timeline options",upgrade:"Upgrade",upgrade_available:"An automatic card configuration upgrade is available",view:"View",view_secondary:"What the card should show and how to show it"},lp={could_not_render_elements:"Could not render picture elements",could_not_resolve:"Could not resolve media URL",diagnostics:"Card diagnostics. Please review for confidential information prior to sharing",download_no_media:"No media to download",download_sign_failed:"Could not sign media URL for download",duplicate_camera_id:"Duplicate Frigate camera id for the following camera, use the 'id' parameter to uniquely identify cameras",empty_response:"Received empty response from Home Assistant for request",failed_response:"Failed to receive response from Home Assistant for request",failed_retain:"Could not retain event",failed_sign:"Could not sign Home Assistant URL",image_load_error:"The image could not be loaded",invalid_configuration:"Invalid configuration",invalid_configuration_no_hint:"No location hint available (bad or missing type?)",invalid_elements_config:"Invalid picture elements configuration",invalid_response:"Received invalid response from Home Assistant for request",jsmpeg_no_player:"Could not start JSMPEG player",live_camera_no_endpoint:"Could not get camera endpoint for this live provider (incomplete configuration?)",live_camera_not_found:"The configured camera_entity was not found",live_camera_unavailable:"Camera unavailable",no_camera_engine:"Could not determine suitable engine for camera",no_camera_entity:"Could not find camera entity",no_camera_entity_for_triggers:"A camera entity is required in order to autodetect triggers",no_camera_id:"Could not determine camera id for the following camera, may need to set 'id' parameter manually",no_camera_name:"Could not determine a Frigate camera name for camera (or one of its dependents), please specify either 'camera_entity' or 'camera_name'",no_live_camera:"The camera_entity parameter must be set and valid for this live provider",no_visible_cameras:"No visible cameras found, you must configure at least one non-hidden camera",reconnecting:"Reconnecting",timeline_no_cameras:"No Frigate cameras to show in timeline",troubleshooting:"Check troubleshooting",unknown:"Unknown error",upgrade_available:"An automated card configuration upgrade is available, please visit the visual card editor",webrtc_card_reported_error:"WebRTC Card reported an error",webrtc_card_waiting:"Waiting for WebRTC Card to load ..."},dp={camera:"Camera",duration:"Duration",in_progress:"In Progress",score:"Score",seek:"Seek",start:"Start",tag:"Tag",what:"What",where:"Where"},up={all:"All",camera:"Camera",favorite:"Favorite",media_type:"Media Type",media_types:{clips:"Clips",snapshots:"Snapshots",recordings:"Recordings"},not_favorite:"Not Favorite",select_camera:"Select camera...",select_favorite:"Select favorite...",select_media_type:"Select media type...",select_what:"Select what...",select_when:"Select when...",select_where:"Select where...",select_tag:"Select tag...",tag:"Tag",what:"What",when:"When",whens:{past_month:"Past Month",past_week:"Past Week",today:"Today",yesterday:"Yesterday"},where:"Where"},hp={camera:"Camera",duration:"Duration",in_progress:"In Progress",events:"Events",seek:"Seek",start:"Start"},mp={download:"Download media",no_thumbnail:"No thumbnail available",retain_indefinitely:"Media will be indefinitely retained",timeline:"See media in timeline"},fp={lock:"Lock timeline to a single event",select_date:"Choose date",unlock:"Unlock timeline"},pp={ptz:{up:"Up",down:"Down",left:"Left",right:"Right",zoom_in:"Zoom In",zoom_out:"Zoom Out",home:"Home"}},gp={common:op,config:sp,editor:cp,error:lp,event:dp,media_filter:up,recording:hp,thumbnail:mp,timeline:fp,elements:pp};const vp="en",_p={[vp]:Object.freeze({__proto__:null,common:op,config:sp,editor:cp,error:lp,event:dp,media_filter:up,recording:hp,thumbnail:mp,timeline:fp,elements:pp,default:gp})};let yp;function bp(e){const t=e=>e.replace("-","_"),n=e?.language??e?.selectedLanguage;if(n)return t(n);const i=localStorage.getItem("selectedLanguage");if(i)return t(JSON.parse(i));for(const e of navigator.languages){const n=t(e);if(n&&n in _p)return n}return vp}function wp(e,t="",n=""){let i="";try{i=e.split(".").reduce(((e,t)=>e[t]),_p[yp??vp])}catch(e){}return i||(i=e.split(".").reduce(((e,t)=>e[t]),_p[vp])),""!==t&&""!==n&&(i=i.replace(t,n)),i}var xp='.dotdotdot:after {\n  animation: dots 2s linear infinite;\n  content: "";\n  display: inline-block;\n  width: 3em;\n}\n@keyframes dots {\n  0%, 20% {\n    content: ".";\n  }\n  40% {\n    content: "..";\n  }\n  60% {\n    content: "...";\n  }\n  90%, 100% {\n    content: "";\n  }\n}\n\n:host {\n  display: block;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  user-select: text;\n  -webkit-user-select: text;\n  color: var(--primary-text-color);\n}\n\ndiv.wrapper {\n  height: 100%;\n}\n\ndiv.message {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  height: 100%;\n}\n\ndiv.message.padded {\n  padding: 20px;\n}\n\ndiv.message div.contents {\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-top: auto;\n  margin-bottom: auto;\n  min-width: 0;\n}\n\ndiv.message div.icon {\n  padding: 10px;\n}\n\n.vertical {\n  flex-direction: column;\n}\n\n.message a {\n  color: var(--primary-text-color, white);\n  word-break: break-word;\n}\n\n.message pre {\n  margin-top: 20px;\n  white-space: pre-wrap;\n  word-break: break-all;\n}';let Cp=class extends ge{constructor(){super(...arguments),this.message=""}render(){const e=this.icon?this.icon:"mdi:information-outline",t={dotdotdot:!!this.dotdotdot};return K` <div class="wrapper">
      <div class="message padded">
        <div class="icon">
          <ha-icon icon="${e}"> </ha-icon>
        </div>
        <div class="contents">
          <span class="${Ee(t)}">
            ${this.message?K`${this.message}${this.context&&"string"==typeof this.context?": "+this.context:""}`:""}
          </span>
          ${this.context&&"string"!=typeof this.context?K`<pre>${JSON.stringify(this.context,null,2)}</pre>`:""}
        </div>
      </div>
    </div>`}static get styles(){return b(xp)}};e([be({attribute:!1})],Cp.prototype,"message",void 0),e([be({attribute:!1})],Cp.prototype,"context",void 0),e([be({attribute:!1})],Cp.prototype,"icon",void 0),e([be({attribute:!0,type:Boolean})],Cp.prototype,"dotdotdot",void 0),Cp=e([_e("frigate-card-message")],Cp);let $p=class extends ge{render(){if(this.message)return K` <frigate-card-message
      .message=${K` ${this.message.message}.
        <a href="${Pi}"> ${wp("error.troubleshooting")}</a>.`}
      .icon=${"mdi:alert-circle"}
      .context=${this.message.context}
      .dotdotdot=${this.message.dotdotdot}
    >
    </frigate-card-message>`}static get styles(){return b(xp)}};e([be({attribute:!1})],$p.prototype,"message",void 0),$p=e([_e("frigate-card-error-message")],$p);let kp=class extends ge{constructor(){super(...arguments),this.message="",this.animated=!1,this.size="large"}render(){return K` <div class="message vertical">
      ${this.animated?K`<ha-circular-progress active="true" size="${this.size}">
          </ha-circular-progress>`:K`<ha-icon icon="mdi:timer-sand"></ha-icon>`}
      ${this.message?K`<span>${this.message}</span>`:K``}
    </div>`}static get styles(){return b(xp)}};function Ep(e){return"error"===e.type?K` <frigate-card-error-message
      .message=${e}
    ></frigate-card-error-message>`:K` <frigate-card-message
      .message=${e.message}
      .icon=${e.icon}
      .context=${e.context}
      .dotdotdot=${e.dotdotdot}
    ></frigate-card-message>`}function Sp(e){return K`
    <frigate-card-progress-indicator
      class="${Ee(e?.classes??{})}"
      .size=${e?.size}
      ${e?.componentRef?Fe(e.componentRef):""}
      .message=${e?.message||""}
      .animated=${e?.cardWideConfig?.performance?.features.animated_progress_indicator??!0}
    >
    </frigate-card-progress-indicator>
  `}function Mp(e,t,n,i){yf(e,"message",{message:t,type:n,icon:i?.icon,context:i?.context})}function Tp(e,t,n){Mp(e,t,"error",{context:n?.context})}function Ap(e,t){t instanceof Error&&Tp(e,t.message,{...t instanceof Vo&&{context:t.context}})}e([be({attribute:!1})],kp.prototype,"message",void 0),e([be({attribute:!1})],kp.prototype,"animated",void 0),e([be({attribute:!1})],kp.prototype,"size",void 0),kp=e([_e("frigate-card-progress-indicator")],kp);let jp=class extends ge{constructor(){super(...arguments),this._root=null}createRenderRoot(){return this}_createRoot(){const e=customElements.get("hui-conditional-element");if(!e||!this.hass)throw new Error(wp("error.could_not_render_elements"));const t=new e;t.hass=this.hass;const n={type:"conditional",conditions:[],elements:this.elements};try{t.setConfig(n)}catch(e){throw console.error(e),new Vo(wp("error.invalid_elements_config"))}return t}willUpdate(e){try{!this.elements||this._root&&!e.has("elements")||(this._root=this._createRoot())}catch(e){return Ap(this,e)}}render(){return K`${this._root||""}`}updated(){this.hass&&this._root&&(this._root.hass=this.hass)}};e([be({attribute:!1})],jp.prototype,"elements",void 0),e([be({attribute:!1})],jp.prototype,"conditionState",void 0),e([be({attribute:!1})],jp.prototype,"hass",void 0),jp=e([_e("frigate-card-elements-core")],jp);let zp=class extends ge{constructor(){super(...arguments),this._boundMenuRemoveHandler=this._menuRemoveHandler.bind(this)}_menuRemoveHandler(e){yf(this,"menu-remove",e.detail)}_menuAddHandler(e){const t=e.composedPath();t.length&&(t[0].removeEventListener("frigate-card:menu-remove",this._boundMenuRemoveHandler),t[0].addEventListener("frigate-card:menu-remove",this._boundMenuRemoveHandler))}connectedCallback(){super.connectedCallback(),this.addEventListener("frigate-card:menu-add",this._menuAddHandler)}disconnectedCallback(){this.removeEventListener("frigate-card:menu-add",this._menuAddHandler),super.disconnectedCallback()}render(){return K` <frigate-card-elements-core
      .hass=${this.hass}
      .conditionState=${this.conditionState}
      .elements=${this.elements}
    >
    </frigate-card-elements-core>`}static get styles(){return b(":host {\n  position: absolute;\n  inset: 0;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.element {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  pointer-events: auto;\n}\n\nhui-error-card.element {\n  inset: 0px;\n  transform: unset;\n}")}};e([be({attribute:!1})],zp.prototype,"hass",void 0),e([be({attribute:!1})],zp.prototype,"conditionState",void 0),e([be({attribute:!1})],zp.prototype,"elements",void 0),zp=e([_e("frigate-card-elements")],zp);let Op=class extends ge{setConfig(e){this._config=e}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.className=""}render(){if(function(e,t){if(!t)return!0;const n=new np("frigate-card:condition-state-request",{bubbles:!0,composed:!0});return e.dispatchEvent(n),ip(t,n.conditionState)}(this,this._config.conditions))return K` <frigate-card-elements-core
        .hass=${this.hass}
        .elements=${this._config.elements}
      >
      </frigate-card-elements-core>`}};e([be({attribute:!1,hasChanged:()=>!0})],Op.prototype,"hass",void 0),Op=e([_e("frigate-card-conditional")],Op);class Ip extends ge{constructor(){super(...arguments),this._config=null}setConfig(e){this._config=e}connectedCallback(){super.connectedCallback(),this._config&&yf(this,"menu-add",this._config)}disconnectedCallback(){this._config&&yf(this,"menu-remove",this._config),super.disconnectedCallback()}}e([we()],Ip.prototype,"_config",void 0);let Pp=class extends Ip{};Pp=e([_e("frigate-card-menu-icon")],Pp);let Dp=class extends Ip{};Dp=e([_e("frigate-card-menu-state-icon")],Dp);let Rp=class extends Ip{};Rp=e([_e("frigate-card-menu-submenu")],Rp);let Np=class extends Ip{};Np=e([_e("frigate-card-menu-submenu-select")],Np);let Lp=class extends ge{constructor(){super(...arguments),this._config=null}setConfig(e){this._config=e}willUpdate(e){e.has("_config")&&this.setAttribute("data-orientation",this._config?.orientation??"vertical")}_actionHandler(e,t){e.stopPropagation();const n=e.detail.action,i=Ic(n,t);t&&i&&this.hass&&Pc(this,this.hass,t,n,i)}render(){if(!this._config)return;const e=(e,t,n)=>{const i=Dc(n?.hold_action),a=Dc(n?.double_tap_action);return K`<ha-icon
        class=${Ee({[e]:!0,disabled:!n})}
        icon=${t}
        .actionHandler=${Uc({hasHold:i,hasDoubleClick:a})}
        .title=${wp(`elements.ptz.${e}`)}
        @action=${e=>this._actionHandler(e,n)}
      ></ha-icon>`};return K` <div class="ptz">
      <div class="ptz-move">
        ${e("right","mdi:arrow-right",this._config.actions_right)}
        ${e("left","mdi:arrow-left",this._config.actions_left)}
        ${e("up","mdi:arrow-up",this._config.actions_up)}
        ${e("down","mdi:arrow-down",this._config.actions_down)}
      </div>
      ${this._config.actions_zoom_in||this._config.actions_zoom_out?K` <div class="ptz-zoom">
            ${e("zoom_in","mdi:plus",this._config.actions_zoom_in)}
            ${e("zoom_out","mdi:minus",this._config.actions_zoom_out)}
          </div>`:K``}
      ${this._config.actions_home?K`
            <div class="ptz-home">
              ${e("home","mdi:home",this._config.actions_home)}
            </div>
          `:K``}
    </div>`}static get styles(){return b(":host {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n  --frigate-card-ptz-icon-size: 24px;\n}\n\n/*****************\n * Main Containers\n *****************/\n.ptz {\n  display: flex;\n  gap: 10px;\n  color: var(--light-primary-color);\n  opacity: 0.4;\n  transition: opacity 0.3s ease-in-out;\n}\n\n:host([data-orientation=vertical]) .ptz {\n  flex-direction: column;\n}\n\n:host([data-orientation=horizontal]) .ptz {\n  flex-direction: row;\n}\n\n.ptz:hover {\n  opacity: 1;\n}\n\n:host([data-orientation=vertical]) .ptz div {\n  width: calc(var(--frigate-card-ptz-icon-size) * 3);\n}\n\n:host([data-orientation=horizontal]) .ptz div {\n  height: calc(var(--frigate-card-ptz-icon-size) * 3);\n}\n\n.ptz-move,\n.ptz-zoom,\n.ptz-home {\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.ptz-move {\n  height: calc(var(--frigate-card-ptz-icon-size) * 3);\n  width: calc(var(--frigate-card-ptz-icon-size) * 3);\n  border-radius: 50%;\n}\n\n:host([data-orientation=horizontal]) .ptz .ptz-zoom,\n:host([data-orientation=horizontal]) .ptz .ptz-home {\n  width: calc(var(--frigate-card-ptz-icon-size) * 1.5);\n}\n\n:host([data-orientation=vertical]) .ptz .ptz-zoom,\n:host([data-orientation=vertical]) .ptz .ptz-home {\n  height: calc(var(--frigate-card-ptz-icon-size) * 1.5);\n}\n\n.ptz-zoom,\n.ptz-home {\n  border-radius: var(--ha-card-border-radius, 4px);\n}\n\n/***********\n * PTZ Icons\n ***********/\nha-icon {\n  position: absolute;\n  --mdc-icon-size: var(--frigate-card-ptz-icon-size);\n}\n\nha-icon:not(.disabled) {\n  cursor: pointer;\n}\n\n.disabled {\n  color: var(--disabled-text-color);\n}\n\n.up {\n  top: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.down {\n  bottom: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.left {\n  left: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.right {\n  right: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n:host([data-orientation=vertical]) .zoom_in {\n  right: 5px;\n  top: 50%;\n}\n\n:host([data-orientation=vertical]) .zoom_out {\n  left: 5px;\n  top: 50%;\n}\n\n:host([data-orientation=horizontal]) .zoom_in {\n  left: 50%;\n  top: 5px;\n}\n\n:host([data-orientation=horizontal]) .zoom_out {\n  left: 50%;\n  bottom: 5px;\n}\n\n:host([data-orientation=vertical]) .zoom_in,\n:host([data-orientation=vertical]) .zoom_out {\n  transform: translateY(-50%);\n}\n\n:host([data-orientation=horizontal]) .zoom_in,\n:host([data-orientation=horizontal]) .zoom_out {\n  transform: translateX(-50%);\n}\n\n.home {\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}")}};e([be({attribute:!1})],Lp.prototype,"hass",void 0),e([we()],Lp.prototype,"_config",void 0),Lp=e([_e("frigate-card-ptz")],Lp);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Up=e=>null!=e?e:J;const Fp="m 4.8759466,22.743573 c 0.0866,0.69274 0.811811,1.16359 0.37885,1.27183 -0.43297,0.10824 -2.32718,-3.43665 -2.7601492,-4.95202 -0.4329602,-1.51538 -0.6764993,-3.22017 -0.5682593,-4.19434 0.1082301,-0.97417 5.7097085,-2.48955 5.7097085,-2.89545 0,-0.4059 -1.81304,-0.0271 -1.89422,-0.35178 -0.0812,-0.32472 1.36925,-0.12989 1.75892,-0.64945 0.60885,-0.81181 1.3800713,-0.6765 1.8671505,-1.1094696 0.4870902,-0.4329599 1.0824089,-2.0836399 1.1906589,-2.7871996 0.108241,-0.70357 -1.0824084,-1.51538 -1.4071389,-2.05658 -0.3247195,-0.54121 0.7035702,-0.92005 3.1931099,-1.94834 2.48954,-1.02829 10.39114,-3.30134994 10.49938,-3.03074994 0.10824,0.27061 -2.59779,1.40713994 -4.492,2.11069994 -1.89422,0.70357 -4.97909,2.05658 -4.97909,2.43542 0,0.37885 0.16236,0.67651 0.0541,1.54244 -0.10824,0.86593 -0.12123,1.2702597 -0.32472,1.8400997 -0.1353,0.37884 -0.2706,1.27183 0,2.0836295 0.21648,0.64945 0.92005,1.13653 1.24477,1.24478 0.2706,0.018 1.01746,0.0433 1.8401,0 1.02829,-0.0541 2.48954,0.0541 2.48954,0.32472 0,0.2706 -2.21894,0.10824 -2.21894,0.48708 0,0.37885 2.27306,-0.0541 2.21894,0.32473 -0.0541,0.37884 -1.89422,0.21648 -2.86839,0.21648 -0.77933,0 -1.93031,-0.0361 -2.43542,-0.21648 l -0.10824,0.37884 c -0.18038,0 -0.55744,0.10824 -0.94711,0.10824 -0.48708,0 -0.51414,0.16236 -1.40713,0.16236 -0.892989,0 -0.622391,-0.0541 -1.4341894,-0.10824 -0.81181,-0.0541 -3.842561,2.27306 -4.383761,3.03075 -0.54121,0.75768 -0.21649,2.59778 -0.21649,3.43665 0,0.75379 -0.10824,2.43542 0,3.30135 z",Hp=(e,t)=>0!=((e.attributes.supported_features??0)&t),Zp=e=>(e=>Hp(e,4)&&"number"==typeof e.attributes.in_progress)(e)||!!e.attributes.in_progress,qp=e=>{switch(e){case"armed_away":return"mdi:shield-lock";case"armed_vacation":return"mdi:shield-airplane";case"armed_home":return"mdi:shield-home";case"armed_night":return"mdi:shield-moon";case"armed_custom_bypass":return"mdi:security";case"pending":case"arming":return"mdi:shield-sync";case"triggered":return"mdi:bell-ring";case"disarmed":return"mdi:shield-off";default:return"mdi:shield"}},Vp=(e,t)=>{const n="off"===e;switch(t?.attributes.device_class){case"battery":return n?"mdi:battery":"mdi:battery-outline";case"battery_charging":return n?"mdi:battery":"mdi:battery-charging";case"cold":return n?"mdi:thermometer":"mdi:snowflake";case"connectivity":return n?"mdi:close-network-outline":"mdi:check-network-outline";case"door":return n?"mdi:door-closed":"mdi:door-open";case"garage_door":return n?"mdi:garage":"mdi:garage-open";case"power":case"plug":return n?"mdi:power-plug-off":"mdi:power-plug";case"gas":case"problem":case"safety":case"tamper":return n?"mdi:check-circle":"mdi:alert-circle";case"smoke":return n?"mdi:check-circle":"mdi:smoke";case"heat":return n?"mdi:thermometer":"mdi:fire";case"light":return n?"mdi:brightness5":"mdi:brightness-7";case"lock":return n?"mdi:lock":"mdi:lock-open";case"moisture":return n?"mdi:water-off":"mdi:water";case"motion":return n?"mdi:motion-sensor-off":"mdi:motion-sensor";case"occupancy":case"presence":return n?"mdi:home-outline":"mdi:home";case"opening":return n?"mdi:square":"mdi:square-outline";case"running":return n?"mdi:stop":"mdi:play";case"sound":return n?"mdi:music-note-off":"mdi:music-note";case"update":return n?"mdi:package":"mdi:package-up";case"vibration":return n?"mdi:crop-portrait":"mdi:vibrate";case"window":return n?"mdi:window-closed":"mdi:window-open";default:return n?"mdi:radiobox-blank":"mdi:checkbox-marked-circle"}},Wp=(e,t)=>{const n="closed"!==e;switch(t?.attributes.device_class){case"garage":switch(e){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:garage";default:return"mdi:garage-open"}case"gate":switch(e){case"opening":case"closing":return"mdi:gate-arrow-right";case"closed":return"mdi:gate";default:return"mdi:gate-open"}case"door":return n?"mdi:door-open":"mdi:door-closed";case"damper":return n?"md:circle":"mdi:circle-slice-8";case"shutter":switch(e){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-shutter";default:return"mdi:window-shutter-open"}case"curtain":switch(e){case"opening":return"mdi:arrow-split-vertical";case"closing":return"mdi:arrow-collapse-horizontal";case"closed":return"mdi:curtains-closed";default:return"mdi:curtains"}case"blind":case"shade":switch(e){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:blinds";default:return"mdi:blinds-open"}case"window":switch(e){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-closed";default:return"mdi:window-open"}}switch(e){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-closed";default:return"mdi:window-open"}},Bp={apparent_power:"mdi:flash",aqi:"mdi:air-filter",carbon_dioxide:"mdi:molecule-co2",carbon_monoxide:"mdi:molecule-co",current:"mdi:current-ac",date:"mdi:calendar",energy:"mdi:lightning-bolt",frequency:"mdi:sine-wave",gas:"mdi:gas-cylinder",humidity:"mdi:water-percent",illuminance:"mdi:brightness-5",monetary:"mdi:cash",nitrogen_dioxide:"mdi:molecule",nitrogen_monoxide:"mdi:molecule",nitrous_oxide:"mdi:molecule",ozone:"mdi:molecule",pm1:"mdi:molecule",pm10:"mdi:molecule",pm25:"mdi:molecule",power:"mdi:flash",power_factor:"mdi:angle-acute",pressure:"mdi:gauge",reactive_power:"mdi:flash",signal_strength:"mdi:wifi",sulphur_dioxide:"mdi:molecule",temperature:"mdi:thermometer",timestamp:"mdi:clock",volatile_organic_compounds:"mdi:molecule",voltage:"mdi:sine-wave"},Yp={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},Qp={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},Gp=(e,t)=>{const n=Number(e);if(isNaN(n))return"off"===e?"mdi:battery":"on"===e?"mdi:battery-alert":"mdi:battery-unknown";const i=10*Math.round(n/10);return t&&n>=10?Qp[i]:t?"mdi:battery-charging-outline":n<=5?"mdi:battery-alert-variant-outline":Yp[i]},Kp=e=>{const t=e?.attributes.device_class;if(t&&t in Bp)return Bp[t];if("battery"===t)return e?((e,t)=>{const n=e.state;return Gp(n,"on"===t?.state)})(e):"mdi:battery";const n=e?.attributes.unit_of_measurement;return"C"===n||"F"===n?"mdi:thermometer":void 0},Xp="mdi:bookmark",Jp={alert:"mdi:alert",air_quality:"mdi:air-filter",automation:"mdi:robot",calendar:"mdi:calendar",camera:"mdi:video",climate:"mdi:thermostat",configurator:"mdi:cog",conversation:"mdi:text-to-speech",counter:"mdi:counter",fan:"mdi:fan",google_assistant:"mdi:google-assistant",group:"mdi:google-circles-communities",homeassistant:"mdi:home-assistant",homekit:"mdi:home-automation",image_processing:"mdi:image-filter-frames",input_button:"mdi:gesture-tap-button",input_datetime:"mdi:calendar-clock",input_number:"mdi:ray-vertex",input_select:"mdi:format-list-bulleted",input_text:"mdi:form-textbox",light:"mdi:lightbulb",mailbox:"mdi:mailbox",notify:"mdi:comment-alert",number:"mdi:ray-vertex",persistent_notification:"mdi:bell",person:"mdi:account",plant:"mdi:flower",proximity:"mdi:apple-safari",remote:"mdi:remote",scene:"mdi:palette",script:"mdi:script-text",select:"mdi:format-list-bulleted",sensor:"mdi:eye",siren:"mdi:bullhorn",simple_alarm:"mdi:bell",sun:"mdi:white-balance-sunny",timer:"mdi:timer-outline",updater:"mdi:cloud-upload",vacuum:"mdi:robot-vacuum",water_heater:"mdi:thermometer",weather:"mdi:weather-cloudy",zone:"mdi:map-marker-radius"};function eg(e,t,n){switch(e){case"alarm_control_panel":return qp(n);case"binary_sensor":return Vp(n,t);case"button":switch(t?.attributes.device_class){case"restart":return"mdi:restart";case"update":return"mdi:package-up";default:return"mdi:gesture-tap-button"}case"cover":return Wp(n,t);case"device_tracker":return"router"===t?.attributes.source_type?"home"===n?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(t?.attributes.source_type)?"home"===n?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===n?"mdi:account-arrow-right":"mdi:account";case"humidifier":return n&&"off"===n?"mdi:air-humidifier-off":"mdi:air-humidifier";case"input_boolean":return"on"===n?"mdi:check-circle-outline":"mdi:close-circle-outline";case"lock":switch(n){case"unlocked":return"mdi:lock-open";case"jammed":return"mdi:lock-alert";case"locking":case"unlocking":return"mdi:lock-clock";default:return"mdi:lock"}case"media_player":switch(t?.attributes.device_class){case"speaker":switch(n){case"playing":return"mdi:speaker-play";case"paused":return"mdi:speaker-pause";case"off":return"mdi:speaker-off";default:return"mdi:speaker"}case"tv":switch(n){case"playing":return"mdi:television-play";case"paused":return"mdi:television-pause";case"off":return"mdi:television-off";default:return"mdi:television"}default:switch(n){case"playing":case"paused":return"mdi:cast-connected";case"off":return"mdi:cast-off";default:return"mdi:cast"}}case"switch":switch(t?.attributes.device_class){case"outlet":return"on"===n?"mdi:power-plug":"mdi:power-plug-off";case"switch":return"on"===n?"mdi:toggle-switch":"mdi:toggle-switch-off";default:return"mdi:flash"}case"zwave":switch(n){case"dead":return"mdi:emoticon-dead";case"sleeping":return"mdi:sleep";case"initializing":return"mdi:timer-sand";default:return"mdi:z-wave"}case"sensor":{const e=Kp(t);if(e)return e;break}case"input_datetime":if(!t?.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar";break;case"sun":return"above_horizon"===t?.state?Jp[e]:"mdi:weather-night";case"update":return"on"===t?.state?Zp(t)?"mdi:package-down":"mdi:package-up":"mdi:package"}return e in Jp?Jp[e]:(console.warn(`Unable to find icon for domain ${e}`),Xp)}function tg(e){if(!e)return Xp;if(e.attributes.icon)return e.attributes.icon;return eg(s(e.entity_id),e,e.state)}async function ng(e,t,n,i=!1){let a;try{a=await e.callWS(n)}catch(e){if(!(e instanceof Error))throw new Vo(wp("error.failed_response"),{request:n,response:e});throw e}if(!a)throw new Vo(wp("error.empty_response"),{request:n});const r=i?t.safeParse(JSON.parse(a)):t.safeParse(a);if(!r.success)throw new Vo(wp("error.invalid_response"),{request:n,response:a,invalid_keys:Io(r.error)});return r.data}async function ig(e,t,n){const i={type:"auth/sign_path",path:t,expires:n},a=await ng(e,jc,i);return a?e.hassUrl(a.path):null}function ag(e,t,n,i){if(!e||!n||!n.length)return[];const a=[];for(const r of n){const n=t?.states[r],o=e.states[r];if((i?.stateOnly&&n?.state!==o?.state||!i?.stateOnly&&n!==o)&&(a.push({entity:r,oldState:n,newState:o}),i?.firstOnly))break}return a}function rg(e,t,n,i){return!!ag(e,t,n,{...i,firstOnly:!0}).length}function og(e){if("off"===e.state||!e.attributes.brightness)return"";return`brightness(${(e.attributes.brightness+245)/5}%)`}function sg(e){return"off"===e.state?"":e.attributes.rgb_color?`rgb(${e.attributes.rgb_color.join(",")})`:""}function cg(e){return{color:sg(e),filter:og(e)}}const lg=e=>{const t=e.entity_id.split(".")[0];let n=e.state;return"climate"===t&&(n=e.attributes.hvac_action),n};function dg(e,t){if(!t.entity)return t;const n=e.states[t.entity];n&&t.state_color&&(t.style={...cg(n),...t.style}),t.title=t.title??(n?.attributes?.friendly_name||t.entity),t.icon=t.icon??tg(n);const i=n?function(e){return s(e.entity_id)}(n):void 0;return t.data_domain=t.state_color||"light"===i&&!1!==t.state_color?i:void 0,n&&(t.data_state=lg(n)),t}function ug(e,t){return t?e?.states[t]?.attributes?.friendly_name:void 0}function hg(e,t){return tg(t?e?.states[t]:null)}const mg=async()=>{if(["ha-selector","ha-menu-button","ha-camera-stream","ha-hls-player","ha-web-rtc-player","ha-icon","ha-circular-progress","ha-icon-button","ha-card","ha-svg-icon","ha-button-menu"].every((e=>customElements.get(e))))return!0;const e=await window.loadCardHelpers(),t=await e.createCardElement({type:"picture-glance",entities:[],camera_image:"dummy-to-load-editor-components"});return!!t.constructor.getConfigElement&&(await t.constructor.getConfigElement(),!0)},fg=e=>!!e&&["on","open"].includes(e.state),pg=(e,t)=>{if(!e)return[];const n=Object.keys(e.states).filter((e=>!t||e.substr(0,e.indexOf("."))===t));return n.sort(),n};function gg(e,t){return e&&t&&t.startsWith("/")?e.hassUrl(t):t??null}const vg=(e,t,n)=>{const i=e.states[t],a=n?.state?n.state:i?i.state:null;if(!a)return null;const r=s(t),o=i?i.attributes:null;return n?.entity?.translation_key&&e.localize(`component.${n.entity.platform}.entity.${r}.${n.entity.translation_key}.state.${a}`)||o?.device_class&&e.localize(`component.${r}.state.${o.device_class}.${a}`)||e.localize(`component.${r}.state._.${a}`)||a};let _g=class extends ge{_renderItem(e){if(!this.hass)return;const t=dg(this.hass,{...e});return K`
      <mwc-list-item
        style="${He(t.style||{})}"
        graphic=${Up(t.icon?"icon":void 0)}
        ?twoline=${!!e.subtitle}
        ?selected=${e.selected}
        ?activated=${e.selected}
        ?disabled=${!1===e.enabled}
        aria-label="${t.title||""}"
        @action=${t=>{t.detail.config=e}}
        .actionHandler=${Uc({hasHold:Dc(e.hold_action),hasDoubleClick:Dc(e.double_tap_action)})}
      >
        <span>${t.title||""}</span>
        ${e.subtitle?K`<span slot="secondary">${e.subtitle}</span>`:""}
        ${(e=>e.icon?K` <ha-icon
          style="${He(e.style||{})}"
          data-domain=${Up(e.data_domain)}
          data-state=${Up(e.data_state)}
          slot="graphic"
          icon="${e.icon||""}"
        >
        </ha-icon>`:K``)(t)}
      </mwc-list-item>
    `}render(){return this.submenu?K`
      <ha-button-menu
        corner=${"BOTTOM_LEFT"}
        @closed=${e=>e.stopPropagation()}
        @click=${e=>Rc(e)}
      >
        <ha-icon-button
          style="${He(this.submenu.style||{})}"
          class="button"
          slot="trigger"
          .label=${this.submenu.title||""}
          .actionHandler=${Uc({allowPropagation:!0,hasHold:Dc(this.submenu.hold_action),hasDoubleClick:Dc(this.submenu.double_tap_action)})}
        >
          <ha-icon icon="${this.submenu.icon}"></ha-icon>
        </ha-icon-button>
        ${this.submenu.items.map(this._renderItem.bind(this))}
      </ha-button-menu>
    `:K``}static get styles(){return b("ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  pointer-events: auto;\n}\n\nmwc-list-item {\n  z-index: 20;\n}")}};e([be({attribute:!1})],_g.prototype,"hass",void 0),e([be({attribute:!1})],_g.prototype,"submenu",void 0),_g=e([_e("frigate-card-submenu")],_g);let yg=class extends ge{shouldUpdate(e){const t=e.get("hass");return!e.has("hass")||!t||!this.submenuSelect||rg(this.hass,t,[this.submenuSelect.entity])}async _refreshOptionTitles(){if(!this.hass||!this.submenuSelect)return;const e=this.submenuSelect.entity,t=this.hass.states[e]?.attributes?.options,n=await(this.entityRegistryManager?.getEntity(this.hass,e))??null,i={};for(const a of t){const t=vg(this.hass,e,{...n&&{entity:n},state:a});t&&(i[a]=t)}this._optionTitles=i}willUpdate(){if(!this.submenuSelect||!this.hass)return;this._optionTitles||this._refreshOptionTitles();const e=this.submenuSelect.entity,t=this.hass.states[e],n=t?.attributes?.options;if(!t||!n)return;const i={icon:eg("select"),...dg(this.hass,this.submenuSelect),...this.submenuSelect,type:"custom:frigate-card-menu-submenu",items:[]};delete i.options;for(const a of n){const n=this._optionTitles?.[a]??a;i.items.push({state_color:!0,selected:t.state===a,enabled:!0,title:n||a,...(e.startsWith("select.")||e.startsWith("input_select."))&&{tap_action:{action:"call-service",service:e.startsWith("select.")?"select.select_option":"input_select.select_option",service_data:{entity_id:e,option:a}}},...this.submenuSelect.options&&this.submenuSelect.options[a]})}this._generatedSubmenu=i}render(){return K` <frigate-card-submenu
      .hass=${this.hass}
      .submenu=${this._generatedSubmenu}
    ></frigate-card-submenu>`}};var bg;e([be({attribute:!1})],yg.prototype,"hass",void 0),e([be({attribute:!1})],yg.prototype,"submenuSelect",void 0),e([be({attribute:!1})],yg.prototype,"entityRegistryManager",void 0),e([we()],yg.prototype,"_optionTitles",void 0),yg=e([_e("frigate-card-submenu-select")],yg);const wg="frigate";let xg=bg=class extends ge{constructor(){super(...arguments),this.expanded=!1,this.buttons=[]}set menuConfig(e){this._menuConfig=e,e&&this.style.setProperty("--frigate-card-menu-button-size",`${e.button_size}px`),this.setAttribute("data-style",e.style),this.setAttribute("data-position",e.position),this.setAttribute("data-alignment",e.alignment)}static isHidingMenu(e){return"hidden"===e?.style??!1}toggleMenu(){this._isHidingMenu()&&(this.expanded=!this.expanded)}_isHidingMenu(){return bg.isHidingMenu(this._menuConfig)}_isMenuToggleAction(e){if(!e)return!1;const t=zc(e);return!!t&&"menu_toggle"==t.frigate_card_action}_actionHandler(e,t){if(!e)return;e.detail.config&&(t=e.detail.config),e.stopPropagation();const n=e.detail.action;let i=Ic(n,t);if(!t||!n)return;let a=!1,r=!1;if(Array.isArray(i)){const e=i.length;i=i.filter((e=>!this._isMenuToggleAction(e))),i.length!=e&&(r=!0),i.length&&(a=Pc(this,this.hass,t,n,i))}else this._isMenuToggleAction(i)?r=!0:a=Pc(this,this.hass,t,n,i);this._isHidingMenu()&&(r?this.expanded=!this.expanded:a&&(this.expanded=!1))}willUpdate(e){const t=this._menuConfig?.style,n=(e,n)=>{if("hidden"===t){if(e.icon===wg)return-1;if(n.icon===wg)return 1}return void 0===e.priority||void 0!==n.priority&&n.priority>e.priority?1:void 0===n.priority||void 0!==e.priority&&n.priority<e.priority?-1:0};(e.has("_menuConfig")||e.has("buttons"))&&this.buttons.sort(n)}_renderButton(e){if("custom:frigate-card-menu-submenu"===e.type)return K` <frigate-card-submenu
        .hass=${this.hass}
        .submenu=${e}
        @action=${this._actionHandler.bind(this)}
      >
      </frigate-card-submenu>`;if("custom:frigate-card-menu-submenu-select"===e.type)return K` <frigate-card-submenu-select
        .hass=${this.hass}
        .submenuSelect=${e}
        .entityRegistryManager=${this.entityRegistryManager}
        @action=${this._actionHandler.bind(this)}
      >
      </frigate-card-submenu-select>`;let t={...e};const n=t.icon===wg?Fp:"";this.hass&&"custom:frigate-card-menu-state-icon"===e.type&&(t=dg(this.hass,t));const i=Dc(e.hold_action),a=Dc(e.double_tap_action);return K` <ha-icon-button
      data-domain=${Up(t.data_domain)}
      data-state=${Up(t.data_state)}
      class="${Ee({button:!0})}"
      style="${He(t.style||{})}"
      .actionHandler=${Uc({hasHold:i,hasDoubleClick:a})}
      .label=${t.title||""}
      @action=${t=>this._actionHandler(t,e)}
    >
      ${n?K`<ha-svg-icon .path="${n}"></ha-svg-icon>`:K`<ha-icon
            icon="${t.icon||"mdi:gesture-tap-button"}"
          ></ha-icon>`}
    </ha-icon-button>`}render(){if(!this._menuConfig)return;const e=this._menuConfig.style;if("none"===e)return;const t=("hidden"!==e||this.expanded?this.buttons.filter((e=>!e.alignment||"matching"===e.alignment)):this.buttons.filter((e=>e.icon===wg))).filter((e=>!1!==e.enabled)),n="hidden"!==e||this.expanded?this.buttons.filter((e=>"opposing"===e.alignment&&!1!==e.enabled)):[],i={flex:String(t.length)},a={flex:String(n.length)};return K` <div class="matching" style="${He(i)}">
        ${t.map((e=>this._renderButton(e)))}
      </div>
      <div class="opposing" style="${He(a)}">
        ${n.map((e=>this._renderButton(e)))}
      </div>`}static get styles(){return b('ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  --frigate-card-menu-button-size: 40px;\n  --mdc-icon-button-size: var(--frigate-card-menu-button-size);\n  --mdc-icon-size: calc(var(--mdc-icon-button-size) / 2);\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n/***********************************\n * Aligned divs: matching & opposing\n ***********************************/\ndiv.matching,\ndiv.opposing {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  align-items: flex-start;\n  min-width: 0px;\n  min-height: 0px;\n}\n\ndiv.matching {\n  justify-content: flex-start;\n}\n\ndiv.opposing {\n  justify-content: flex-end;\n}\n\n/********************\n * Outside menu style\n ********************/\n:host([data-style=outside]) {\n  width: 100%;\n  background: var(--secondary-background-color);\n}\n\n/************************************\n * Match menu rounded corners to card\n ************************************/\n:host([data-position=top]),\n:host([data-position=left]) {\n  border-top-left-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=top]),\n:host([data-position=right]) {\n  border-top-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=bottom]),\n:host([data-position=left]) {\n  border-bottom-left-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=bottom]),\n:host([data-position=right]) {\n  border-bottom-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n/**************************************\n * Positioning for absolute menu styles\n **************************************/\n:host(:not([data-style=outside])[data-position=top]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=top]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=top]) {\n  top: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=bottom]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]) {\n  bottom: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=left]),\n:host(:not([data-style=outside])[data-position=top][data-alignment=left]),\n:host(:not([data-style=outside])[data-position=bottom][data-alignment=left]) {\n  left: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=right]),\n:host(:not([data-style=outside])[data-position=top][data-alignment=right]),\n:host(:not([data-style=outside])[data-position=bottom][data-alignment=right]) {\n  right: 0px;\n}\n\n/********************************************************\n * Hack: Ensure host & div expand for column flex layouts\n ********************************************************/\n:host(:not([data-style=outside])[data-position=left]) {\n  writing-mode: vertical-lr;\n}\n\n:host(:not([data-style=outside])[data-position=right]) {\n  writing-mode: vertical-rl;\n}\n\n:host(:not([data-style=outside])[data-style=overlay][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style=overlay][data-position=right]) div > *,\n:host(:not([data-style=outside])[data-style*=hover][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style*=hover][data-position=right]) div > *,\n:host(:not([data-style=outside])[data-style=hidden][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style=hidden][data-position=right]) div > * {\n  writing-mode: horizontal-tb;\n}\n\n/**********************\n * "Reverse" alignments\n **********************/\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]),\n:host([data-position=top][data-alignment=right]),\n:host([data-position=bottom][data-alignment=right]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]) div,\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]) div,\n:host([data-position=top][data-alignment=right]) div,\n:host([data-position=bottom][data-alignment=right]) div {\n  flex-direction: row-reverse;\n}\n\n/****************************\n * Wrap upwards on the bottom\n ****************************/\n:host(:not([data-style=outside])[data-position=bottom]) div {\n  flex-wrap: wrap-reverse;\n}\n\n/********************************************\n * Positioning for absolute based menu styles\n ********************************************/\n:host([data-style=overlay]),\n:host([data-style*=hover]),\n:host([data-style=hidden]) {\n  position: absolute;\n  overflow: hidden;\n  width: calc(var(--frigate-card-menu-button-size) + 6px);\n  height: calc(var(--frigate-card-menu-button-size) + 6px);\n}\n\n:host([data-style=overlay][data-position=top]),\n:host([data-style=overlay][data-position=bottom]),\n:host([data-style*=hover][data-position=top]),\n:host([data-style*=hover][data-position=bottom]),\n:host([data-style=hidden][data-position=top][expanded]),\n:host([data-style=hidden][data-position=bottom][expanded]) {\n  width: 100%;\n  height: auto;\n  overflow: visible;\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0));\n}\n\n:host([data-style=overlay][data-position=left]),\n:host([data-style=overlay][data-position=right]),\n:host([data-style*=hover][data-position=left]),\n:host([data-style*=hover][data-position=right]),\n:host([data-style=hidden][data-position=left][expanded]),\n:host([data-style=hidden][data-position=right][expanded]) {\n  height: 100%;\n  width: auto;\n  overflow: visible;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0));\n}')}};function Cg(e){return"number"==typeof e}function $g(e){return"[object Object]"===Object.prototype.toString.call(e)}function kg(e){return $g(e)||function(e){return Array.isArray(e)}(e)}function Eg(e){return Math.abs(e)}function Sg(e){return e?e/Eg(e):0}function Mg(e,t){return Eg(e-t)}function Tg(e){return zg(e).map(Number)}function Ag(e){return e[jg(e)]}function jg(e){return Math.max(0,e.length-1)}function zg(e){return Object.keys(e)}function Og(e,t){return[e,t].reduce((function(e,t){return zg(t).forEach((function(n){var i=e[n],a=t[n],r=$g(i)&&$g(a);e[n]=r?Og(i,a):a})),e}),{})}function Ig(e,t){var n=zg(e),i=zg(t);return n.length===i.length&&n.every((function(n){var i=e[n],a=t[n];return"function"==typeof i?"".concat(i)==="".concat(a):kg(i)&&kg(a)?Ig(i,a):i===a}))}function Pg(e,t){var n={start:function(){return 0},center:function(e){return i(e)/2},end:i};function i(e){return t-e}var a={measure:function(i){return Cg(e)?t*Number(e):n[e](i)}};return a}function Dg(e,t){var n=Eg(e-t);function i(t){return t<e}function a(e){return e>t}function r(e){return i(e)||a(e)}var o={length:n,max:t,min:e,constrain:function(n){return r(n)?i(n)?e:t:n},reachedAny:r,reachedMax:a,reachedMin:i,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}};return o}function Rg(e,t,n){var i=Dg(0,e),a=i.min,r=i.constrain,o=e+1,s=c(t);function c(e){return n?Eg((o+e)%o):r(e)}function l(){return s}function d(e){return s=c(e),u}var u={add:function(e){return d(l()+e)},clone:function(){return Rg(e,l(),n)},get:l,set:d,min:a,max:e};return u}function Ng(){var e=[];var t={add:function(n,i,a,r){return void 0===r&&(r={passive:!0}),n.addEventListener(i,a,r),e.push((function(){return n.removeEventListener(i,a,r)})),t},removeAll:function(){return e=e.filter((function(e){return e()})),t}};return t}function Lg(e){var t=e;function n(e){return t/=e,a}function i(e){return Cg(e)?e:e.get()}var a={add:function(e){return t+=i(e),a},divide:n,get:function(){return t},multiply:function(e){return t*=e,a},normalize:function(){return 0!==t&&n(t),a},set:function(e){return t=i(e),a},subtract:function(e){return t-=i(e),a}};return a}function Ug(e,t,n,i,a,r,o,s,c,l,d,u,h,m,f,p){var g=e.cross,v=["INPUT","SELECT","TEXTAREA"],_={passive:!1},y=Lg(0),b=Ng(),w=Ng(),x=h.measure(20),C={mouse:300,touch:400},$={mouse:500,touch:600},k=f?5:16,E=1,S=0,M=0,T=!1,A=!1,j=!1,z=!1;function O(e){if(!((z=!a.isTouchEvent(e))&&0!==e.button||function(e){var t=e.nodeName||"";return v.indexOf(t)>-1}(e.target))){var t,o=Mg(i.get(),r.get())>=2,s=z||!o;T=!0,a.pointerDown(e),y.set(i),i.set(r),c.useBaseMass().useSpeed(80),t=z?document:n,w.add(t,"touchmove",I,_).add(t,"touchend",P).add(t,"mousemove",I,_).add(t,"mouseup",P),S=a.readPoint(e),M=a.readPoint(e,g),u.emit("pointerDown"),s&&(j=!1)}}function I(e){if(!A&&!z){if(!e.cancelable)return P(e);var n=a.readPoint(e),r=a.readPoint(e,g),s=Mg(n,S),c=Mg(r,M);if(!(A=s>c)&&!j)return P(e)}var l=a.pointerMove(e);!j&&l&&(j=!0),o.start(),i.add(t.apply(l)),e.preventDefault()}function P(e){var n=l.byDistance(0,!1).index!==d.get(),r=a.pointerUp(e)*(f?$:C)[z?"mouse":"touch"],o=function(e,t){var n=d.clone().add(-1*Sg(e)),i=n.get()===d.min||n.get()===d.max,a=l.byDistance(e,!f).distance;return f||Eg(e)<x?a:!m&&i?.4*a:p&&t?.5*a:l.byIndex(n.get(),0).distance}(t.apply(r),n),h=function(e,t){if(0===e||0===t)return 0;if(Eg(e)<=Eg(t))return 0;var n=Mg(Eg(e),Eg(t));return Eg(n/e)}(r,o),g=Mg(i.get(),y.get())>=.5,v=n&&h>.75,_=Eg(r)<x,b=v?10:k,S=v?E+2.5*h:E;g&&!z&&(j=!0),A=!1,T=!1,w.removeAll(),c.useSpeed(_?9:b).useMass(S),s.distance(o,!f),z=!1,u.emit("pointerUp")}function D(e){j&&(e.stopPropagation(),e.preventDefault())}return{addActivationEvents:function(){var e=n;b.add(e,"dragstart",(function(e){return e.preventDefault()}),_).add(e,"touchmove",(function(){}),_).add(e,"touchend",(function(){})).add(e,"touchstart",O).add(e,"mousedown",O).add(e,"touchcancel",P).add(e,"contextmenu",P).add(e,"click",D,!0)},clickAllowed:function(){return!j},pointerDown:function(){return T},removeAllEvents:function(){b.removeAll(),w.removeAll()}}}function Fg(e,t,n){var i,a,r=(i=2,a=Math.pow(10,i),function(e){return Math.round(e*a)/a}),o=Lg(0),s=Lg(0),c=Lg(0),l=0,d=t,u=n;function h(e){return d=e,f}function m(e){return u=e,f}var f={direction:function(){return l},seek:function(t){c.set(t).subtract(e);var n,i,a,r,h=(n=c.get(),(a=0)+(n-(i=0))/(100-i)*(d-a));return l=Sg(c.get()),c.normalize().multiply(h).subtract(o),(r=c).divide(u),s.add(r),f},settle:function(t){var n=t.get()-e.get(),i=!r(n);return i&&e.set(t),i},update:function(){o.add(s),e.add(o),s.multiply(0)},useBaseMass:function(){return m(n)},useBaseSpeed:function(){return h(t)},useMass:m,useSpeed:h};return f}function Hg(e,t,n,i,a){var r=a.measure(10),o=a.measure(50),s=.85,c=!1;return{constrain:function(a){if(!c&&e.reachedAny(n.get())&&e.reachedAny(t.get())){var l=e.reachedMin(t.get())?"min":"max",d=Eg(e[l]-t.get()),u=n.get()-t.get(),h=Math.min(d/o,s);n.subtract(u*h),!a&&Eg(u)<r&&(n.set(e.constrain(n.get())),i.useSpeed(10).useMass(3))}},toggleActive:function(e){c=!e}}}function Zg(e,t,n,i){var a=Dg(-t+e,n[0]),r=n.map(a.constrain);return{snapsContained:function(){if(t<=e)return[a.max];if("keepSnaps"===i)return r;var n=function(){var e=r[0],t=Ag(r),n=r.lastIndexOf(e),i=r.indexOf(t)+1;return Dg(n,i)}(),o=n.min,s=n.max;return r.slice(o,s)}()}}function qg(e,t,n,i){var a=Dg(t.min+.1,t.max+.1),r=a.reachedMin,o=a.reachedMax;var s={loop:function(t){if(function(e){return 1===e?o(n.get()):-1===e&&r(n.get())}(t)){var a=e*(-1*t);i.forEach((function(e){return e.add(a)}))}}};return s}function Vg(e){var t=e.max,n=e.length;var i={get:function(e){return(e-t)/-n}};return i}function Wg(e,t,n,i,a){var r=i.reachedAny,o=i.removeOffset,s=i.constrain;function c(e){return e.concat().sort((function(e,t){return Eg(e)-Eg(t)}))[0]}function l(t,i){var a=[t,t+n,t-n];if(!e)return a[0];if(!i)return c(a);var r=a.filter((function(e){return Sg(e)===i}));return c(r)}var d={byDistance:function(n,i){var c=a.get()+n,d=function(n){var i=e?o(n):s(n),a=t.map((function(e){return e-i})).map((function(e){return l(e,0)})).map((function(e,t){return{diff:e,index:t}})).sort((function(e,t){return Eg(e.diff)-Eg(t.diff)}));return{index:a[0].index,distance:i}}(c),u=d.index,h=d.distance,m=!e&&r(c);return!i||m?{index:u,distance:n}:{index:u,distance:n+l(t[u]-h,0)}},byIndex:function(e,n){return{index:e,distance:l(t[e]-a.get(),n)}},shortcut:l};return d}function Bg(e,t,n){var i="x"===e.scroll?function(e){return"translate3d(".concat(e,"px,0px,0px)")}:function(e){return"translate3d(0px,".concat(e,"px,0px)")},a=n.style,r=!1;return{clear:function(){r||(a.transform="",n.getAttribute("style")||n.removeAttribute("style"))},to:function(e){r||(a.transform=i(t.apply(e.get())))},toggleActive:function(e){r=!e}}}function Yg(e,t,n,i,a,r,o,s,c){var l,d=Tg(a),u=Tg(a).reverse(),h=(l=r[0]-1,p(f(u,l),"end")).concat(function(){var e=n-r[0]-1,t=f(d,e);return p(t,"start")}());function m(e,t){return e.reduce((function(e,t){return e-a[t]}),t)}function f(e,t){return e.reduce((function(e,n){return m(e,t)>0?e.concat([n]):e}),[])}function p(n,a){var r="start"===a,l=r?-i:i,d=o.findSlideBounds([l]);return n.map((function(n){var a=r?0:-i,o=r?i:0,l=d.filter((function(e){return e.index===n}))[0],u=l[r?"end":"start"],h=Lg(-1),m=Lg(-1),f=Bg(e,t,c[n]);return{index:n,location:m,translate:f,target:function(){return h.set(s.get()>u?a:o)}}}))}var g={canLoop:function(){return h.every((function(e){var t=e.index,i=d.filter((function(e){return e!==t}));return m(i,n)<=.1}))},clear:function(){h.forEach((function(e){return e.translate.clear()}))},loop:function(){h.forEach((function(e){var t=e.target,n=e.translate,i=e.location,a=t();a.get()!==i.get()&&(0===a.get()?n.clear():n.to(a),i.set(a))}))},loopPoints:h};return g}function Qg(e,t,n,i,a,r,o){var s=a.removeOffset,c=a.constrain,l=.5,d=r?[0,t,-t]:[0],u=h(d,o);function h(t,a){var r=t||d,o=function(e){var t=e||0;return n.map((function(e){return Dg(l,e-l).constrain(e*t)}))}(a);return r.reduce((function(t,a){var r=i.map((function(t,i){return{start:t-n[i]+o[i]+a,end:t+e-o[i]+a,index:i}}));return t.concat(r)}),[])}return{check:function(e,t){var n=r?s(e):c(e);return(t||u).reduce((function(e,t){var i=t.index,a=t.start,r=t.end;return!(-1!==e.indexOf(i))&&(a<n&&r>n)?e.concat([i]):e}),[])},findSlideBounds:h}}function Gg(e,t,n){var i=Cg(n);var a={groupSlides:function(a){return i?function(e,t){return Tg(e).filter((function(e){return e%t==0})).map((function(n){return e.slice(n,n+t)}))}(a,n):function(n){return Tg(n).reduce((function(n,i){var a=t.slice(Ag(n),i+1).reduce((function(e,t){return e+t}),0);return!i||a>e?n.concat(i):n}),[]).map((function(e,t,i){return n.slice(e,i[t+1])}))}(a)}};return a}function Kg(e,t,n,i,a){var r=i.align,o=i.axis,s=i.direction,c=i.startIndex,l=i.inViewThreshold,d=i.loop,u=i.speed,h=i.dragFree,m=i.slidesToScroll,f=i.skipSnaps,p=i.containScroll,g=t.getBoundingClientRect(),v=n.map((function(e){return e.getBoundingClientRect()})),_=function(e){var t="rtl"===e?-1:1,n={apply:function(e){return e*t}};return n}(s),y=function(e,t){var n="y"===e?"y":"x";return{scroll:n,cross:"y"===e?"x":"y",startEdge:"y"===n?"top":"rtl"===t?"right":"left",endEdge:"y"===n?"bottom":"rtl"===t?"left":"right",measureSize:function(e){var t=e.width,i=e.height;return"x"===n?t:i}}}(o,s),b=y.measureSize(g),w=function(e){var t={measure:function(t){return e*(t/100)}};return t}(b),x=Pg(r,b),C=!d&&""!==p,$=function(e,t,n,i,a){var r=e.measureSize,o=e.startEdge,s=e.endEdge,c=n[0]&&a,l=function(){if(!c)return 0;var e=n[0];return Eg(t[o]-e[o])}(),d=function(){if(!c)return 0;var e=window.getComputedStyle(Ag(i));return parseFloat(e.getPropertyValue("margin-".concat(s)))}(),u=n.map(r),h=n.map((function(e,t,n){var i=!t,a=t===jg(n);return i?u[t]+l:a?u[t]+d:n[t+1][o]-e[o]})).map(Eg);return{slideSizes:u,slideSizesWithGaps:h}}(y,g,v,n,d||""!==p),k=$.slideSizes,E=$.slideSizesWithGaps,S=Gg(b,E,m),M=function(e,t,n,i,a,r,o){var s,c=e.startEdge,l=e.endEdge,d=r.groupSlides,u=d(i).map((function(e){return Ag(e)[l]-e[0][c]})).map(Eg).map(t.measure),h=i.map((function(e){return n[c]-e[c]})).map((function(e){return-Eg(e)})),m=(s=Ag(h)-Ag(a),d(h).map((function(e){return e[0]})).map((function(e,t,n){var i=!t,a=t===jg(n);return o&&i?0:o&&a?s:e+u[t]})));return{snaps:h,snapsAligned:m}}(y,x,g,v,E,S,C),T=M.snaps,A=M.snapsAligned,j=-Ag(T)+Ag(E),z=Zg(b,j,A,p).snapsContained,O=C?z:A,I=function(e,t,n){var i,a;return{limit:(i=t[0],a=Ag(t),Dg(n?i-e:a,i))}}(j,O,d).limit,P=Rg(jg(O),c,d),D=P.clone(),R=Tg(n),N=function(e){var t=0;function n(e,n){return function(){e===!!t&&n()}}function i(){t=window.requestAnimationFrame(e)}return{proceed:n(!0,i),start:n(!1,i),stop:n(!0,(function(){window.cancelAnimationFrame(t),t=0}))}}((function(){d||B.scrollBounds.constrain(B.dragHandler.pointerDown()),B.scrollBody.seek(F).update();var e=B.scrollBody.settle(F);e&&!B.dragHandler.pointerDown()&&(B.animation.stop(),a.emit("settle")),e||a.emit("scroll"),d&&(B.scrollLooper.loop(B.scrollBody.direction()),B.slideLooper.loop()),B.translate.to(U),B.animation.proceed()})),L=O[P.get()],U=Lg(L),F=Lg(L),H=Fg(U,u,1),Z=Wg(d,O,j,I,F),q=function(e,t,n,i,a,r){function o(i){var o=i.distance,s=i.index!==t.get();o&&(e.start(),a.add(o)),s&&(n.set(t.get()),t.set(i.index),r.emit("select"))}var s={distance:function(e,t){o(i.byDistance(e,t))},index:function(e,n){var a=t.clone().set(e);o(i.byIndex(a.get(),n))}};return s}(N,P,D,Z,F,a),V=Qg(b,j,k,T,I,d,l),W=Ug(y,_,e,F,function(e){var t,n,i=170;function a(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function r(e){return e.timeStamp}function o(t,n){var i=n||e.scroll,r="client".concat("x"===i?"X":"Y");return(a(t)?t.touches[0]:t)[r]}return{isTouchEvent:a,pointerDown:function(e){return t=e,n=e,o(e)},pointerMove:function(e){var a=o(e)-o(n),s=r(e)-r(t)>i;return n=e,s&&(t=e),a},pointerUp:function(e){if(!t||!n)return 0;var a=o(n)-o(t),s=r(e)-r(t),c=r(e)-r(n)>i,l=a/s;return s&&!c&&Eg(l)>.1?l:0},readPoint:o}}(y),U,N,q,H,Z,P,a,w,d,h,f),B={containerRect:g,slideRects:v,animation:N,axis:y,direction:_,dragHandler:W,eventStore:Ng(),percentOfView:w,index:P,indexPrevious:D,limit:I,location:U,options:i,scrollBody:H,scrollBounds:Hg(I,U,F,H,w),scrollLooper:qg(j,I,U,[U,F]),scrollProgress:Vg(I),scrollSnaps:O,scrollTarget:Z,scrollTo:q,slideLooper:Yg(y,_,b,j,E,O,V,U,n),slidesToScroll:S,slidesInView:V,slideIndexes:R,target:F,translate:Bg(y,_,t)};return B}e([be({attribute:!1})],xg.prototype,"hass",void 0),e([be({attribute:!0,type:Boolean,reflect:!0})],xg.prototype,"expanded",void 0),e([we()],xg.prototype,"_menuConfig",void 0),e([be({attribute:!1})],xg.prototype,"buttons",void 0),e([be({attribute:!1})],xg.prototype,"entityRegistryManager",void 0),xg=bg=e([_e("frigate-card-menu")],xg);var Xg={align:"center",axis:"x",containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function Jg(){function e(e,t){return Og(e,t||{})}var t={merge:e,areEqual:function(e,t){return JSON.stringify(zg(e.breakpoints||{}))===JSON.stringify(zg(t.breakpoints||{}))&&Ig(e,t)},atMedia:function(t){var n=t.breakpoints||{},i=zg(n).filter((function(e){return window.matchMedia(e).matches})).map((function(e){return n[e]})).reduce((function(t,n){return e(t,n)}),{});return e(t,i)}};return t}function ev(e,t,n){var i,a,r,o,s,c=Ng(),l=Jg(),d=function(){var e=Jg(),t=e.atMedia,n=e.areEqual,i=[],a=[];function r(e){var i=t(e.options);return function(){return!n(i,t(e.options))}}var o={init:function(e,n){return a=e.map(r),(i=e.filter((function(e){return t(e.options).active}))).forEach((function(e){return e.init(n)})),e.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.name]=t,n))}),{})},destroy:function(){i=i.filter((function(e){return e.destroy()}))},haveChanged:function(){return a.some((function(e){return e()}))}};return o}(),u=function(){var e={};function t(t){return e[t]||[]}var n={emit:function(e){return t(e).forEach((function(t){return t(e)})),n},off:function(i,a){return e[i]=t(i).filter((function(e){return e!==a})),n},on:function(i,a){return e[i]=t(i).concat([a]),n}};return n}(),h=u.on,m=u.off,f=w,p=!1,g=l.merge(Xg,ev.globalOptions),v=l.merge(g),_=[],y=0;function b(t,n){if(!p){var c,h;if(c="container"in e&&e.container,h="slides"in e&&e.slides,r="root"in e?e.root:e,o=c||r.children[0],s=h||[].slice.call(o.children),g=l.merge(g,t),v=l.atMedia(g),i=Kg(r,o,s,v,u),y=i.axis.measureSize(r.getBoundingClientRect()),!v.active)return x();if(i.translate.to(i.location),_=n||_,a=d.init(_,E),v.loop){if(!i.slideLooper.canLoop())return x(),b({loop:!1},n),void(g=l.merge(g,{loop:!0}));i.slideLooper.loop()}v.draggable&&o.offsetParent&&s.length&&i.dragHandler.addActivationEvents()}}function w(e,t){var n=k();x(),b(l.merge({startIndex:n},e),t),u.emit("reInit")}function x(){i.dragHandler.removeAllEvents(),i.animation.stop(),i.eventStore.removeAll(),i.translate.clear(),i.slideLooper.clear(),d.destroy()}function C(e){var t=i[e?"target":"location"].get(),n=v.loop?"removeOffset":"constrain";return i.slidesInView.check(i.limit[n](t))}function $(e,t,n){v.active&&!p&&(i.scrollBody.useBaseMass().useSpeed(t?100:v.speed),i.scrollTo.index(e,n||0))}function k(){return i.index.get()}var E={canScrollNext:function(){return i.index.clone().add(1).get()!==k()},canScrollPrev:function(){return i.index.clone().add(-1).get()!==k()},clickAllowed:function(){return i.dragHandler.clickAllowed()},containerNode:function(){return o},internalEngine:function(){return i},destroy:function(){p||(p=!0,c.removeAll(),x(),u.emit("destroy"))},off:m,on:h,plugins:function(){return a},previousScrollSnap:function(){return i.indexPrevious.get()},reInit:f,rootNode:function(){return r},scrollNext:function(e){$(i.index.clone().add(1).get(),!0===e,-1)},scrollPrev:function(e){$(i.index.clone().add(-1).get(),!0===e,1)},scrollProgress:function(){return i.scrollProgress.get(i.location.get())},scrollSnapList:function(){return i.scrollSnaps.map(i.scrollProgress.get)},scrollTo:$,selectedScrollSnap:k,slideNodes:function(){return s},slidesInView:C,slidesNotInView:function(e){var t=C(e);return i.slideIndexes.filter((function(e){return-1===t.indexOf(e)}))}};return b(t,n),c.add(window,"resize",(function(){var e=l.atMedia(g),t=!l.areEqual(e,v),n=i.axis.measureSize(r.getBoundingClientRect()),a=y!==n,o=d.haveChanged();(a||t||o)&&w(),u.emit("resize")})),setTimeout((function(){return u.emit("init")}),0),E}function tv(){return tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tv.apply(this,arguments)}ev.globalOptions=void 0,ev.optionsHandler=Jg;var nv=function(e,t){return void 0===t&&(t=.996),e*t/(1-t)};function iv(e,t){if(e.length!==t.length)throw new Error("vectors must be same length");return e.map((function(e,n){return e+t[n]}))}function av(e){return Math.max.apply(Math,e.map(Math.abs))}function rv(e){return Object.freeze(e),Object.values(e).forEach((function(e){null===e||"object"!=typeof e||Object.isFrozen(e)||rv(e)})),e}var ov=[1,18,"undefined"!=typeof window&&window.innerHeight||800];var sv=[-1,-1,-1];var cv=function(e){return tv({},e,{axisDelta:e.axisDelta.map((function(e){return t=e,n=-700,i=700,Math.min(Math.max(n,t),i);var t,n,i}))})},lv=.6,dv=.96,uv=2,hv=5,mv=rv({preventWheelAction:!0,reverseSign:[!0,!0,!1]}),fv=400;function pv(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:fv}}function gv(e){void 0===e&&(e={});var t,n,i,a=function(){var e={};function t(t,n){e[t]=(e[t]||[]).filter((function(e){return e!==n}))}return rv({on:function(n,i){return e[n]=(e[n]||[]).concat(i),function(){return t(n,i)}},off:t,dispatch:function(t,n){t in e&&e[t].forEach((function(e){return e(n)}))}})}(),r=a.on,o=a.off,s=a.dispatch,c=mv,l=pv(),d=!1,u=function(e){Array.isArray(e)?e.forEach((function(e){return f(e)})):f(e)},h=function(e){return void 0===e&&(e={}),Object.values(e).some((function(e){return null==e}))?c:c=rv(tv({},mv,c,e))},m=function(e){var i=tv({event:t,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:l.isMomentum,axisDelta:[0,0,0],axisVelocity:l.axisVelocity,axisMovement:l.axisMovement,get axisMovementProjection(){return iv(i.axisMovement,i.axisVelocity.map((function(e){return nv(e)})))}},e);s("wheel",tv({},i,{previous:n})),n=i},f=function(e){var n=cv(function(e,t){if(!t)return e;var n=!0===t?sv:t.map((function(e){return e?-1:1}));return tv({},e,{axisDelta:e.axisDelta.map((function(e,t){return e*n[t]}))})}(function(e){var t=e.deltaX*ov[e.deltaMode],n=e.deltaY*ov[e.deltaMode],i=(e.deltaZ||0)*ov[e.deltaMode];return{timeStamp:e.timeStamp,axisDelta:[t,n,i]}}(e),c.reverseSign)),i=n.axisDelta,a=n.timeStamp,r=av(i);e.preventDefault&&function(e,t){var n=c.preventWheelAction,i=t[0],a=t[1],r=t[2];if("boolean"==typeof n)return n;switch(n){case"x":return Math.abs(i)>=e;case"y":return Math.abs(a)>=e;case"z":return Math.abs(r)>=e;default:return!1}}(r,i)&&e.preventDefault(),l.isStarted?l.isMomentum&&r>Math.max(2,2*l.lastAbsDelta)&&($(!0),x()):x(),0===r&&Object.is&&Object.is(e.deltaX,-0)?d=!0:(t=e,l.axisMovement=iv(l.axisMovement,i),l.lastAbsDelta=r,l.scrollPointsToMerge.push({axisDelta:i,timeStamp:a}),p(),m({axisDelta:i,isStart:!l.isStartPublished}),l.isStartPublished=!0,C())},p=function(){var e;l.scrollPointsToMerge.length===uv?(l.scrollPoints.unshift({axisDeltaSum:l.scrollPointsToMerge.map((function(e){return e.axisDelta})).reduce(iv),timeStamp:(e=l.scrollPointsToMerge.map((function(e){return e.timeStamp})),e.reduce((function(e,t){return e+t}))/e.length)}),v(),l.scrollPointsToMerge.length=0,l.scrollPoints.length=1,l.isMomentum||b()):l.isStartPublished||g()},g=function(){var e;l.axisVelocity=(e=l.scrollPointsToMerge,e[e.length-1]).axisDelta.map((function(e){return e/l.willEndTimeout}))},v=function(){var e=l.scrollPoints,t=e[0],n=e[1];if(n&&t){var i=t.timeStamp-n.timeStamp;if(!(i<=0)){var a=t.axisDeltaSum.map((function(e){return e/i})),r=a.map((function(e,t){return e/(l.axisVelocity[t]||1)}));l.axisVelocity=a,l.accelerationFactors.push(r),_(i)}}},_=function(e){var t=10*Math.ceil(e/10)*1.2;l.isMomentum||(t=Math.max(100,2*t)),l.willEndTimeout=Math.min(1e3,Math.round(t))},y=function(e){return 0===e||e<=dv&&e>=lv},b=function(){if(l.accelerationFactors.length>=hv){if(d&&(d=!1,av(l.axisVelocity)>=.2))return void w();var e=l.accelerationFactors.slice(-1*hv);e.every((function(e){var t=!!e.reduce((function(e,t){return e&&e<1&&e===t?1:0})),n=e.filter(y).length===e.length;return t||n}))&&w(),l.accelerationFactors=e}},w=function(){l.isMomentum=!0},x=function(){(l=pv()).isStarted=!0,l.startTime=Date.now(),n=void 0,d=!1},C=function(){clearTimeout(i),i=setTimeout($,l.willEndTimeout)},$=function(e){void 0===e&&(e=!1),l.isStarted&&(l.isMomentum&&e?m({isEnding:!0,isMomentumCancel:!0}):m({isEnding:!0}),l.isMomentum=!1,l.isStarted=!1)},k=function(e){var t=[],n=function(n){n.removeEventListener("wheel",e),t=t.filter((function(e){return e!==n}))};return rv({observe:function(i){return i.addEventListener("wheel",e,{passive:!1}),t.push(i),function(){return n(i)}},unobserve:n,disconnect:function(){t.forEach(n)}})}(u),E=k.observe,S=k.unobserve,M=k.disconnect;return h(e),rv({on:r,off:o,observe:E,unobserve:S,disconnect:M,feedWheel:u,updateOptions:h})}var vv={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};function _v(e){var t,n=ev.optionsHandler(),i=n.merge(vv,_v.globalOptions),a=function(){};var r={name:"wheelGestures",options:n.merge(i,e),init:function(e){var i,o;t=n.atMedia(r.options);var s,c=e.internalEngine(),l=null!=(i=t.target)?i:e.containerNode().parentNode,d=null!=(o=t.forceWheelAxis)?o:c.options.axis,u=gv({preventWheelAction:d,reverseSign:[!0,!0,!1]}),h=u.observe(l),m=u.on("wheel",(function(e){var n=e.axisDelta,i=n[0],r=n[1],o="x"===d?i:r,c="x"===d?r:i,u=e.isMomentum&&e.previous&&!e.previous.isMomentum,h=e.isEnding&&!e.isMomentum||u;Math.abs(o)>Math.abs(c)&&!f&&!e.isMomentum&&function(e){try{_(s=new MouseEvent("mousedown",e.event))}catch(e){return a()}f=!0,document.documentElement.addEventListener("mousemove",g,!0),document.documentElement.addEventListener("mouseup",g,!0),void document.documentElement.addEventListener("mousedown",g,!0),t.wheelDraggingClass&&l.classList.add(t.wheelDraggingClass)}(e);if(!f)return;h?function(e){f=!1,_(v("mouseup",e)),p(),t.wheelDraggingClass&&l.classList.remove(t.wheelDraggingClass)}(e):_(v("mousemove",e))})),f=!1;function p(){document.documentElement.removeEventListener("mousemove",g,!0),document.documentElement.removeEventListener("mouseup",g,!0),document.documentElement.removeEventListener("mousedown",g,!0)}function g(e){f&&e.isTrusted&&e.stopImmediatePropagation()}function v(e,t){var n,i;if(d===c.options.axis){var a=t.axisMovement;n=a[0],i=a[1]}else{var r=t.axisMovement;i=r[0],n=r[1]}return new MouseEvent(e,{clientX:s.clientX+n,clientY:s.clientY+i,screenX:s.screenX+n,screenY:s.screenY+i,movementX:n,movementY:i,button:0,bubbles:!0,cancelable:!0,composed:!0})}function _(t){e.containerNode().dispatchEvent(t)}a=function(){h(),m(),p()}},destroy:function(){return a()}};return r}_v.globalOptions=void 0;var yv=":host {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-left: 5px;\n  padding: 5px;\n  color: var(--primary-text-color);\n  overflow: hidden;\n  column-gap: 5%;\n}\n\ndiv.title {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\ndiv.details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  --mdc-icon-size: 16px;\n  min-height: 0px;\n}";const bv=(e,t,n,i)=>{const a={...i?.cardWideConfig&&{cardWideConfig:i.cardWideConfig}};return K` ${t.render({initial:()=>i?.inProgressFunc?.()??Sp(a),pending:()=>i?.inProgressFunc?.()??Sp(a),error:t=>{$f(t),Ap(e,t)},complete:n})}`},wv=0,xv=Symbol();
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Cv{constructor(e,t,n){this.o=0,this.status=0,this.autoRun=!0,this.i=e,this.i.addController(this);const i="object"==typeof t?t:{task:t,args:n};this.t=i.task,this.h=i.args,void 0!==i.autoRun&&(this.autoRun=i.autoRun),this.taskComplete=new Promise(((e,t)=>{this.l=e,this.u=t}))}hostUpdated(){this.performTask()}async performTask(){var e;const t=null===(e=this.h)||void 0===e?void 0:e.call(this);this.shouldRun(t)&&this.run(t)}shouldRun(e){return this.autoRun&&this.v(e)}async run(e){var t;let n,i;null!=e||(e=null===(t=this.h)||void 0===t?void 0:t.call(this)),2!==this.status&&3!==this.status||(this.taskComplete=new Promise(((e,t)=>{this.l=e,this.u=t}))),this.status=1,this._=void 0,this.m=void 0,this.i.requestUpdate();const a=++this.o;try{n=await this.t(e)}catch(e){i=e}this.o===a&&(n===xv?this.status=0:(void 0===i?(this.status=2,this.l(n)):(this.status=3,this.u(i)),this.m=n,this._=i),this.i.requestUpdate())}get value(){return this.m}get error(){return this._}render(e){var t,n,i,a;switch(this.status){case 0:return null===(t=e.initial)||void 0===t?void 0:t.call(e);case 1:return null===(n=e.pending)||void 0===n?void 0:n.call(e);case 2:return null===(i=e.complete)||void 0===i?void 0:i.call(e,this.value);case 3:return null===(a=e.error)||void 0===a?void 0:a.call(e,this.error);default:this.status}}v(e){const t=this.T;return this.T=e,Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.some(((e,n)=>A(e,t[n]))):e!==t}}const $v=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,kv=(e,t,n,i=!0)=>new Cv(e,{args:()=>[!!t(),n()],task:async([e,n])=>{const i=t();return e&&i&&n?(async(e,t)=>e&&t?t.startsWith("data:")||t.match($v)?t:new Promise(((n,i)=>{e?e.fetchWithAuth(t).then((e=>e.blob())).then((e=>{const t=new FileReader;t.onload=()=>{const e=t.result;n("string"==typeof e?e:null)},t.onerror=e=>i(e),t.readAsDataURL(e)})):i()})):null)(i,n):null},autoRun:i});class Ev{static isEvent(e){return this.isClip(e)||this.isSnapshot(e)}static isRecording(e){return"recording"===e.getMediaType()}static isClip(e){return"clip"===e.getMediaType()}static isSnapshot(e){return"snapshot"===e.getMediaType()}static isVideo(e){return this.isClip(e)||this.isRecording(e)}}const Sv=async(e,t,n)=>{const i=await t.getMediaDownloadPath(e,n);if(!i)throw new Vo(wp("error.download_no_media"));let a=i.endpoint;if(i.sign){let t;try{t=await ig(e,i.endpoint)}catch(e){$f(e)}if(!t)throw new Vo(wp("error.download_sign_failed"));a=t}if(!(new URL(a).origin===window.location.origin)||navigator.userAgent.startsWith("Home Assistant/")||navigator.userAgent.startsWith("HomeAssistant/"))window.open(a,"_blank");else{const e=document.createElement("a");e.setAttribute("download","download"),e.href=a,e.click(),e.remove()}},Mv=300;let Tv=class extends ge{constructor(){super(),this._intersectionObserver=new IntersectionObserver(this._intersectionHandler.bind(this))}connectedCallback(){this._intersectionObserver.observe(this),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._intersectionObserver.disconnect()}willUpdate(e){e.has("thumbnail")&&(this._embedThumbnailTask=kv(this,(()=>this.hass),(()=>this.thumbnail),!1),this._intersectionObserver.unobserve(this),this._intersectionObserver.observe(this))}_intersectionHandler(e){this._embedThumbnailTask?.status===wv&&e.some((e=>e.isIntersecting))&&this._embedThumbnailTask?.run()}render(){if(!this._embedThumbnailTask)return;const e=K`<ha-icon
      icon="mdi:image-off"
      title=${wp("thumbnail.no_thumbnail")}
    ></ha-icon> `;return K`${this.thumbnail?bv(this,this._embedThumbnailTask,(e=>e?K`<img src="${e}" />`:K``),{inProgressFunc:()=>e}):e} `}static get styles(){return b(":host {\n  display: block;\n  overflow: hidden;\n  aspect-ratio: 1/1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nimg {\n  display: block;\n}\n\nimg,\nha-icon {\n  display: inline-block;\n  vertical-align: top;\n  margin: 0;\n  border-radius: var(--frigate-card-css-border-radius, var(--ha-card-border-radius, 4px));\n  max-width: var(--frigate-card-thumbnail-size);\n  max-height: 100%;\n  aspect-ratio: 1/1;\n  object-fit: cover;\n}\n\nha-icon {\n  --mdc-icon-size: 50%;\n  color: var(--primary-text-color);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  box-sizing: border-box;\n  opacity: 0.2;\n}")}};e([be({attribute:!1})],Tv.prototype,"thumbnail",void 0),e([be({attribute:!1})],Tv.prototype,"hass",void 0),Tv=e([_e("frigate-card-thumbnail-feature-event")],Tv);let Av=class extends ge{render(){if(this.date)return K`
      <div class="title">${_f(this.date,"HH:mm")}</div>
      <div class="subtitle">${_f(this.date,"MMM do")}</div>
      ${this.cameraTitle?K`<div class="camera">${this.cameraTitle}</div>`:K``}
    `}static get styles(){return b(":host {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  aspect-ratio: 1/1;\n  overflow: hidden;\n  max-width: var(--frigate-card-thumbnail-size);\n  max-height: var(--frigate-card-thumbnail-size);\n  padding: 10px;\n  border: 1px solid var(--secondary-color);\n  background-color: var(--secondary-background-color);\n  border-radius: var(--frigate-card-css-border-radius, var(--ha-card-border-radius, 4px));\n  box-sizing: border-box;\n  color: var(--primary-text-color);\n}\n\ndiv {\n  text-align: center;\n}\n\ndiv.title {\n  font-size: 1.5rem;\n}\n\ndiv.camera {\n  font-size: 0.7em;\n}")}};e([be({attribute:!1})],Av.prototype,"date",void 0),e([be({attribute:!1})],Av.prototype,"cameraTitle",void 0),Av=e([_e("frigate-card-thumbnail-feature-recording")],Av);let jv=class extends ge{render(){if(!this.media)return;const e=this.media.getScore(),t=e?(100*e).toFixed(2)+"%":null,n=this.media.getStartTime(),i=n?Ef(n):null,a=this.media.getEndTime(),r=n&&a?Tf(n,a):null,o=this.media.inProgress()?wp("event.in_progress"):null,s=bf(this.media.getWhat()?.join(", "))??null,c=bf(this.media.getWhere()?.join(", "))??null,l=bf(this.media.getTags()?.join(", "))??null,d=s||l?(s??"")+(s&&l?": ":"")+(l??""):null,u=this.seek?_f(this.seek,"HH:mm:ss"):null;return K`
      ${d?K` <div class="title">
            <span title=${d}>${d}</span>
            ${t?K`<span title="${t}">${t}</span>`:""}
          </div>`:""}
      <div class="details">
        ${i?K` <div>
                <ha-icon
                  title=${wp("event.start")}
                  .icon=${"mdi:calendar-clock-outline"}
                ></ha-icon>
                <span title="${i}">${i}</span>
              </div>
              ${r||o?K` <div>
                    <ha-icon
                      title=${wp("event.duration")}
                      .icon=${"mdi:clock-outline"}
                    ></ha-icon>
                    ${r?K`<span title="${r}">${r}</span>`:""}
                    ${o?K`<span title="${o}">${o}</span>`:""}
                  </div>`:""}`:""}
        ${this.cameraTitle?K` <div>
              <ha-icon title=${wp("event.camera")} .icon=${"mdi:cctv"}></ha-icon>
              <span title="${this.cameraTitle}">${this.cameraTitle}</span>
            </div>`:""}
        ${c?K` <div>
              <ha-icon
                title=${wp("event.where")}
                .icon=${"mdi:map-marker-outline"}
              ></ha-icon>
              <span title="${c}">${c}</span>
            </div>`:K``}
        ${l?K` <div>
              <ha-icon title=${wp("event.tag")} .icon=${"mdi:tag"}></ha-icon>
              <span title="${l}">${l}</span>
            </div>`:K``}
        ${u?K` <div>
              <ha-icon
                title=${wp("event.seek")}
                .icon=${"mdi:clock-fast"}
              ></ha-icon>
              <span title="${u}">${u}</span>
            </div>`:K``}
      </div>
    `}static get styles(){return b(yv)}};e([be({attribute:!1})],jv.prototype,"media",void 0),e([be({attribute:!1})],jv.prototype,"seek",void 0),e([be({attribute:!1})],jv.prototype,"cameraTitle",void 0),jv=e([_e("frigate-card-thumbnail-details-event")],jv);let zv=class extends ge{render(){if(!this.media)return;const e=this.media.getStartTime(),t=e?Ef(e):null,n=this.media.getEndTime(),i=e&&n?Tf(e,n):null,a=this.media.inProgress()?wp("recording.in_progress"):null,r=this.seek?_f(this.seek,"HH:mm:ss"):null,o=this.media.getEventCount();return K`
      ${this.cameraTitle?K` <div class="title">
            <span title="${this.cameraTitle}">${this.cameraTitle}</span>
          </div>`:""}
      <div class="details">
        ${t?K` <div>
                <ha-icon
                  title=${wp("recording.start")}
                  .icon=${"mdi:calendar-clock-outline"}
                ></ha-icon>
                <span title="${t}">${t}</span>
              </div>
              ${i||a?K` <div>
                    <ha-icon
                      title=${wp("recording.duration")}
                      .icon=${"mdi:clock-outline"}
                    ></ha-icon>
                    ${i?K`<span title="${i}">${i}</span>`:""}
                    ${a?K`<span title="${a}">${a}</span>`:""}
                  </div>`:""}`:""}
        ${r?K` <div>
              <ha-icon
                title=${wp("event.seek")}
                .icon=${"mdi:clock-fast"}
              ></ha-icon>
              <span title="${r}">${r}</span>
            </div>`:K``}
        ${null!==o?K`<div>
              <ha-icon
                title=${wp("recording.events")}
                .icon=${"mdi:shield-alert"}
              ></ha-icon>
              <span title="${o}">${o}</span>
            </div>`:""}
      </div>
    `}static get styles(){return b(yv)}};e([be({attribute:!1})],zv.prototype,"media",void 0),e([be({attribute:!1})],zv.prototype,"seek",void 0),e([be({attribute:!1})],zv.prototype,"cameraTitle",void 0),zv=e([_e("frigate-card-thumbnail-details-recording")],zv);let Ov=class extends ge{constructor(){super(...arguments),this.details=!1,this.show_favorite_control=!1,this.show_timeline_control=!1,this.show_download_control=!1}render(){if(!this.media||!this.cameraManager||!this.hass)return;const e=this.media.getThumbnail(),t=this.media.getTitle()??"",n={star:!0,starred:!!this.media?.isFavorite()},i=this.show_timeline_control&&this.view&&(!Ev.isRecording(this.media)||this.media.getStartTime()&&this.media.getEndTime()),a=this.cameraManager?.getMediaCapabilities(this.media),r=this.show_favorite_control&&this.media&&this.hass&&a?.canFavorite,o=this.show_download_control&&this.hass&&this.media.getID()&&a?.canDownload,s=this.cameraManager.getCameraMetadata(this.hass,this.media.getCameraID())?.title;return K`
      ${Ev.isEvent(this.media)?K`<frigate-card-thumbnail-feature-event
            aria-label="${t??""}"
            title=${t}
            .hass=${this.hass}
            .thumbnail=${e??void 0}
          ></frigate-card-thumbnail-feature-event>`:Ev.isRecording(this.media)?K`<frigate-card-thumbnail-feature-recording
            aria-label="${t??""}"
            title="${t??""}"
            .cameraTitle=${this.details?void 0:s}
            .date=${this.media.getStartTime()??void 0}
          ></frigate-card-thumbnail-feature-recording>`:K``}
      ${r?K` <ha-icon
            class="${Ee(n)}"
            icon=${this.media.isFavorite()?"mdi:star":"mdi:star-outline"}
            title=${wp("thumbnail.retain_indefinitely")}
            @click=${async e=>{if(Rc(e),this.hass&&this.media){try{await(this.cameraManager?.favoriteMedia(this.hass,this.media,!this.media?.isFavorite()))}catch(e){return void $f(e)}this.requestUpdate()}}}
          /></ha-icon>`:""}
      ${this.details&&Ev.isEvent(this.media)?K`<frigate-card-thumbnail-details-event
            .media=${this.media??void 0}
            .cameraTitle=${s}
            .seek=${this.seek}
          ></frigate-card-thumbnail-details-event>`:this.details&&Ev.isRecording(this.media)?K`<frigate-card-thumbnail-details-recording
            .media=${this.media??void 0}
            .cameraTitle=${s}
            .seek=${this.seek}
          ></frigate-card-thumbnail-details-recording>`:K``}
      ${i?K`<ha-icon
            class="timeline"
            icon="mdi:target"
            title=${wp("thumbnail.timeline")}
            @click=${e=>{Rc(e),this.view&&this.media&&this.view.evolve({view:"timeline",queryResults:this.view.queryResults?.clone().selectResultIfFound((e=>e===this.media))}).removeContext("timeline").dispatchChangeEvent(this)}}
          ></ha-icon>`:""}
      ${o?K` <ha-icon
            class="download"
            icon=${"mdi:download"}
            title=${wp("thumbnail.download")}
            @click=${async e=>{if(Rc(e),this.hass&&this.cameraManager&&this.media)try{await Sv(this.hass,this.cameraManager,this.media)}catch(e){Ap(this,e)}}}
          ></ha-icon>`:""}
    `}static get styles(){return b(":host {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  transition: transform 0.2s linear;\n}\n\n:host(:not([details])) {\n  aspect-ratio: 1/1;\n}\n\n:host([details]) {\n  border: 1px solid var(--primary-color);\n  border-radius: var(--frigate-card-css-border-radius, var(--ha-card-border-radius, 4px));\n  padding: 2px;\n  background-color: var(--primary-background-color, black);\n}\n\n:host(:hover) {\n  transform: scale(1.04);\n}\n\nha-icon {\n  position: absolute;\n  border-radius: 50%;\n  opacity: 0.5;\n  color: var(--primary-color);\n  cursor: pointer;\n  transition: opacity 0.2s ease-in-out, color 0.2s ease-in-out;\n}\n\nha-icon:hover {\n  opacity: 1;\n}\n\nha-icon.star {\n  top: 3px;\n  left: 3px;\n}\n\nha-icon.star.starred {\n  color: gold;\n}\n\nha-icon.timeline {\n  top: 3px;\n  right: 3px;\n}\n\nha-icon.download {\n  right: 3px;\n  bottom: 3px;\n}\n\nfrigate-card-thumbnail-details-event, frigate-card-thumbnail-details-recording {\n  flex: 1;\n}")}};e([be({attribute:!1})],Ov.prototype,"hass",void 0),e([be({attribute:!1})],Ov.prototype,"cameraManager",void 0),e([be({attribute:!0})],Ov.prototype,"media",void 0),e([be({attribute:!0,type:Boolean})],Ov.prototype,"details",void 0),e([be({attribute:!0,type:Boolean})],Ov.prototype,"show_favorite_control",void 0),e([be({attribute:!0,type:Boolean})],Ov.prototype,"show_timeline_control",void 0),e([be({attribute:!0,type:Boolean})],Ov.prototype,"show_download_control",void 0),e([be({attribute:!1})],Ov.prototype,"seek",void 0),e([be({attribute:!1})],Ov.prototype,"view",void 0),Ov=e([_e("frigate-card-thumbnail")],Ov);let Iv=class extends ge{constructor(){super(...arguments),this.direction="horizontal",this.selected=0,this._refSlot=Ne(),this._scrolling=!1,this._reInitOnSettle=!1,this._carouselReInitInPlace=wt(this._carouselReInitInPlaceInternal.bind(this),500,{trailing:!0})}connectedCallback(){super.connectedCallback(),this.requestUpdate()}disconnectedCallback(){this._destroyCarousel(),super.disconnectedCallback()}willUpdate(e){["direction","carouselOptions","carouselPlugins"].some((t=>e.has(t)))&&this._destroyCarousel()}getCarouselSelected(){const e=this._carousel?.selectedScrollSnap(),t=void 0!==e?this._carousel?.slideNodes()[e]??null:null;return void 0!==e&&t?{index:e,element:t}:null}carousel(){return this._carousel??null}_carouselReInitInPlaceInternal(){(e=>{window.requestAnimationFrame((()=>{this._carousel?.reInit({...e})}))})({startIndex:this.selected})}carouselReInitWhenSafe(){this._scrolling?this._reInitOnSettle=!0:this._carouselReInitInPlace()}getCarouselPlugins(){return this._carousel?.plugins()??null}updated(e){super.updated(e),this._carousel||this._initCarousel(),e.has("selected")&&this._carousel?.scrollTo(this.selected,"none"===this.transitionEffect)}_destroyCarousel(){this._carousel&&this._carousel.destroy(),this._carousel=void 0}_initCarousel(){const e=this.renderRoot.querySelector(".embla__viewport"),t={root:e,slides:this._refSlot.value?.assignedElements({flatten:!0})};if(e&&t.slides){this._carousel=ev(t,{axis:"horizontal"==this.direction?"x":"y",speed:30,startIndex:this.selected,...this.carouselOptions},this.carouselPlugins);const e=()=>{const e=this.getCarouselSelected();e&&yf(this,"carousel:select",e),this.requestUpdate()};this._carousel.on("init",e),this._carousel.on("select",e),this._carousel.on("scroll",(()=>{this._scrolling=!0})),this._carousel.on("settle",(()=>{this._scrolling=!1,this._reInitOnSettle&&(this._reInitOnSettle=!1,this._carouselReInitInPlace())})),this._carousel.on("settle",(()=>{const e=this.getCarouselSelected();e&&yf(this,"carousel:settle",e)}))}}_slotChanged(){this._destroyCarousel(),this.requestUpdate()}render(){const e=this._refSlot.value?.assignedElements({flatten:!0})||[],t=this.carouselOptions?.loop||this.selected>0,n=this.carouselOptions?.loop||this.selected+1<e.length;return K` <div class="embla">
      ${t?K`<slot name="previous"></slot>`:""}
      <div class="embla__viewport">
        <div class="embla__container">
          <slot ${Fe(this._refSlot)} @slotchange=${this._slotChanged.bind(this)}></slot>
        </div>
      </div>
      ${n?K`<slot name="next"></slot>`:""}
    </div>`}static get styles(){return b(":host {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n\n.embla {\n  width: 100%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.embla__container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  -webkit-touch-callout: none;\n  -khtml-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n:host([direction=vertical]) .embla__container {\n  flex-direction: column;\n}\n\n:host([direction=horizontal]) .embla__container {\n  flex-direction: row;\n}\n\n.embla__viewport {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.embla__viewport.is-draggable {\n  cursor: move;\n  cursor: grab;\n}\n\n.embla__viewport.is-dragging {\n  cursor: grabbing;\n}\n\n:host([direction=vertical]) ::slotted(.embla__slide) {\n  margin-bottom: 5px;\n}\n\n:host([direction=horizontal]) ::slotted(.embla__slide) {\n  margin-right: 5px;\n}")}};e([be({attribute:!0,reflect:!0})],Iv.prototype,"direction",void 0),e([be({attribute:!1})],Iv.prototype,"carouselOptions",void 0),e([be({attribute:!1})],Iv.prototype,"carouselPlugins",void 0),e([be({attribute:!1})],Iv.prototype,"selected",void 0),e([be({attribute:!0})],Iv.prototype,"transitionEffect",void 0),Iv=e([_e("frigate-card-carousel")],Iv);let Pv=class extends ge{constructor(){super(),this._refCarousel=Ne(),this.selected=0,this._carouselOptions={containScroll:"keepSnaps",dragFree:!0},this._carouselPlugins=[_v({forceWheelAxis:"y"})],this._resizeObserver=new ResizeObserver(this._resizeHandler.bind(this))}_resizeHandler(){this._refCarousel.value?.carouselReInitWhenSafe()}connectedCallback(){super.connectedCallback(),this._resizeObserver.observe(this)}disconnectedCallback(){this._resizeObserver.disconnect(),super.disconnectedCallback()}_getSlides(){if(!this.view?.query||!this.view.queryResults?.hasResults())return[];const e=[];for(let t=0;t<this.view.queryResults.getResultsCount();++t){const n=this._renderThumbnail(t);n&&(e[t]=n)}return e}willUpdate(e){if(e.has("config")){this.config?.size&&this.style.setProperty("--frigate-card-thumbnail-size",`${this.config.size}px`);const e=this._getDirection();e?this.setAttribute("direction",e):this.removeAttribute("direction")}e.has("selected")&&this.style.setProperty("--frigate-card-carousel-thumbnail-opacity",void 0===this.selected?"1.0":"0.4")}_renderThumbnail(e){const t=this.view?.queryResults?.getResult(e)??null;if(!t||!this.view)return;const n={embla__slide:!0,"slide-selected":this.selected===e},i=this.view?.context?.mediaViewer?.seek;return K` <frigate-card-thumbnail
      class="${Ee(n)}"
      .cameraManager=${this.cameraManager}
      .hass=${this.hass}
      .media=${t}
      .view=${this.view}
      .seek=${i&&t.includesTime(i)?i:void 0}
      ?details=${!!this.config?.show_details}
      ?show_favorite_control=${this.config?.show_favorite_control}
      ?show_timeline_control=${this.config?.show_timeline_control}
      ?show_download_control=${this.config?.show_download_control}
      @click=${t=>{this.view&&this.view.queryResults&&yf(this,"thumbnail-carousel:tap",{queryResults:this.view.queryResults.clone().selectResult(e)}),Rc(t)}}
    >
    </frigate-card-thumbnail>`}_getDirection(){return"left"===this.config?.mode||"right"===this.config?.mode?"vertical":"above"===this.config?.mode||"below"===this.config?.mode?"horizontal":void 0}render(){const e=this._getSlides();if(e.length&&this.config&&"none"!==this.config.mode)return K`<frigate-card-carousel
      ${Fe(this._refCarousel)}
      direction=${Up(this._getDirection())}
      .selected=${this.selected??0}
      .carouselOptions=${this._carouselOptions}
      .carouselPlugins=${this._carouselPlugins}
    >
      ${e}
    </frigate-card-carousel>`}static get styles(){return b(":host {\n  --frigate-card-thumbnail-size-max: 175px;\n  --frigate-card-thumbnail-details-width: calc(\n    var(--frigate-card-thumbnail-size) + 200px\n  );\n}\n\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  --frigate-card-carousel-thumbnail-opacity: 1;\n}\n\n:host([direction=vertical]) {\n  height: 100%;\n}\n\n:host([direction=horizontal]) {\n  height: auto;\n}\n\n.embla__slide {\n  flex: 0 0 auto;\n  opacity: var(--frigate-card-carousel-thumbnail-opacity);\n}\n\n.embla__slide.slide-selected {\n  opacity: 1;\n}\n\nfrigate-card-thumbnail {\n  width: var(--frigate-card-thumbnail-size);\n  height: var(--frigate-card-thumbnail-size);\n}\n\nfrigate-card-thumbnail[details] {\n  width: var(--frigate-card-thumbnail-details-width);\n}")}};e([be({attribute:!1})],Pv.prototype,"hass",void 0),e([be({attribute:!1})],Pv.prototype,"view",void 0),e([be({attribute:!1})],Pv.prototype,"cameraManager",void 0),e([be({attribute:!1})],Pv.prototype,"config",void 0),e([be({attribute:!1})],Pv.prototype,"selected",void 0),Pv=e([_e("frigate-card-thumbnail-carousel")],Pv);const Dv=Oi.object({model:Oi.string().nullable(),config_entries:Oi.string().array(),manufacturer:Oi.string().nullable()}).array();class Rv extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield e)}}for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const i="number"==typeof n&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:i}):this._set(e,{value:t,expiry:i})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,a]=n;!1===this._deleteIfExpired(i,a)&&(yield[i,a.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,a]=n;if(!this.cache.has(i)){!1===this._deleteIfExpired(i,a)&&(yield[i,a.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[n,i]of this.entriesAscending())e.call(t,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}class Nv{constructor(){this._cache=new Rv({maxSize:1e3})}has(e){return this._cache.has(e)}get(e){return this._cache.get(e)}set(e,t){this._cache.set(e,t)}}const Lv=async(e,t,n)=>{const i=n?n.get(t):void 0;if(i)return i;const a={type:"media_source/resolve_media",media_content_id:t};let r=null;try{r=await ng(e,Ac,a)}catch(e){$f(e)}return n&&r&&n.set(t,r),r},Uv=50,Fv=Uv;function Hv(e){let t;return t=e instanceof Event?e.composedPath()[0]:e,t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t instanceof HTMLCanvasElement?{width:t.width,height:t.height}:null}function Zv(e,t){const n=Hv(t);n&&qv(e,n)}function qv(e,t){yf(e,"media:loaded",t)}function Vv(e){return e.height>=Uv&&e.width>=Fv}function Wv(e){yf(e,"media:unloaded")}class Bv{constructor(e){this._queries=null,e&&(this._queries=e)}clone(){return ih(this)}getQueries(){return this._queries}setQueries(e){this._queries=e}}class Yv extends Bv{convertToClipsQueries(){for(const e of this._queries??[])delete e.hasSnapshot,e.hasClip=!0}clone(){return ih(this)}}class Qv extends Bv{}class Gv{static areEventQueries(e){return e instanceof Yv}static areRecordingQueries(e){return e instanceof Qv}}class Kv{constructor(e){this.view=e.view,this.camera=e.camera,this.query=e.query??null,this.queryResults=e.queryResults??null,this.context=e.context??null}static isMajorMediaChange(e,t){return!e||!t||e.view!==t.view||e.camera!==t.camera||"live"===t.view&&e.context?.live?.overrides?.get(e.camera)!==t.context?.live?.overrides?.get(t.camera)||"live"!==t.view&&(e.queryResults!==t.queryResults||e.queryResults?.getSelectedResult()!==t.queryResults?.getSelectedResult())}static adoptQueryIfAppropriate(e,t){let n=null;if(Gv.areEventQueries(t?.query)){const e=t?.query.getQueries();e?.every((e=>e.hasClip))?n="clips":e?.every((e=>e.hasSnapshot))&&(n="snapshots")}else Gv.areRecordingQueries(t?.query)&&(n="recordings");!t?.isViewerView()||!e.isGalleryView()||e.query&&e.queryResults||e.view!==n||(t.query&&(e.query=t.query),t.queryResults&&(e.queryResults=t.queryResults))}clone(){return new Kv({view:this.view,camera:this.camera,query:this.query?.clone()??null,queryResults:this.queryResults?.clone()??null,context:this.context})}evolve(e){return new Kv({view:void 0!==e.view?e.view:this.view,camera:void 0!==e.camera?e.camera:this.camera,query:void 0!==e.query?e.query:this.query?.clone()??null,queryResults:void 0!==e.queryResults?e.queryResults:this.queryResults?.clone()??null,context:void 0!==e.context?e.context:this.context})}mergeInContext(e){return this.context={...this.context,...e},this}removeContext(e){return this.context&&delete this.context[e],this}is(e){return this.view==e}isGalleryView(){return["clips","snapshots","recordings"].includes(this.view)}isAnyMediaView(){return this.isViewerView()||this.is("live")||this.is("image")}isViewerView(){return["clip","snapshot","media","recording"].includes(this.view)}getDefaultMediaType(){return["clip","clips"].includes(this.view)?"clips":["snapshot","snapshots"].includes(this.view)?"snapshots":["recording","recordings"].includes(this.view)?"recordings":null}dispatchChangeEvent(e){yf(e,"view:change",this)}}const Xv=(e,t)=>{yf(e,"view:change-context",t)};var Jv,e_,t_,n_="5.0.0-beta.1",i_="Sun, 02 Apr 2023 16:39:55 GMT",a_="Sun, 2 Apr 2023 08:52:28 -0700",r_="5.0.0-beta.1-HEAD+geb55548";function o_(e){return e&&e.length?function(e,t){for(var n,i=-1,a=e.length;++i<a;){var r=t(e[i]);void 0!==r&&(n=void 0===n?r:n+r)}return n}(e,Td):0}function s_(e,t){sm(2,arguments);var n=lm(e),i=vm(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function c_(e,t){sm(2,arguments);var n=lm(e),i=vm(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var a=n.getDate(),r=new Date(n.getTime());return r.setMonth(n.getMonth()+i+1,0),a>=r.getDate()?r:(n.setFullYear(r.getFullYear(),r.getMonth(),a),n)}function l_(e){return l_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(e)}function d_(e,t){if(sm(2,arguments),!t||"object"!==l_(t))return new Date(NaN);var n=t.years?vm(t.years):0,i=t.months?vm(t.months):0,a=t.weeks?vm(t.weeks):0,r=t.days?vm(t.days):0,o=t.hours?vm(t.hours):0,s=t.minutes?vm(t.minutes):0,c=t.seconds?vm(t.seconds):0,l=lm(e),d=i||n?c_(l,i+12*n):l,u=r||a?s_(d,r+7*a):d,h=1e3*(c+60*(s+60*o));return new Date(u.getTime()+h)}!function(e){e.Event="event-query",e.Recording="recording-query",e.RecordingSegments="recording-segments-query",e.MediaMetadata="media-metadata"}(Jv||(Jv={})),function(e){e.Event="event-results",e.Recording="recording-results",e.RecordingSegments="recording-segments-results",e.MediaMetadata="media-metadata-results"}(e_||(e_={})),function(e){e.Frigate="frigate",e.Generic="generic",e.MotionEye="motioneye"}(t_||(t_={}));const u_=(e,...t)=>{e?.debug?.logging&&console.debug(...t)};function h_(e){return"string"==typeof e?.id&&e.id||"string"==typeof e?.camera_entity&&e.camera_entity||"object"==typeof e?.webrtc_card&&e.webrtc_card&&"string"==typeof e.webrtc_card.entity&&e.webrtc_card.entity||"object"==typeof e?.frigate&&e.frigate&&"string"==typeof e?.frigate.camera_name&&e.frigate.camera_name||""}const m_=(e,t)=>{if(!e||!t)return null;const n=e.getStore().getCameras(),i=new Set,a=e=>{const t=n.get(e);if(t){i.add(e);const r=new Set;(t.dependencies.cameras||[]).forEach((e=>r.add(e))),t.dependencies.all_cameras&&n.forEach(((e,t)=>r.add(t)));for(const e of r)i.has(e)||a(e)}};return t&&a(t),i};class f_ extends Vo{}class p_{constructor(){this._allConfigs=new Map,this._visibleConfigs=new Map,this._enginesByCamera=new Map,this._enginesByType=new Map}addCamera(e,t,n){t.hide||this._visibleConfigs.set(e,t),this._allConfigs.set(e,t),this._enginesByCamera.set(e,n),this._enginesByType.set(n.getEngineType(),n)}getCameraConfig(e){return this._allConfigs.get(e)??null}hasCameraID(e){return this._allConfigs.has(e)}hasVisibleCameraID(e){return this._visibleConfigs.has(e)}getCameraCount(){return this._allConfigs.size}getVisibleCameraCount(){return this._visibleConfigs.size}getCameras(){return this._allConfigs}getVisibleCameras(){return this._visibleConfigs}getCameraIDs(){return new Set(this._allConfigs.keys())}getVisibleCameraIDs(){return new Set(this._visibleConfigs.keys())}getCameraConfigForMedia(e){const t=e.getCameraID();return t?this.getCameraConfig(t):null}getEngineOfType(e){return this._enginesByType.get(e)??null}getEngineForCameraID(e){return this._enginesByCamera.get(e)??null}getEnginesForCameraIDs(e){const t=new Map;for(const n of e){const e=this.getEngineForCameraID(n);e&&(t.has(e)||t.set(e,new Set),t.get(e)?.add(n))}return t.size?t:null}getEngineForMedia(e){const t=e.getCameraID();return t?this.getEngineForCameraID(t):null}getAllEngines(){return[...this._enginesByType.values()]}}function g_(e){sm(1,arguments);var t=lm(e);return t.setMinutes(0,0,0),t}function v_(e){sm(1,arguments);var t=lm(e);return t.setMinutes(59,59,999),t}function __(e){sm(1,arguments);var t=lm(e);return t.setHours(0,0,0,0),t}function y_(e){sm(1,arguments);var t=lm(e);return t.setHours(23,59,59,999),t}var b_=1,w_=2;function x_(e){return e==e&&!Ze(e)}function C_(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function $_(e){var t=function(e){for(var t=qd(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,x_(a)]}return t}(e);return 1==t.length&&t[0][2]?C_(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,i){var a=n.length,r=a,o=!i;if(null==e)return!r;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){var c=(s=n[a])[0],l=e[c],d=s[1];if(o&&s[2]){if(void 0===l&&!(c in e))return!1}else{var u=new yl;if(i)var h=i(l,d,c,e,t,u);if(!(void 0===h?tm(d,l,b_|w_,i,u):h))return!1}}return!0}(n,e,t)}}function k_(e,t){return null!=e&&t in Object(e)}function E_(e,t){return null!=e&&function(e,t,n){for(var i=-1,a=(t=_h(t,e)).length,r=!1;++i<a;){var o=bh(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}return r||++i!=a?r:!!(a=null==e?0:e.length)&&Ql(a)&&wd(o,a)&&(Bl(e)||Wl(e))}(e,t,k_)}var S_=1,M_=2;function T_(e){return oh(e)?(t=bh(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return wh(t,e)}}(e);var t}function A_(e){return"function"==typeof e?e:null==e?Td:"object"==typeof e?Bl(e)?(t=e[0],n=e[1],oh(t)&&x_(n)?C_(bh(t),n):function(e){var i=xh(e,t);return void 0===i&&i===n?E_(e,t):tm(n,i,S_|M_)}):$_(e):T_(e);var t,n}var j_=function(e,t){return function(n,i){if(null==n)return n;if(!Gl(n))return e(n,i);for(var a=n.length,r=t?a:-1,o=Object(n);(t?r--:++r<a)&&!1!==i(o[r],r,o););return n}}((function(e,t){return e&&$l(e,t,qd)}));function z_(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e==e,r=lt(e),o=void 0!==t,s=null===t,c=t==t,l=lt(t);if(!s&&!l&&!r&&e>t||r&&o&&c&&!s&&!l||i&&o&&c||!n&&c||!a)return 1;if(!i&&!r&&!l&&e<t||l&&n&&a&&!i&&!r||s&&n&&a||!o&&a||!c)return-1}return 0}function O_(e,t,n){t=t.length?mh(t,(function(e){return Bl(e)?function(t){return wh(t,1===e.length?e[0]:e)}:e})):[Td];var i=-1;t=mh(t,cd(A_));var a=function(e,t){var n=-1,i=Gl(e)?Array(e.length):[];return j_(e,(function(e,a,r){i[++n]=t(e,a,r)})),i}(e,(function(e,n,a){return{criteria:mh(t,(function(t){return t(e)})),index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){for(var i=-1,a=e.criteria,r=t.criteria,o=a.length,s=n.length;++i<o;){var c=z_(a[i],r[i]);if(c)return i>=s?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function I_(e,t,n,i){return null==e?[]:(Bl(t)||(t=null==t?[]:[t]),Bl(n=i?void 0:n)||(n=null==n?[]:[n]),O_(e,t,n))}function P_(e){return e!=e}function D_(e,t){return!!(null==e?0:e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}(e,t,n):function(e,t,n,i){for(var a=e.length,r=n+(i?1:-1);i?r--:++r<a;)if(t(e[r],r,e))return r;return-1}(e,P_,n)}(e,t,0)>-1}function R_(e,t,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}var N_=nu&&1/jh(new nu([,-0]))[1]==1/0?function(e){return new nu(e)}:function(){},L_=200;function U_(e,t,n){var i=-1,a=D_,r=e.length,o=!0,s=[],c=s;if(n)o=!1,a=R_;else if(r>=L_){var l=t?null:N_(e);if(l)return jh(l);o=!1,a=Eh,c=new $h}else c=t?[]:s;e:for(;++i<r;){var d=e[i],u=t?t(d):d;if(d=n||0!==d?d:0,o&&u==u){for(var h=c.length;h--;)if(c[h]===u)continue e;t&&c.push(u),s.push(d)}else a(c,u,n)||(c!==s&&c.push(u),s.push(d))}return s}const F_=(e,t)=>{let n,i;return(e.end.getTime()-e.start.getTime())/1e3<=3600?(n=g_(e.start),i=v_(e.end)):(n=__(e.start),i=y_(e.end)),t?.endCap&&(i=function(e){sm(1,arguments);var t=lm(e);return t.setSeconds(59,999),t}(H_(i))),{start:n,end:i}},H_=e=>{const t=new Date;return e>t?t:e},Z_=e=>{return I_((n=e=>e.getID()??e,(t=e)&&t.length?U_(t,A_(n)):[]),(e=>e.getStartTime()),"asc");var t,n};class q_{static isEventQuery(e){return e.type===Jv.Event}static isRecordingQuery(e){return e.type===Jv.Recording}static isRecordingSegmentsQuery(e){return e.type===Jv.RecordingSegments}static isMediaMetadataQuery(e){return e.type===Jv.MediaMetadata}}class V_{static isEventQueryResult(e){return e.type===e_.Event}static isRecordingQuery(e){return e.type===e_.Recording}static isRecordingSegmentsQuery(e){return e.type===e_.RecordingSegments}static isMediaMetadataQuery(e){return e.type===e_.MediaMetadata}}class W_{constructor(e,t){this._engineFactory=e,this._cardWideConfig=t,this._store=new p_}async _getEnginesForCameras(e,t){const n=new Map,i=new Map,a=await(async t=>await Af(t,(t=>this._engineFactory.getEngineForCamera(e,t))))(t);for(const[e,r]of t.entries()){const t=a[e],o=t?i.get(t)??await this._engineFactory.createEngine(t):null;if(!o||!t)throw new f_(wp("error.no_camera_engine"),r);i.set(t,o),n.set(r,o)}return n}async _initializeCamera(e,t,n,i){return{inputConfig:i,initializedConfig:await t.initializeCamera(e,n,ih(i)),engine:t}}async initializeCameras(e,t,n){const i=new Date;n.some((e=>(e=>e.triggers.motion||e.triggers.occupancy)(e)))&&await t.fetchEntityList(e);const a=await this._getEnginesForCameras(e,n);if((await Af(a.entries(),(async([n,i])=>await this._initializeCamera(e,i,t,n)))).forEach((e=>{const t=h_(e.initializedConfig);if(!t)throw new f_(wp("error.no_camera_id"),e.inputConfig);if(this._store.hasCameraID(t))throw new f_(wp("error.duplicate_camera_id"),e.inputConfig);this._store.addCamera(t,e.initializedConfig,e.engine)})),!this._store.getVisibleCameraCount())throw new f_(wp("error.no_visible_cameras"));u_(this._cardWideConfig,"Frigate Card CameraManager initialized (Cameras: ",this._store.getCameras(),`, Duration: ${((new Date).getTime()-i.getTime())/1e3}s,`,")")}isInitialized(){return this._store.getCameraCount()>0}getStore(){return this._store}generateDefaultEventQueries(e,t){return this._generateDefaultQueries(e,{type:Jv.Event,...t})}generateDefaultRecordingQueries(e,t){return this._generateDefaultQueries(e,{type:Jv.Recording,...t})}generateDefaultRecordingSegmentsQueries(e,t){return this._generateDefaultQueries(e,{type:Jv.RecordingSegments,...t})}async getMediaMetadata(e){const t=new Set,n=new Set,i=new Set,a=new Set,r={type:Jv.MediaMetadata,cameraIDs:this._store.getCameraIDs()},o=await this._handleQuery(e,r);for(const e of o?.values()??[])e.metadata.tags&&e.metadata.tags.forEach(t.add,t),e.metadata.what&&e.metadata.what.forEach(n.add,n),e.metadata.where&&e.metadata.where.forEach(i.add,i),e.metadata.days&&e.metadata.days.forEach(a.add,a);return n.size||i.size||a.size?{...t.size&&{tags:t},...n.size&&{what:n},...i.size&&{where:i},...a.size&&{days:a}}:null}_generateDefaultQueries(e,t){const n=[],i=(a=e)instanceof Set?a:new Set(xf(a));var a;const r=this._store.getEnginesForCameraIDs(i);if(!r)return null;for(const[e,i]of r){let a=null;q_.isEventQuery(t)?a=e.generateDefaultEventQuery(this._store.getVisibleCameras(),i,t):q_.isRecordingQuery(t)?a=e.generateDefaultRecordingQuery(this._store.getVisibleCameras(),i,t):q_.isRecordingSegmentsQuery(t)&&(a=e.generateDefaultRecordingSegmentsQuery(this._store.getVisibleCameras(),i,t));for(const e of a??[])n.push(e)}return n.length?n:null}async getEvents(e,t,n){return await this._handleQuery(e,t,n)}async getRecordings(e,t,n){return await this._handleQuery(e,t,n)}async getRecordingSegments(e,t,n){return await this._handleQuery(e,t,n)}async executeMediaQueries(e,t,n){return this._convertQueryResultsToMedia(e,await this._handleQuery(e,t,n))}async extendMediaQueries(e,t,n,i,a){const r=e=>{let t=null;for(const i of n){const n=i.getStartTime();n&&(!t||"earliest"===e&&n<t||"latest"===e&&n>t)&&(t=n)}return t},o=this._cardWideConfig?.performance?.features.media_chunk_size??50,s=[],c=[];for(const e of t){const t={...e};if("later"===i){const e=r("latest");e&&(t.start=e)}else if("earlier"===i){const e=r("earliest");e&&(t.end=e)}t.limit=o,c.push({...e,limit:(e.limit??0)+o}),s.push(t)}const l=this._convertQueryResultsToMedia(e,await this._handleQuery(e,s,a));if(!l.length)return null;const d=Z_(n.concat(l));return d.length===n.length?null:{queries:c,results:d}}async getMediaDownloadPath(e,t){const n=this._store.getCameraConfigForMedia(t),i=this._store.getEngineForMedia(t);return n&&i?await i.getMediaDownloadPath(e,n,t):null}getMediaCapabilities(e){const t=this._store.getEngineForMedia(e);return t?t.getMediaCapabilities(e):null}async favoriteMedia(e,t,n){const i=this._store.getCameraConfigForMedia(t),a=this._store.getEngineForMedia(t);if(!i||!a)return;const r=new Date;await a.favoriteMedia(e,i,t,n),u_(this._cardWideConfig,"Frigate Card CameraManager favorite request (",`Duration: ${((new Date).getTime()-r.getTime())/1e3}s,`,"Media:",t.getID(),", Favorite:",n,")")}areMediaQueriesResultsFresh(e,t){const n=new Date;for(const i of e){const e=this._store.getEnginesForCameraIDs(i.cameraIDs);for(const[a,r]of e??[]){const e=a.getQueryResultMaxAge({...i,cameraIDs:r});if(null!==e&&d_(t,{seconds:e})<n)return!1}}return!0}async getMediaSeekTime(e,t,n){const i=t.getStartTime(),a=t.getEndTime(),r=this._store.getCameraConfigForMedia(t),o=this._store.getEngineForMedia(t);return!r||!o||!i||!a||n<i||n>a?null:await o.getMediaSeekTime(e,this._store.getCameras(),t,n)}async _handleQuery(e,t,n){const i=xf(t),a=new Map,r=new Date,o=async(t,i)=>{if(!i)return;let r=null;q_.isEventQuery(i)?r=await t.getEvents(e,this._store.getCameras(),i,n):q_.isRecordingQuery(i)?r=await t.getRecordings(e,this._store.getCameras(),i,n):q_.isRecordingSegmentsQuery(i)?r=await t.getRecordingSegments(e,this._store.getCameras(),i,n):q_.isMediaMetadataQuery(i)&&(r=await t.getMediaMetadata(e,this._store.getCameras(),i,n)),r?.forEach(((e,t)=>a.set(t,e)))},s=async e=>{const t=this._store.getEnginesForCameraIDs(e.cameraIDs);t&&await Promise.all(Array.from(t.keys()).map((n=>o(n,{...e,cameraIDs:t.get(n)}))))};await Promise.all(i.map((e=>s(e))));const c=o_(Array.from(a.values()).map((e=>Number(e.cached??0))));return u_(this._cardWideConfig,"Frigate Card CameraManager request [Input queries:",i.length,", Cached output queries:",c,", Total output queries:",a.size,", Duration:",((new Date).getTime()-r.getTime())/1e3+"s,",", Queries:",i,", Results:",a,"]"),a}_convertQueryResultsToMedia(e,t){const n=[];for(const[i,a]of t.entries()){const t=this._store.getEngineOfType(a.engine);if(t){let r=null;q_.isEventQuery(i)&&V_.isEventQueryResult(a)?r=t.generateMediaFromEvents(e,this._store.getCameras(),i,a):q_.isRecordingQuery(i)&&V_.isRecordingQuery(a)&&(r=t.generateMediaFromRecordings(e,this._store.getCameras(),i,a)),r&&n.push(...r)}}return Z_(n)}getCameraEndpoints(e,t){const n=this._store.getCameraConfig(e),i=this._store.getEngineForCameraID(e);return n&&i?i.getCameraEndpoints(n,t):null}getCameraMetadata(e,t){const n=this._store.getCameraConfig(t),i=this._store.getEngineForCameraID(t);return n&&i?i.getCameraMetadata(e,n):null}getCameraCapabilities(e){const t=this._store.getCameraConfig(e),n=this._store.getEngineForCameraID(e);return t&&n?n.getCameraCapabilities(t):null}getAggregateCameraCapabilities(e){const t=[...e??this._store.getCameraIDs()].map((e=>this.getCameraCapabilities(e)));return{canFavoriteEvents:t.some((e=>e?.canFavoriteEvents)),canFavoriteRecordings:t.some((e=>e?.canFavoriteRecordings)),canSeek:t.some((e=>e?.canSeek)),supportsClips:t.some((e=>e?.supportsClips)),supportsRecordings:t.some((e=>e?.supportsRecordings)),supportsSnapshots:t.some((e=>e?.supportsSnapshots)),supportsTimeline:t.some((e=>e?.supportsTimeline))}}}const B_={[vr]:"none",[Ba]:"none",[Kr]:"none",[Er]:!1,[nr]:!1,[Gr]:!1,[hr]:"never",[Ra]:"never",[Na]:"never",[La]:"never",[Pr]:"all",[Or]:!1,[Fa]:!1,[Rr]:"none",[qa]:"none",[Nr]:!1,[Va]:"chevrons",[ar]:"none",[Mr]:"none",[oo]:"outside",[`${mo}.enabled`]:!1,[`${bo}.enabled`]:!1,[`${bo}.enabled`]:!1,[`${_o}.enabled`]:!1,[za]:!1,[Oa]:!1,[Ia]:!1,[ja]:!1,[br]:!1,[wr]:!1,[xr]:!1,[yr]:!1,[Qa]:!1,[Ga]:!1,[Ka]:!1,[Ya]:!1,[eo]:!1,[to]:!1,[no]:!1,[Jr]:!1,[Eo]:!1,[So]:10,[Ao]:!1,[To]:!1,[Za]:!1,[fa]:!1,[pa]:10},Y_=(e,t)=>{const n=Oo(Sc).safeParse(e);if(n.success){const e=n.data;Object.entries(B_).forEach((([n,i])=>((e,t,n,i)=>{void 0===Df(e,n)&&Pf(t,n,i)})(e,t,n,i)))}return t},Q_={box_shadow:"none",border_radius:"0px"},G_=Oi.lazy((()=>Oi.object({title:Oi.string(),media_class:Oi.string(),media_content_type:Oi.string(),media_content_id:Oi.string(),can_play:Oi.boolean(),can_expand:Oi.boolean(),children_media_class:Oi.string().nullable().optional(),thumbnail:Oi.string().nullable(),children:Oi.array(G_).nullable().optional()}))),K_="video",X_="image",J_=60;class ey{constructor(e){this._cache=e}async walkBrowseMedias(e,t,n){return t&&t.length?(await Af(t,(async t=>await this._walkBrowseMedia(e,t,n)))).flat():[]}async _walkBrowseMedia(e,t,n){const i=await Af(t.targets,(async i=>await this._browseMedia(e,i,{useCache:n?.useCache,metadataGenerator:t.metadataGenerator}))),a=[];for(const e of i)for(const n of e.children??[])t.matcher(n)&&a.push(n);const r=t.advance?t.advance(a):null;if(!r||!r.length)return a;const o=new Set(r.map((e=>e.targets)).flat()),s=[];for(const e of a)o.has(e)||s.push(e);const c=await this.walkBrowseMedias(e,r,n);return s.concat(c)}async _browseMedia(e,t,n){const i="object"==typeof t?t.media_content_id:t,a=n?.useCache??1?this._cache.get(i):null;if(a)return a;const r={type:"media_source/browse_media",media_content_id:i},o=await ng(e,G_,r);if(n?.metadataGenerator)for(const e of o.children??[])e._metadata=n.metadataGenerator(e,"object"==typeof t?t:void 0)??void 0;return(n?.useCache??1)&&this._cache.set(i,o,d_(new Date,{seconds:60})),o}}function ty(e,t){return e&&e.length?function(e,t){for(var n=-1,i=e.length,a=0,r=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!Fc(s,c)){var c=s;r[a++]=0===o?0:o}}return r}(e,A_(t)):[]}class ny{constructor(e){this._ranges=e??[]}hasCoverage(e){return this._ranges.some((t=>ay(t,e)))}add(e){this._ranges.push(e),this._ranges=oy(this._ranges)}clear(){this._ranges=[]}}class iy{constructor(e){this._ranges=e??[]}hasCoverage(e){const t=new Date;return this._ranges.some((n=>t<n.expires&&ay(n,e)))}add(e){this._expireOldRanges(),this._ranges.push(e)}_expireOldRanges(){const e=new Date;this._ranges=this._ranges.filter((t=>e<t.expires))}clear(){this._ranges=[]}}const ay=(e,t)=>t.start>=e.start&&t.end<=e.end,ry=(e,t)=>e.start>=t.start&&e.start<=t.end||e.end>=t.start&&e.end<=t.end||e.start<=t.start&&e.end>=t.end,oy=(e,t=0)=>{const n=[];e=I_(e,(e=>e.start),"asc");let i=null;for(let a=0;a<e.length;++a){const r=e[a],o=r.start instanceof Date?r.start.getTime():r.start;if(!i){i={...r};continue}(i.end instanceof Date?i.end.getTime():i.end)+1e3*t>=o?r.end>i.end&&(i.end=r.end):(n.push(i),i={...r})}return i&&n.push(i),n};class sy{constructor(){this._data=[]}get(e){const t=new Date;for(const n of this._data)if((!n.expires||t<=n.expires)&&this._contains(e,n.request))return n.response;return null}has(e){return!!this.get(e)}set(e,t,n){this._data.push({request:e,response:t,expires:n}),this._expireOldRequests()}_contains(e,t){return nm(e,t)}_expireOldRequests(){const e=new Date;this._data=this._data.filter((t=>!t.expires||e<t.expires))}}class cy extends sy{}class ly{constructor(e,t){this._ranges=new ny,this._data=[],this._timeFunc=e,this._idFunc=t}add(e,t){this._ranges.add(e),this._data=ty(I_(this._data.concat(t),this._timeFunc,"asc"),this._idFunc)}hasCoverage(e){return this._ranges.hasCoverage(e)}get(e){if(!this.hasCoverage(e))return null;const t=[];for(const n of this._data){const i=this._timeFunc(n);if(i>e.start.getTime()){if(i>e.end.getTime())break;t.push(n)}}return t}size(){return this._data.length}expireMatches(e){this._data=this._data.filter(e)}}class dy{constructor(){this._segments=new Map}add(e,t,n){let i=this._segments.get(e);i||(i=new ly((e=>1e3*e.start_time),(e=>e.id)),this._segments.set(e,i)),i.add(t,n)}hasCoverage(e,t){return!!this._segments.get(e)?.hasCoverage(t)}get(e,t){return this._segments.get(e)?.get(t)??null}getCache(e){return this._segments.get(e)??null}getCameraIDs(){return[...this._segments.keys()]}expireMatches(e,t){this._segments.get(e)?.expireMatches(t)}}class uy{constructor(e,t,n){this._entityRegistryManager=e,this._cardWideConfig=n,this._resolvedMediaCache=t}async createEngine(e){let t=null;switch(e){case t_.Generic:const{GenericCameraManagerEngine:e}=await import("./engine-generic-108d3e01.js");t=new e;break;case t_.Frigate:const{FrigateCameraManagerEngine:n}=await import("./engine-frigate-34f271af.js");t=new n(this._cardWideConfig,new dy,new cy);break;case t_.MotionEye:const{MotionEyeCameraManagerEngine:i}=await import("./engine-motioneye-6f55ca36.js");t=new i(new ey(new sy),this._resolvedMediaCache,new cy)}return t}async getEngineForCamera(e,t){if(!t)return null;let n=null;if("frigate"===t.engine)n=t_.Frigate;else if("motioneye"===t.engine)n=t_.MotionEye;else if("auto"===t.engine){const i=t.camera_entity;if(i){let a;try{a=await this._entityRegistryManager.getEntity(e,i)}catch(e){throw new f_(wp("error.no_camera_entity"),t)}switch(a?.platform){case"frigate":n=t_.Frigate;break;case"motioneye":n=t_.MotionEye;break;default:n=t_.Generic}}else t.frigate.camera_name&&(n=t_.Frigate)}return n}}const hy=Oi.object({config_entry_id:Oi.string().nullable(),device_id:Oi.string().nullable(),disabled_by:Oi.string().nullable(),entity_id:Oi.string(),hidden_by:Oi.string().nullable(),platform:Oi.string(),translation_key:Oi.string().nullable(),unique_id:Oi.string().or(Oi.number()).optional()}),my=hy.array();class fy{constructor(e){this._fetchedEntityList=!1,this._cache=e}async getEntity(e,t){const n=this._cache.get(t);if(n)return n;const i=await ng(e,hy,{type:"config/entity_registry/get",entity_id:t});return this._cache.set(i),i}async getMatchingEntities(e,t){return await this.fetchEntityList(e),this._cache.getMatches(t)}async getEntities(e,t){const n=new Map;return await Promise.all(t.map((async t=>{let i=null;try{i=await this.getEntity(e,t)}catch{return}i&&n.set(t,i)}))),n}async fetchEntityList(e){if(this._fetchedEntityList)return;const t=await ng(e,my,{type:"config/entity_registry/list"});this._cache.set(t),this._fetchedEntityList=!0}}class py{constructor(){this._cache=new Map}has(e){return this._cache.has(e)}getMatches(e){return[...this._cache.values()].filter(e)}get(e){return this._cache.get(e)}set(e){const t=e=>this._cache.set(e.entity_id,e);Array.isArray(e)?e.forEach(t):t(e)}}var gy;!function(e){e.INITIALIZING="initializing",e.INITIALIZED="initialized"}(gy||(gy={}));class vy{constructor(){this._state=new Map}async initializeMultipleIfNecessary(e){return(await Af(Object.entries(e),(async([e,t])=>this.initializeIfNecessary(e,t)))).every(Boolean)}async initializeIfNecessary(e,t){const n=this._state.get(e);return n===gy.INITIALIZED||n!==gy.INITIALIZING&&(t?(this._state.set(e,gy.INITIALIZING),await t(),this._state.set(e,gy.INITIALIZED)):this._state.set(e,gy.INITIALIZED),!0)}uninitialize(e){return this._state.delete(e)}isInitialized(e){return this._state.get(e)==gy.INITIALIZED}isInitializedMultiple(e){return e.every((e=>this.isInitialized(e)))}}function _y(e,t,n,i=20,a=0){let r=[];if(a>=i)return r;const o=e=>{const r=e.assignedNodes().filter((e=>1===e.nodeType));return r.length>0?_y(r[0].parentElement,t,n,i,a+1):[]},s=Array.from(e.children||[]);for(const e of s)t(e)||(n(e)&&r.push(e),null!=e.shadowRoot?r.push(..._y(e.shadowRoot,t,n,i,a+1)):"SLOT"===e.tagName?r.push(...o(e)):r.push(..._y(e,t,n,i,a+1)));return r}function yy(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"false"!==e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility}function by(e){return"-1"!==e.getAttribute("tabindex")&&!yy(e)&&!function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"false"!==e.getAttribute("aria-disabled")}(e)&&(e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement)}const wy=new Map;const xy=document.createElement("template");xy.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class Cy extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this._focused=!1;const e=this.attachShadow({mode:"open"});e.appendChild(xy.content.cloneNode(!0)),this.$backup=e.querySelector("#backup"),this.$start=e.querySelector("#start"),this.$end=e.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(e){e?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this._focused}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return _y(this,yy,by)}trapFocus(e){if(this.inactive)return;let t=this.getFocusableElements();t.length>0?(e?t[t.length-1].focus():t[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(e){!function(e,t,n){const i=wy.get(n);null!=i&&window.clearTimeout(i),wy.set(n,window.setTimeout((()=>{e(),wy.delete(n)}),t))}((()=>{this.focused!==e&&(this._focused=e,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}function $y(e){return Number(e.getAttribute("data-dialog-count"))||0}function ky(e,t){e.setAttribute("data-dialog-count",t.toString())}function Ey(e=document.activeElement){return null!=e&&null!=e.shadowRoot&&null!=e.shadowRoot.activeElement?Ey(e.shadowRoot.activeElement):e}window.customElements.define("focus-trap",Cy);const Sy=document.createElement("template");Sy.innerHTML='\n  <style>*{box-sizing:border-box}:host{padding:var(--dialog-container-padding,5vw 24px);z-index:var(--dialog-z-index,12345678);outline:none}#backdrop,:host{position:fixed;top:0;left:0;bottom:0;right:0}:host,:host([center]) #dialog{overflow-x:var(--dialog-overflow-x,hidden);overflow-y:var(--dialog-overflow-y,auto);overscroll-behavior:contain;-webkit-overflow-scrolling:touch}:host([center]){display:flex;align-items:center;justify-content:center;overflow:hidden}:host([center]) #dialog{max-height:var(--dialog-max-height,100%)}:host(:not(:defined)),:host(:not([open])){display:none}#backdrop{background:var(--dialog-backdrop-bg,rgba(0,0,0,.6));animation:fadeIn var(--dialog-animation-duration,.1s) var(--dialog-animation-easing,ease-out);z-index:-1}#dialog{animation:scaleIn var(--dialog-animation-duration,.1s) var(--dialog-animation-easing,ease-out);border-radius:var(--dialog-border-radius,12px);box-shadow:var(--dialog-box-shadow,0 2px 10px -5px rgba(0,0,0,.6));max-width:var(--dialog-max-width,700px);width:var(--dialog-width,100%);padding:var(--dialog-padding,24px);max-height:var(--dialog-max-height,unset);height:var(--dialog-height,auto);color:var(--dialog-color,currentColor);background:var(--dialog-bg,#fff);z-index:1;position:relative;display:flex;flex-direction:column;margin:0 auto;border:none}::slotted(article),article{flex-grow:1;overflow-y:auto;-webkit-overflow-scrolling:touch}::slotted(footer),::slotted(header),footer,header{flex-shrink:0}@keyframes scaleIn{0%{transform:scale(.9) translateY(30px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}</style>\n  <div id="backdrop" part="backdrop"></div>\n  <focus-trap id="dialog" part="dialog">\n    <slot></slot>\n  </focus-trap>\n';class My extends HTMLElement{constructor(){super(),this.$scrollContainer=document.documentElement,this.$previousActiveElement=null;const e=this.attachShadow({mode:"open"});e.appendChild(Sy.content.cloneNode(!0)),this.$dialog=e.querySelector("#dialog"),this.$backdrop=e.querySelector("#backdrop"),this.onBackdropClick=this.onBackdropClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.setAttribute("aria-modal","true"),this.$dialog.setAttribute("role","alertdialog")}static get observedAttributes(){return["open","center"]}get open(){return this.hasAttribute("open")}set open(e){e?this.setAttribute("open",""):this.removeAttribute("open")}get center(){return this.hasAttribute("center")}set center(e){e?this.setAttribute("center",""):this.removeAttribute("center")}connectedCallback(){this.$backdrop.addEventListener("click",this.onBackdropClick)}disconnectedCallback(){this.$backdrop.removeEventListener("click",this.onBackdropClick),this.open&&this.didClose()}show(){this.open=!0}close(e){this.result=e,this.open=!1}onBackdropClick(){this.assertClosing()&&this.close()}onKeyDown(e){if("Escape"===e.code)this.assertClosing()&&(this.close(),e.stopImmediatePropagation())}assertClosing(){return this.dispatchEvent(new CustomEvent("closing",{cancelable:!0}))}didOpen(){this.$previousActiveElement=Ey(document.activeElement),requestAnimationFrame((()=>{this.$dialog.focusFirstElement()})),this.tabIndex=0,this.$scrollContainer.style.overflow="hidden",this.addEventListener("keydown",this.onKeyDown,{capture:!0,passive:!0}),ky(this.$scrollContainer,$y(this.$scrollContainer)+1),this.dispatchEvent(new CustomEvent("open"))}didClose(){this.removeEventListener("keydown",this.onKeyDown,{capture:!0}),ky(this.$scrollContainer,Math.max(0,$y(this.$scrollContainer)-1)),$y(this.$scrollContainer)<=0&&(this.$scrollContainer.style.overflow=""),this.tabIndex=-1,null!=this.$previousActiveElement&&(this.$previousActiveElement.focus(),this.$previousActiveElement=null),this.dispatchEvent(new CustomEvent("close",{detail:this.result}))}attributeChangedCallback(e,t,n){if("open"===e)this.open?this.didOpen():this.didClose()}}customElements.define("web-dialog",My);var Ty;console.info(`%c FRIGATE-HASS-CARD \n%c ${wp("common.version")} ${n_} `,"color: pink; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.customCards=window.customCards||[],window.customCards.push({type:"frigate-card",name:wp("common.frigate_card"),description:wp("common.frigate_card_description"),preview:!0,documentationURL:Ii}),function(e){e.LANGUAGES="languages",e.SIDE_LOAD_ELEMENTS="side-load-elements",e.MEDIA_PLAYERS="media-players",e.CAMERAS="cameras"}(Ty||(Ty={}));let Ay=class extends ge{constructor(){super(),this._panel=!1,this._expand=!1,this._refMenu=Ne(),this._refMain=Ne(),this._refElements=Ne(),this._refImage=Ne(),this._refLive=Ne(),this._interactionTimerID=null,this._updateTimerID=null,this._currentMediaLoadedInfo=null,this._lastValidMediaLoadedInfo=null,this._dynamicMenuButtons=[],this._message=null,this._resolvedMediaCache=new Nv,this._boundMouseHandler=wt(this._mouseHandler.bind(this),1e3),this._triggers=new Map,this._untriggerTimerID=null,this._conditionManager=null,this._initializer=new vy,this._entityRegistryManager=new fy(new py)}set hass(e){this._hass=e,this._hass&&(this._refMenu.value&&(this._refMenu.value.hass=this._hass),this._refElements.value&&(this._refElements.value.hass=this._hass),this._refImage.value&&(this._refImage.value.hass=this._hass)),this._conditionManager?.hasHAStateConditions&&this._generateConditionState(),this._setLightOrDarkMode()}static async getConfigElement(){return await import("./editor-da5c5110.js"),document.createElement("frigate-card-editor")}static getStubConfig(e,t){return{cameras:[{camera_entity:t.find((e=>e.startsWith("camera.")))}]}}_generateConditionState(){this._conditionState={view:this._view?.view,fullscreen:Mt.isEnabled&&Mt.isFullscreen,expand:this._expand,camera:this._view?.camera,media_loaded:!!this._currentMediaLoadedInfo,...this._conditionManager?.hasHAStateConditions&&{state:this._hass?.states}},this._refLive.value&&(this._refLive.value.conditionState=this._conditionState),this._refElements.value&&(this._refElements.value.conditionState=this._conditionState);const e=ap(this._config,this._config.overrides,this._conditionState);nm(e,this._overriddenConfig)||(nm(e.cameras,this._overriddenConfig?.cameras)&&nm(e.cameras_global,this._overriddenConfig?.cameras_global)||this._initializer.uninitialize(Ty.CAMERAS),this._overriddenConfig=e)}_getEmphasizedStyle(){return{color:"var(--primary-color, white)"}}_getStyleFromActions(e){for(const t of[e.tap_action,e.double_tap_action,e.hold_action,e.start_tap_action,e.end_tap_action]){const e=Array.isArray(t)?t:[t];for(const t of e){if(!t||"fire-dom-event"!==t.action||!("frigate_card_action"in t))continue;const e=t;if(No.some((t=>t===e.frigate_card_action&&this._view?.is(e.frigate_card_action)))||"default"===e.frigate_card_action&&this._view?.is(this._getConfig().view.default)||"fullscreen"===e.frigate_card_action&&Mt.isEnabled&&Mt.isFullscreen||"camera_select"===e.frigate_card_action&&this._view?.camera===e.camera)return this._getEmphasizedStyle()}}return{}}_getMenuButtons(){const e=[],t=this._cameraManager?.getStore().getVisibleCameras(),n=this._view?.camera,i=this._getSelectedCameraConfig(),a=m_(this._cameraManager,n),r=this._view?.queryResults?.getSelectedResult(),o=a?this._cameraManager?.getAggregateCameraCapabilities(a):null,s=r?this._cameraManager?.getMediaCapabilities(r):null;if(e.push({icon:wg,...this._getConfig().menu.buttons.frigate,type:"custom:frigate-card-menu-icon",title:wp("config.menu.buttons.frigate"),tap_action:xg.isHidingMenu(this._getConfig().menu)?Oc("menu_toggle"):Oc("default"),hold_action:Oc("diagnostics")}),t){const n=Array.from(t,(([e,t])=>{const n=Oc("camera_select",{camera:e}),i=this._hass?this._cameraManager?.getCameraMetadata(this._hass,e)??void 0:void 0;return{enabled:!0,icon:i?.icon,entity:t.camera_entity,state_color:!0,title:i?.title,selected:this._view?.camera===e,...n&&{tap_action:n}}}));e.push({icon:"mdi:video-switch",...this._getConfig().menu.buttons.cameras,type:"custom:frigate-card-menu-submenu",title:wp("config.menu.buttons.cameras"),items:n})}if(n&&a&&this._view?.is("live")){const t=[...a],i=this._view?.context?.live?.overrides?.get(n);if(2===t.length)e.push({icon:"mdi:video-input-component",style:i&&i!==n?this._getEmphasizedStyle():{},title:wp("config.menu.buttons.substreams"),...this._getConfig().menu.buttons.substreams,type:"custom:frigate-card-menu-icon",tap_action:Oc("live_substream_select",{camera:void 0===i||i===t[0]?t[1]:t[0]})});else if(t.length>2){const a=Array.from(t,(e=>{const t=Oc("live_substream_select",{camera:e}),i=this._hass?this._cameraManager?.getCameraMetadata(this._hass,e)??void 0:void 0,a=this._cameraManager?.getStore().getCameraConfig(e);return{enabled:!0,icon:i?.icon,entity:a?.camera_entity,state_color:!0,title:i?.title,selected:(this._view?.context?.live?.overrides?.get(n)??n)===e,...t&&{tap_action:t}}}));e.push({icon:"mdi:video-input-component",title:wp("config.menu.buttons.substreams"),style:i&&i!==n?this._getEmphasizedStyle():{},...this._getConfig().menu.buttons.substreams,type:"custom:frigate-card-menu-submenu",items:a})}}if(e.push({icon:"mdi:cctv",...this._getConfig().menu.buttons.live,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.live"),style:this._view?.is("live")?this._getEmphasizedStyle():{},tap_action:Oc("live")}),o?.supportsClips&&e.push({icon:"mdi:filmstrip",...this._getConfig().menu.buttons.clips,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.clips"),style:this._view?.is("clips")?this._getEmphasizedStyle():{},tap_action:Oc("clips"),hold_action:Oc("clip")}),o?.supportsSnapshots&&e.push({icon:"mdi:camera",...this._getConfig().menu.buttons.snapshots,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.snapshots"),style:this._view?.is("snapshots")?this._getEmphasizedStyle():{},tap_action:Oc("snapshots"),hold_action:Oc("snapshot")}),o?.supportsRecordings&&e.push({icon:"mdi:album",...this._getConfig().menu.buttons.recordings,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.recordings"),style:this._view?.is("recordings")?this._getEmphasizedStyle():{},tap_action:Oc("recordings"),hold_action:Oc("recording")}),e.push({icon:"mdi:image",...this._getConfig().menu.buttons.image,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.image"),style:this._view?.is("image")?this._getEmphasizedStyle():{},tap_action:Oc("image")}),o?.supportsTimeline&&e.push({icon:"mdi:chart-gantt",...this._getConfig().menu.buttons.timeline,type:"custom:frigate-card-menu-icon",title:wp("config.view.views.timeline"),style:this._view?.is("timeline")?this._getEmphasizedStyle():{},tap_action:Oc("timeline")}),s?.canDownload&&!this._isBeingCasted()&&e.push({icon:"mdi:download",...this._getConfig().menu.buttons.download,type:"custom:frigate-card-menu-icon",title:wp("config.menu.buttons.download"),tap_action:Oc("download")}),this._getCameraURLFromContext()&&e.push({icon:"mdi:web",...this._getConfig().menu.buttons.camera_ui,type:"custom:frigate-card-menu-icon",title:wp("config.menu.buttons.camera_ui"),tap_action:Oc("camera_ui")}),Mt.isEnabled&&!this._isBeingCasted()&&e.push({icon:Mt.isFullscreen?"mdi:fullscreen-exit":"mdi:fullscreen",...this._getConfig().menu.buttons.fullscreen,type:"custom:frigate-card-menu-icon",title:wp("config.menu.buttons.fullscreen"),tap_action:Oc("fullscreen"),style:Mt.isFullscreen?this._getEmphasizedStyle():{}}),e.push({icon:this._expand?"mdi:arrow-collapse-all":"mdi:arrow-expand-all",...this._getConfig().menu.buttons.expand,type:"custom:frigate-card-menu-icon",title:wp("config.menu.buttons.expand"),tap_action:Oc("expand"),style:this._expand?this._getEmphasizedStyle():{}}),this._mediaPlayers?.length&&(this._view?.isViewerView()||this._view?.is("live")&&i?.camera_entity)){const t=this._mediaPlayers.map((e=>{const t=ug(this._hass,e)||e,n=this._hass?.states[e],i=Oc("media_player",{media_player:e,media_player_action:"play"}),a=Oc("media_player",{media_player:e,media_player_action:"stop"});return{enabled:!0,selected:!1,icon:hg(this._hass,e)||"mdi:cast",entity:e,state_color:!1,title:t,disabled:!n||"unavailable"===n.state,...i&&{tap_action:i},...a&&{hold_action:a}}}));e.push({icon:"mdi:cast",...this._getConfig().menu.buttons.media_player,type:"custom:frigate-card-menu-submenu",title:wp("config.menu.buttons.media_player"),items:t})}const c=this._dynamicMenuButtons.map((e=>({style:this._getStyleFromActions(e),...e})));return e.concat(c)}_addDynamicMenuButton(e){this._dynamicMenuButtons.includes(e)||(this._dynamicMenuButtons=[...this._dynamicMenuButtons,e]),this._refMenu.value&&(this._refMenu.value.buttons=this._getMenuButtons())}_removeDynamicMenuButton(e){this._dynamicMenuButtons=this._dynamicMenuButtons.filter((t=>t!=e)),this._refMenu.value&&(this._refMenu.value.buttons=this._getMenuButtons())}_getSelectedCameraConfig(){return this._view&&this._cameraManager?this._cameraManager.getStore().getCameraConfig(this._view.camera):null}_getParseErrorPaths(e){const t=new Set;if(e&&e.issues)for(let n=0;n<e.issues.length;n++){const i=e.issues[n];if("invalid_union"==i.code){const e=i.unionErrors;for(let n=0;n<e.length;n++){const i=this._getParseErrorPaths(e[n]);i&&i.size&&i.forEach(t.add,t)}}else if("invalid_type"==i.code){if("type"==i.path[i.path.length-1])return null;t.add(this._getParseErrorPathString(i.path))}else"custom"!=i.code&&t.add(this._getParseErrorPathString(i.path))}return t}_getParseErrorPathString(e){let t="";for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?t+="["+i+"]":t?t+=" -> "+i:t=i}return t}setConfig(e){if(!e)throw new Error(wp("error.invalid_configuration"));const t=Sc.safeParse(e);if(!t.success){const n=Lf(e),i=this._getParseErrorPaths(t.error);let a="";throw n&&"yaml"!==f().mode&&(a=`${wp("error.upgrade_available")}. `),new Error(a+`${wp("error.invalid_configuration")}: `+(i&&i.size?JSON.stringify([...i],null," "):wp("error.invalid_configuration_no_hint")))}const n="low"!==t.data.performance.profile?t.data:Y_(e,t.data);n.test_gui&&f().setEditMode(!0),this._rawConfig=e,this._config=n,this._cardWideConfig={performance:n.performance,debug:n.debug},this._overriddenConfig=void 0,this._cameraManager=void 0,this._view=void 0,this._message=null,this._conditionManager?.destroy(),this._conditionManager=new rp(n,this._generateConditionState.bind(this)),this._generateConditionState(),this._setLightOrDarkMode(),this._untrigger()}_getConfig(){return this._overriddenConfig||this._config}_changeView(e){u_(this._cardWideConfig,"Frigate Card view change: ",e?.view??"[default]");const t=e=>{Kv.isMajorMediaChange(this._view,e)&&(this._currentMediaLoadedInfo=null),this._view?.view!==e.view&&this._resetMainScroll(),Kv.adoptQueryIfAppropriate(e,this._view),this._view=e,this._generateConditionState()};if((e?.resetMessage??1)&&(this._message=null),e?.view)t(e.view);else{let e=null;if(this._cameraManager){const t=this._cameraManager.getStore().getVisibleCameras();if(t)if(this._view?.camera&&this._getConfig().view.update_cycle_camera){const n=Array.from(t.keys()),i=n.indexOf(this._view.camera);e=n[i+1>=n.length?0:i+1]}else e=t.keys().next().value}e&&(t(new Kv({view:this._getConfig().view.default,camera:e})),this._startUpdateTimer())}}_setLightOrDarkMode(){"on"===this._getConfig().view.dark_mode||"auto"===this._getConfig().view.dark_mode&&(!this._interactionTimerID||this._hass?.themes.darkMode)?this.setAttribute("dark",""):this.removeAttribute("dark")}_changeViewHandler(e){this._changeView({view:e.detail})}_addViewContextHandler(e){this._changeView({view:this._view?.clone().mergeInContext(e.detail)})}willUpdate(e){e.has("_cardWideConfig")&&((e,t)=>{const n=t?.style??{};for(const t of Object.keys(n)){const i=`--frigate-card-css-${t.replaceAll("_","-")}`;!1===n[t]?e.style.setProperty(i,Q_[t]):e.style.removeProperty(i)}})(this,this._cardWideConfig?.performance),this._initializeBackground(),this._view?.is("live")?import("./live-747fc439.js"):this._view?.isGalleryView()?import("./gallery-562279f6.js"):this._view?.isViewerView()?import("./viewer-122723f1.js"):this._view?.is("image")?import("./image-c77210cd.js"):this._view?.is("timeline")&&import("./timeline-b513ca0a.js"),e.has("_view")&&this._setPropertiesForExpandedMode()}_getMostRecentTrigger(){const e=[...this._triggers.entries()].sort(((e,t)=>t[1].getTime()-e[1].getTime()));return e.length?e[0][0]:null}_updateTriggeredCameras(e){if(!this._view||!this._isAutomatedViewUpdateAllowed(!0))return!1;const t=new Date;let n=!1,i=!1;const a=this._cameraManager?.getStore().getVisibleCameras();for(const[n,r]of a?.entries()??[]){const a=r.triggers.entities??[],o=ag(this._hass,e,a,{stateOnly:!0}).some((e=>fg(e.newState))),s=a.every((e=>!fg(this._hass?.states[e])));o?(this._triggers.set(n,t),i=!0):s&&this._triggers.has(n)&&(this._triggers.delete(n),i=!0)}if(i)if(this._triggers.size){const e=this._getMostRecentTrigger();!e||this._view.camera===e&&this._view.is("live")||(this._changeView({view:new Kv({view:"live",camera:e})}),n=!0)}else this._startUntriggerTimer();return n}_isTriggered(){return!!this._triggers.size||!!this._untriggerTimerID}_untrigger(){const e=this._isTriggered();this._triggers.clear(),this._clearUntriggerTimer(),e&&this.requestUpdate()}_startUntriggerTimer(){this._clearUntriggerTimer(),this._untriggerTimerID=window.setTimeout((()=>{this._untrigger(),this._isAutomatedViewUpdateAllowed()&&this._getConfig().view.scan.untrigger_reset&&this._changeView()}),1e3*this._getConfig().view.scan.untrigger_seconds)}_clearUntriggerTimer(){this._untriggerTimerID&&(window.clearTimeout(this._untriggerTimerID),this._untriggerTimerID=null)}_handleThrownError(e){e instanceof Error&&$f(e),e instanceof Vo&&this._setMessageAndUpdate({message:e.message,type:"error",context:e.context})}async _initializeCameras(e,t,n){this._cameraManager=new W_(new uy(this._entityRegistryManager,this._resolvedMediaCache,n),this._cardWideConfig);const i=t.cameras.map((e=>Fd(ih(t.cameras_global),e)));try{await this._cameraManager.initializeCameras(e,this._entityRegistryManager,i)}catch(e){this._handleThrownError(e)}this._view||this._changeView({resetMessage:!1})}async _initializeMediaPlayers(e){const t=Object.keys(this._hass?.states||{}).filter((e=>{if(e.startsWith("media_player.")){const t=this._hass?.states[e];if(t&&"unavailable"!==t.state&&Hp(t,131072))return!0}return!1}));let n;try{n=await this._entityRegistryManager.getEntities(e,t)}catch(e){return void $f(e)}this._mediaPlayers=t.filter((e=>{const t=n.get(e);return!t||!t.hidden_by}))}_initializeMandatory(){if(this._initializer.isInitializedMultiple([Ty.LANGUAGES,Ty.SIDE_LOAD_ELEMENTS,Ty.CAMERAS]))return!0;const e=this._hass,t=this._getConfig(),n=this._cardWideConfig;return!!(e&&t&&n)&&(this._initializer.initializeMultipleIfNecessary({[Ty.LANGUAGES]:async()=>await(async e=>{const t=bp(e);"it"===t?_p[t]=await import("./lang-it-afcfe79f.js"):"pt_BR"===t&&(_p[t]=await import("./lang-pt-BR-23dbaa2a.js")),t&&(yp=t)})(e),[Ty.SIDE_LOAD_ELEMENTS]:async()=>await mg()}).then((i=>!!i&&this._initializer.initializeIfNecessary(Ty.CAMERAS,(async()=>await this._initializeCameras(e,t,n))))).then((e=>{if(e)return this.requestUpdate()})),!1)}_initializeBackground(){const e=this._hass,t=this._getConfig(),n=t.menu.buttons.media_player.enabled;e&&t&&n&&this._initializer.isInitialized(Ty.MEDIA_PLAYERS)&&this._initializer.initializeMultipleIfNecessary({[Ty.MEDIA_PLAYERS]:async()=>await this._initializeMediaPlayers(e)}).then((e=>{e&&this.requestUpdate()}))}shouldUpdate(e){if(!this._initializeMandatory())return!1;const t=e.get("_hass");let n=!t||1!=e.size;if(!t&&!this._hass?.connected||t&&t.connected!==!!this._hass?.connected)return this._hass?.connected?this._changeView():this._setMessageAndUpdate({message:wp("error.reconnecting"),icon:"mdi:lan-disconnect",type:"connection",dotdotdot:!0},!0),!0;if(t){const e=this._getSelectedCameraConfig();this._getConfig().view.scan.enabled&&this._updateTriggeredCameras(t)?n=!0:this._isAutomatedViewUpdateAllowed()&&rg(this._hass,t,[...this._getConfig().view.update_entities||[],...e?.triggers.entities||[]])?(this._changeView(),n=!0):n||=rg(this._hass,t,[...this._getConfig().view.render_entities??[],...this._mediaPlayers??[]])}return n}async _downloadViewerMedia(){const e=this._view?.queryResults?.getSelectedResult();if(this._hass&&this._cameraManager&&e)try{await Sv(this._hass,this._cameraManager,e)}catch(e){this._handleThrownError(e)}}_mediaPlayerAction(e,t){if(!(["play","stop"].includes(t)&&this._view&&this._hass&&this._cameraManager))return;let n=null,i=null,a=null,r=null;const o=this._getSelectedCameraConfig();if(!o)return;const s=o.camera_entity??null,c=this._view.queryResults?.getSelectedResult();this._view.isViewerView()&&c?(n=c.getContentID(),i=c.getContentType(),a=c.getTitle(),r=c.getThumbnail()):this._view?.is("live")&&s&&(n=`media-source://camera/${s}`,i="application/vnd.apple.mpegurl",a=this._cameraManager.getCameraMetadata(this._hass,this._view.camera)?.title??null,r=this._hass?.states[s]?.attributes?.entity_picture??null),n&&i&&("play"===t?this._hass?.callService("media_player","play_media",{entity_id:e,media_content_id:n,media_content_type:i,extra:{...a&&{title:a},...r&&{thumb:r}}}):"stop"===t&&this._hass?.callService("media_player","media_stop",{entity_id:e}))}_cardActionEventHandler(e){const t=zc(e.detail);t&&this._cardActionHandler(t)}_cardActionHandler(e){if(!this._view)return;if(e.card_id&&this._getConfig().card_id!==e.card_id)return;const t=e.frigate_card_action;switch(t){case"default":this._changeView();break;case"clip":case"clips":case"image":case"live":case"recording":case"recordings":case"snapshot":case"snapshots":case"timeline":this._changeView({view:new Kv({view:t,camera:this._view.camera})});break;case"download":this._downloadViewerMedia();break;case"camera_ui":const n=this._getCameraURLFromContext();n&&window.open(n);break;case"expand":this._setExpand(!this._expand);break;case"fullscreen":this._toggleFullscreen();break;case"menu_toggle":this._refMenu.value?.toggleMenu();break;case"camera_select":const i=e.camera;if(this._view&&this._cameraManager?.getStore().hasVisibleCameraID(i)){const e=this._getConfig().view.camera_select,t="current"===e?this._view.view:e,n=this.isViewSupportedByCamera(i,t)?t:Lo;this._changeView({view:new Kv({view:n,camera:i})})}break;case"live_substream_select":const a=this._view.context?.live?.overrides??new Map;a.set(this._view.camera,e.camera),this._changeView({view:this._view.clone().mergeInContext({live:{overrides:a}})});break;case"media_player":this._mediaPlayerAction(e.media_player,e.media_player_action);break;case"diagnostics":this._diagnostics();break;default:console.warn(`Frigate card received unknown card action: ${t}`)}}isViewSupportedByCamera(e,t){const n=this._cameraManager?.getCameraCapabilities(e);switch(t){case"live":case"image":return!0;case"clip":case"clips":return!!n?.supportsClips;case"snapshot":case"snapshots":return!!n?.supportsSnapshots;case"recording":case"recordings":return!!n?.supportsRecordings;case"timeline":return!!n?.supportsTimeline;case"media":return!!n?.supportsClips||!!n?.supportsSnapshots||!!n?.supportsRecordings}return!1}async _diagnostics(){if(this._hass){let e=[];try{e=await(async e=>await ng(e,Dv,{type:"config/device_registry/list"}))(this._hass)}catch(e){}const t=e.filter((e=>"Frigate"===e.manufacturer)),n=new Map;t.forEach((e=>{e.config_entries.forEach((t=>{e.model&&n.set(t,e.model)}))})),this._setMessageAndUpdate({message:wp("error.diagnostics"),type:"diagnostics",icon:"mdi:information",context:{ha_version:this._hass.config.version,card_version:n_,browser:navigator.userAgent,date:new Date,frigate_version:Object.fromEntries(n),lang:bp(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,git:{build_version:r_,build_date:i_,commit_date:a_},...this._rawConfig&&{config:this._rawConfig}}})}}_getCameraURLFromContext(){if(!this._view)return null;const e=this._view.camera,t=this._view.queryResults?.getSelectedResult()??null;return(this._cameraManager?.getCameraEndpoints(e,{view:this._view.view,...t&&{media:t}})??null)?.ui?.endpoint??null}_actionHandler(e,t){const n=e.detail.action,i=e.currentTarget;t&&i&&n&&Ic(n,t)&&((e,t,n,i)=>{Pc(e,t,n,i,Ic(i,n))})(i,this._hass,t,e.detail.action),this._startInteractionTimer()}_mouseHandler(){this._startInteractionTimer()}_clearInteractionTimer(){this._interactionTimerID&&(window.clearTimeout(this._interactionTimerID),this._interactionTimerID=null)}_startInteractionTimer(){this._clearInteractionTimer(),this._untrigger(),this._getConfig().view.timeout_seconds&&(this._interactionTimerID=window.setTimeout((()=>{this._clearInteractionTimer(),this._isAutomatedViewUpdateAllowed()&&(this._changeView(),this._setLightOrDarkMode())}),1e3*this._getConfig().view.timeout_seconds)),this._setLightOrDarkMode()}_startUpdateTimer(){this._updateTimerID&&(window.clearTimeout(this._updateTimerID),this._updateTimerID=null),this._getConfig().view.update_seconds&&(this._updateTimerID=window.setTimeout((()=>{this._isAutomatedViewUpdateAllowed()?this._changeView():this._startUpdateTimer()}),1e3*this._getConfig().view.update_seconds))}_isAutomatedViewUpdateAllowed(e){return(e||!this._isTriggered())&&(this._getConfig().view.update_force||!this._interactionTimerID)}_renderMenu(){return K`
      <frigate-card-menu
        ${Fe(this._refMenu)}
        .hass=${this._hass}
        .menuConfig=${this._getConfig().menu}
        .buttons=${this._getMenuButtons()}
        .entityRegistryManager=${this._entityRegistryManager}
      ></frigate-card-menu>
    `}_setMessageAndUpdate(e,t){const n=this._message?Tc[this._message.type]??0:0,i=Tc[e.type]??0;(!this._message||i>=n)&&(this._message=e,this._mediaUnloadedHandler(),t||(this.requestUpdate(),this._resetMainScroll()))}_resetMainScroll(){this._refMain.value?.scroll({top:0})}_messageHandler(e){return this._setMessageAndUpdate(e.detail)}_mediaLoadedHandler(e){const t=e.detail;Vv(t)&&(u_(this._cardWideConfig,"Frigate Card media load: ",t),this._lastValidMediaLoadedInfo=this._currentMediaLoadedInfo=t,this._setPropertiesForExpandedMode(),this._generateConditionState(),this.requestUpdate())}_setPropertiesForExpandedMode(){this.style.setProperty("--frigate-card-expand-aspect-ratio",this._view?.isAnyMediaView()&&this._lastValidMediaLoadedInfo?`${this._lastValidMediaLoadedInfo.width} / ${this._lastValidMediaLoadedInfo.height}`:"unset"),this.style.setProperty("--frigate-card-expand-width",this._view?.isAnyMediaView()?"none":"var(--frigate-card-expand-max-width)"),this.style.setProperty("--frigate-card-expand-height",this._view?.isAnyMediaView()?"none":"var(--frigate-card-expand-max-height)")}_mediaUnloadedHandler(){this._currentMediaLoadedInfo=null,this._generateConditionState()}_fullscreenHandler(){this._generateConditionState(),this.requestUpdate()}connectedCallback(){super.connectedCallback(),Mt.isEnabled&&Mt.on("change",this._fullscreenHandler.bind(this)),this.addEventListener("mousemove",this._boundMouseHandler),this._panel=(e=>{const t=e.getRootNode();return!!(t&&t instanceof ShadowRoot&&"HUI-PANEL-VIEW"===t.host.tagName)})(this)}disconnectedCallback(){this._mediaUnloadedHandler(),Mt.isEnabled&&Mt.off("change",this._fullscreenHandler.bind(this)),this.removeEventListener("mousemove",this._boundMouseHandler),super.disconnectedCallback()}_isBeingCasted(){return!!navigator.userAgent.match(/CrKey\//)}_isAspectRatioEnforced(){const e=this._getConfig().dimensions.aspect_ratio_mode;return!(Mt.isEnabled&&Mt.isFullscreen||this._expand||"unconstrained"==e||"dynamic"==e&&(this._view?.isAnyMediaView()||this._view?.is("timeline")))}_getAspectRatioStyle(){if(!this._isAspectRatioEnforced())return"auto";const e=this._getConfig().dimensions.aspect_ratio_mode;if(this._lastValidMediaLoadedInfo&&"dynamic"===e)return`${this._lastValidMediaLoadedInfo.width} / ${this._lastValidMediaLoadedInfo.height}`;const t=this._getConfig().dimensions.aspect_ratio;return t?`${t[0]} / ${t[1]}`:"16 / 9"}_getMergedActions(){if(this._message||this._view?.is("timeline"))return{};let e;return this._view?.is("live")?e=this._getConfig().live.actions:this._view?.isGalleryView()?e=this._getConfig().media_gallery?.actions:this._view?.isViewerView()?e=this._getConfig().media_viewer.actions:this._view?.is("image")&&(e=this._getConfig().image?.actions),{...this._getConfig().view.actions,...e}}_setExpand(e){Mt.isEnabled&&Mt.isFullscreen&&Mt.exit(),this._expand=e,this._generateConditionState()}_toggleFullscreen(){Mt.isEnabled&&(this._expand=!1,Mt.toggle(this))}_renderInDialogIfNecessary(e){return this._expand?K` <web-dialog
        open
        center
        @close=${()=>{this._setExpand(!1)}}
      >
        ${e}
      </web-dialog>`:e}render(){if(!this._hass)return;const e={"aspect-ratio":this._getAspectRatioStyle()},t={triggered:!!this._isTriggered()&&this._getConfig().view.scan.show_trigger_status},n={main:!0,"curve-top":"outside"!==this._getConfig().menu.style||"top"!==this._getConfig().menu.position,"curve-bottom":"outside"!==this._getConfig().menu.style||"top"===this._getConfig().menu.position},i=this._getMergedActions(),a="outside"===this._getConfig().menu.style&&"top"===this._getConfig().menu.position;return this._renderInDialogIfNecessary(K` <ha-card
      id="ha-card"
      .actionHandler=${Uc({hasHold:Dc(i.hold_action),hasDoubleClick:Dc(i.double_tap_action)})}
      class="${Ee(t)}"
      style="${He(e)}"
      @action=${e=>this._actionHandler(e,i)}
      @ll-custom=${this._cardActionEventHandler.bind(this)}
      @frigate-card:message=${this._messageHandler.bind(this)}
      @frigate-card:view:change=${this._changeViewHandler.bind(this)}
      @frigate-card:view:change-context=${this._addViewContextHandler.bind(this)}
      @frigate-card:media:loaded=${this._mediaLoadedHandler.bind(this)}
      @frigate-card:media:unloaded=${this._mediaUnloadedHandler.bind(this)}
      @frigate-card:render=${()=>this.requestUpdate()}
    >
      ${a?this._renderMenu():""}
      <div ${Fe(this._refMain)} class="${Ee(n)}">
        ${this._cameraManager?.isInitialized()||this._message?this._render():Sp({cardWideConfig:this._cardWideConfig})}
        ${this._message?Ep(this._message):""}
      </div>
      ${a?"":this._renderMenu()}
      ${this._getConfig().elements?K` <frigate-card-elements
            ${Fe(this._refElements)}
            .hass=${this._hass}
            .elements=${this._getConfig().elements}
            .conditionState=${this._conditionState}
            @frigate-card:menu-add=${e=>{this._addDynamicMenuButton(e.detail)}}
            @frigate-card:menu-remove=${e=>{this._removeDynamicMenuButton(e.detail)}}
            @frigate-card:condition-state-request=${e=>{!function(e,t){e.conditionState=t}(e,this._conditionState)}}
          >
          </frigate-card-elements>`:""}
    </ha-card>`)}_render(){const e=this._getSelectedCameraConfig();if(!this._hass||!this._view||!e)return K``;const t={hidden:!!this._message||this._getConfig().live.preload&&!this._view.is("live")};return K`
      ${!this._message&&this._view.is("image")?K` <frigate-card-image
            ${Fe(this._refImage)}
            .imageConfig=${this._getConfig().image}
            .view=${this._view}
            .hass=${this._hass}
            .cameraConfig=${e}
          >
          </frigate-card-image>`:""}
      ${!this._message&&this._view.isGalleryView()?K` <frigate-card-gallery
            .hass=${this._hass}
            .view=${this._view}
            .galleryConfig=${this._getConfig().media_gallery}
            .cameraManager=${this._cameraManager}
            .cardWideConfig=${this._cardWideConfig}
          >
          </frigate-card-gallery>`:""}
      ${!this._message&&this._view.isViewerView()?K` <frigate-card-viewer
            .hass=${this._hass}
            .view=${this._view}
            .viewerConfig=${this._getConfig().media_viewer}
            .resolvedMediaCache=${this._resolvedMediaCache}
            .cameraManager=${this._cameraManager}
            .cardWideConfig=${this._cardWideConfig}
          >
          </frigate-card-viewer>`:""}
      ${!this._message&&this._view.is("timeline")?K` <frigate-card-timeline
            .hass=${this._hass}
            .view=${this._view}
            .timelineConfig=${this._getConfig().timeline}
            .cameraManager=${this._cameraManager}
            .cardWideConfig=${this._cardWideConfig}
          >
          </frigate-card-timeline>`:""}
      ${this._getConfig().live.preload||!this._message&&this._view.is("live")?K`
              <frigate-card-live
                ${Fe(this._refLive)}
                .hass=${this._hass}
                .view=${this._view}
                .liveConfig=${this._config.live}
                .conditionState=${this._conditionState}
                .liveOverrides=${n=this._getConfig().overrides,i="live",n?.filter((e=>i in e.overrides)).map((e=>({conditions:e.conditions,overrides:e.overrides[i]})))??[]}
                .cameraManager=${this._cameraManager}
                .cardWideConfig=${this._cardWideConfig}
                class="${Ee(t)}"
              >
              </frigate-card-live>
            `:""}
    `;var n,i}firstUpdated(){(()=>{const e=new URLSearchParams(window.location.search),t=[],n=new RegExp(/^frigate-card-action(:(?<cardID>\w+))?:(?<action>\w+)/);for(const[i,a]of e.entries()){const e=i.match(n);if(!e||!e.groups)continue;const r=e.groups.cardID,o=e.groups.action;let s=null;switch(o){case"camera_select":case"live_substream_select":a&&(s=Oc(o,{camera:a,cardID:r}));break;case"camera_ui":case"clip":case"clips":case"default":case"diagnostics":case"download":case"expand":case"image":case"live":case"menu_toggle":case"recording":case"recordings":case"snapshot":case"snapshots":case"timeline":s=Oc(o,{cardID:r});break;default:console.warn(`Frigate card received unknown card action in query string: ${o}`)}s&&t.push(s)}return t})().forEach((e=>this._cardActionHandler(e)))}static get styles(){return b(":host {\n  display: block;\n  position: relative;\n  background-color: var(--card-background-color);\n  border-radius: var(--ha-card-border-radius, 4px);\n  --frigate-card-expand-max-height: calc( ( 100vh - (2 * 56px) ) * 0.85 );\n  --frigate-card-expand-max-width: 85vw;\n  --frigate-card-expand-width: none;\n  --frigate-card-expand-height: none;\n  --frigate-card-expand-aspect-ratio: unset;\n}\n\n:host([dark]) {\n  filter: brightness(75%);\n}\n\n:host([panel]) {\n  height: 100%;\n}\n\ndiv.main {\n  position: relative;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  transform: translateZ(0);\n  box-sizing: border-box;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n/* Hide scrollbar for Chrome, Safari and Opera */\ndiv.main::-webkit-scrollbar {\n  display: none;\n}\n\ndiv.main.curve-top {\n  border-top-left-radius: var(--ha-card-border-radius, 4px);\n  border-top-right-radius: var(--ha-card-border-radius, 4px);\n}\n\ndiv.main.curve-bottom {\n  border-bottom-left-radius: var(--ha-card-border-radius, 4px);\n  border-bottom-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n/* The 'hover' menu mode is styled applied outside of the menu itself */\nfrigate-card-menu[data-style*=hover] {\n  z-index: 1;\n  transition: opacity 0.5s ease;\n}\n\n.main + frigate-card-menu[data-style*=hover] {\n  opacity: 0;\n}\n\nfrigate-card-menu[data-style=hover]:hover {\n  opacity: 1;\n}\n\n.main:hover + frigate-card-menu[data-style=hover-card],\nfrigate-card-menu[data-style=hover-card]:hover {\n  opacity: 1;\n}\n\nha-card {\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  border: 0px;\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  position: static;\n  color: var(--secondary-text-color, white);\n}\n\nha-card.triggered {\n  animation: warning-pulse 5s infinite;\n}\n@keyframes warning-pulse {\n  0% {\n    border: solid 2px rgba(0, 0, 0, 0);\n  }\n  50% {\n    border: solid 2px var(--warning-color);\n  }\n  100% {\n    border: solid 2px rgba(0, 0, 0, 0);\n  }\n}\n\nfrigate-card-live.hidden {\n  display: none;\n}\n\n/************\n * Fullscreen\n *************/\n:host(:fullscreen) #ha-card {\n  border-radius: 0px;\n  box-shadow: none;\n  margin: 0;\n}\n\n:host(:-webkit-full-screen) #ha-card {\n  border-radius: 0px;\n  box-shadow: none;\n  margin: 0;\n}\n\n:host(:fullscreen) div.main,\n:host(:fullscreen) frigate-card-menu {\n  border-radius: 0px;\n}\n\n:host(:-webkit-full-screen) div.main,\n:host(:-webkit-full-screen) frigate-card-menu {\n  border-radius: 0px;\n}\n\n/***************\n * Expanded mode\n ***************/\nweb-dialog {\n  --dialog-padding: 0px;\n  --dialog-container-padding: 0px;\n  --dialog-max-height: var(--frigate-card-expand-max-height);\n  --dialog-max-width: var(--frigate-card-expand-max-width);\n  --dialog-width: var(--frigate-card-expand-width);\n  --dialog-height: var(--frigate-card-expand-height);\n  --dialog-overflow-x: visible;\n  --dialog-overflow-y: visible;\n}\n\nweb-dialog::part(dialog) {\n  aspect-ratio: var(--frigate-card-expand-aspect-ratio);\n  border-radius: 0px;\n  background: transparent;\n}")}getCardSize(){return this._lastValidMediaLoadedInfo?this._lastValidMediaLoadedInfo.height/50:6}};e([we()],Ay.prototype,"_hass",void 0),e([we()],Ay.prototype,"_config",void 0),e([we()],Ay.prototype,"_cardWideConfig",void 0),e([we()],Ay.prototype,"_overriddenConfig",void 0),e([we()],Ay.prototype,"_view",void 0),e([be({attribute:"panel",type:Boolean,reflect:!0})],Ay.prototype,"_panel",void 0),e([we()],Ay.prototype,"_expand",void 0),Ay=e([_e("frigate-card")],Ay);export{pr as $,Nf as A,Po as B,$a as C,ya as D,va as E,Ho as F,_a as G,ba as H,Ca as I,xa as J,wa as K,oo as L,ro as M,ao as N,so as O,Dr as P,Or as Q,Ir as R,Pr as S,Ro as T,dr as U,ur as V,hr as W,mr as X,Rr as Y,Nr as Z,fr as _,Y_ as a,Mo as a$,_r as a0,yr as a1,wr as a2,xr as a3,br as a4,gr as a5,vr as a6,Mr as a7,Tr as a8,kr as a9,Ka as aA,Qa as aB,Ba as aC,ar as aD,rr as aE,tr as aF,ir as aG,Ja as aH,er as aI,nr as aJ,or as aK,sr as aL,cr as aM,Zr as aN,Vr as aO,qr as aP,Ur as aQ,Fr as aR,Hr as aS,Xr as aT,Jr as aU,to as aV,no as aW,eo as aX,Kr as aY,Co as aZ,xo as a_,Sr as aa,Cr as ab,$r as ac,Er as ad,Ar as ae,jr as af,zr as ag,Pa as ah,ja as ai,Oa as aj,Ia as ak,za as al,Aa as am,Ra as an,Na as ao,La as ap,Ua as aq,Fa as ar,Ha as as,qa as at,Za as au,Va as av,Wa as aw,Xa as ax,Ya as ay,Ga as az,mg as b,Up as b$,Eo as b0,So as b1,zo as b2,Ao as b3,To as b4,Rf as b5,Pf as b6,b as b7,e as b8,be as b9,ra as bA,ca as bB,sa as bC,la as bD,Mc as bE,Di as bF,$e as bG,ke as bH,J as bI,Ae as bJ,Tp as bK,Mp as bL,qv as bM,ap as bN,Cf as bO,Ne as bP,_v as bQ,Fe as bR,Xv as bS,Rc as bT,Wv as bU,X as bV,ev as bW,kv as bX,bv as bY,yt as bZ,Vv as b_,we as ba,_e as bb,wf as bc,Ri as bd,aa as be,ta as bf,Wi as bg,Bi as bh,Vi as bi,Ni as bj,Fi as bk,Ui as bl,Hi as bm,Li as bn,ea as bo,Gi as bp,Ki as bq,Xi as br,Ji as bs,Zi as bt,qi as bu,Yi as bv,Qi as bw,na as bx,ia as by,oa as bz,Uf as c,v_ as c$,yf as c0,Kv as c1,m_ as c2,kf as c3,eh as c4,zf as c5,jo as c6,Yv as c7,Qv as c8,$f as c9,Em as cA,bm as cB,Tm as cC,Cm as cD,km as cE,hf as cF,Km as cG,nf as cH,af as cI,tf as cJ,_m as cK,Xm as cL,Ev as cM,Lv as cN,gg as cO,Zv as cP,Ce as cQ,Me as cR,rg as cS,Hv as cT,ny as cU,iy as cV,F_ as cW,H_ as cX,d_ as cY,oy as cZ,g_ as c_,Ap as ca,x as cb,nm as cc,y_ as cd,__ as ce,sm as cf,lm as cg,Sf as ch,Jv as ci,Gv as cj,I_ as ck,_f as cl,Sp as cm,w as cn,wt as co,Of as cp,Mv as cq,Ep as cr,U_ as cs,s_ as ct,vm as cu,c_ as cv,rm as cw,am as cx,om as cy,Sm as cz,ug as d,fm as d0,ry as d1,t_ as d2,hg as d3,Oi as d4,jf as d5,ng as d6,Vo as d7,Ef as d8,f_ as d9,Mf as da,Af as db,e_ as dc,u_ as dd,o_ as de,K_ as df,X_ as dg,J_ as dh,If as di,Re as dj,Se as dk,ig as dl,Cv as dm,ka as e,Ea as f,Df as g,Sa as h,Lf as i,Ma as j,co as k,wp as l,Br as m,Yr as n,Ee as o,bf as p,Qr as q,Gr as r,ge as s,Do as t,h_ as u,qf as v,Fp as w,l as x,K as y,pg as z};
