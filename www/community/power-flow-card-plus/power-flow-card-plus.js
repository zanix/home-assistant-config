function t(t,e,i,o){var n,l=arguments.length,a=l<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(l<3?n(a):l>3?n(e,i,a):n(e,i))||a);return l>3&&a&&Object.defineProperty(e,i,a),a}var e,i;function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(e||(e={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(i||(i={}));var n=function(t,i,o){var n=i?function(t){switch(t.number_format){case e.comma_decimal:return["en-US","en"];case e.decimal_comma:return["de","es","it"];case e.space_comma:return["fr","sv","cs"];case e.system:return;default:return t.language}}(i):void 0;if(Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==i?void 0:i.number_format)!==e.none&&!Number.isNaN(Number(t))&&Intl)try{return new Intl.NumberFormat(n,l(t,o)).format(Number(t))}catch(e){return console.error(e),new Intl.NumberFormat(void 0,l(t,o)).format(Number(t))}return"string"==typeof t?t:function(t,e){return void 0===e&&(e=2),Math.round(t*Math.pow(10,e))/Math.pow(10,e)}(t,null==o?void 0:o.maximumFractionDigits).toString()+("currency"===(null==o?void 0:o.style)?" "+o.currency:"")},l=function(t,e){var i=o({maximumFractionDigits:2},e);if("string"!=typeof t)return i;if(!e||!e.minimumFractionDigits&&!e.maximumFractionDigits){var n=t.indexOf(".")>-1?t.split(".")[1].length:0;i.minimumFractionDigits=n,i.maximumFractionDigits=n}return i};const a=window,r=a.ShadowRoot&&(void 0===a.ShadyCSS||a.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),d=new WeakMap;class c{constructor(t,e,i){if(this._$cssResult$=!0,i!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(r&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=d.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&d.set(e,t))}return t}toString(){return this.cssText}}const v=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1]),t[0]);return new c(i,t,s)},u=r?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new c("string"==typeof t?t:t+"",void 0,s))(e)})(t):t;var h;const p=window,y=p.trustedTypes,m=y?y.emptyScript:"",f=p.reactiveElementPolyfillSupport,g={toAttribute(t,e){switch(e){case Boolean:t=t?m:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},_=(t,e)=>e!==t&&(e==e||t==t),b={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:_};class $ extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const o=this._$Ep(i,e);void 0!==o&&(this._$Ev.set(o,i),t.push(o))})),t}static createProperty(t,e=b){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,o=this.getPropertyDescriptor(t,i,e);void 0!==o&&Object.defineProperty(this.prototype,t,o)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(o){const n=this[t];this[e]=o,this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||b}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(u(t))}else void 0!==t&&e.push(u(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{r?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const i=document.createElement("style"),o=a.litNonce;void 0!==o&&i.setAttribute("nonce",o),i.textContent=e.cssText,t.appendChild(i)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=b){var o;const n=this.constructor._$Ep(t,i);if(void 0!==n&&!0===i.reflect){const l=(void 0!==(null===(o=i.converter)||void 0===o?void 0:o.toAttribute)?i.converter:g).toAttribute(e,i.type);this._$El=t,null==l?this.removeAttribute(n):this.setAttribute(n,l),this._$El=null}}_$AK(t,e){var i;const o=this.constructor,n=o._$Ev.get(t);if(void 0!==n&&this._$El!==n){const t=o.getPropertyOptions(n),l="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:g;this._$El=n,this[n]=l.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let o=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||_)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}var w;$.finalized=!0,$.elementProperties=new Map,$.elementStyles=[],$.shadowRootOptions={mode:"open"},null==f||f({ReactiveElement:$}),(null!==(h=p.reactiveElementVersions)&&void 0!==h?h:p.reactiveElementVersions=[]).push("1.6.1");const x=window,k=x.trustedTypes,E=k?k.createPolicy("lit-html",{createHTML:t=>t}):void 0,S="$lit$",A=`lit$${(Math.random()+"").slice(9)}$`,C="?"+A,M=`<${C}>`,P=document,D=()=>P.createComment(""),O=t=>null===t||"object"!=typeof t&&"function"!=typeof t,j=Array.isArray,z="[ \t\n\f\r]",N=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R=/-->/g,T=/>/g,H=RegExp(`>|${z}(?:([^\\s"'>=/]+)(${z}*=${z}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),U=/'/g,I=/"/g,F=/^(?:script|style|textarea|title)$/i,W=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),L=W(1),V=W(2),B=Symbol.for("lit-noChange"),Z=Symbol.for("lit-nothing"),G=new WeakMap,K=P.createTreeWalker(P,129,null,!1);class Y{constructor({strings:t,_$litType$:e},i){let o;this.parts=[];let n=0,l=0;const a=t.length-1,r=this.parts,[s,d]=((t,e)=>{const i=t.length-1,o=[];let n,l=2===e?"<svg>":"",a=N;for(let e=0;e<i;e++){const i=t[e];let r,s,d=-1,c=0;for(;c<i.length&&(a.lastIndex=c,s=a.exec(i),null!==s);)c=a.lastIndex,a===N?"!--"===s[1]?a=R:void 0!==s[1]?a=T:void 0!==s[2]?(F.test(s[2])&&(n=RegExp("</"+s[2],"g")),a=H):void 0!==s[3]&&(a=H):a===H?">"===s[0]?(a=null!=n?n:N,d=-1):void 0===s[1]?d=-2:(d=a.lastIndex-s[2].length,r=s[1],a=void 0===s[3]?H:'"'===s[3]?I:U):a===I||a===U?a=H:a===R||a===T?a=N:(a=H,n=void 0);const v=a===H&&t[e+1].startsWith("/>")?" ":"";l+=a===N?i+M:d>=0?(o.push(r),i.slice(0,d)+S+i.slice(d)+A+v):i+A+(-2===d?(o.push(void 0),e):v)}const r=l+(t[i]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==E?E.createHTML(r):r,o]})(t,e);if(this.el=Y.createElement(s,i),K.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(o=K.nextNode())&&r.length<a;){if(1===o.nodeType){if(o.hasAttributes()){const t=[];for(const e of o.getAttributeNames())if(e.endsWith(S)||e.startsWith(A)){const i=d[l++];if(t.push(e),void 0!==i){const t=o.getAttribute(i.toLowerCase()+S).split(A),e=/([.?@])?(.*)/.exec(i);r.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?tt:"?"===e[1]?it:"@"===e[1]?ot:X})}else r.push({type:6,index:n})}for(const e of t)o.removeAttribute(e)}if(F.test(o.tagName)){const t=o.textContent.split(A),e=t.length-1;if(e>0){o.textContent=k?k.emptyScript:"";for(let i=0;i<e;i++)o.append(t[i],D()),K.nextNode(),r.push({type:2,index:++n});o.append(t[e],D())}}}else if(8===o.nodeType)if(o.data===C)r.push({type:2,index:n});else{let t=-1;for(;-1!==(t=o.data.indexOf(A,t+1));)r.push({type:7,index:n}),t+=A.length-1}n++}}static createElement(t,e){const i=P.createElement("template");return i.innerHTML=t,i}}function q(t,e,i=t,o){var n,l,a,r;if(e===B)return e;let s=void 0!==o?null===(n=i._$Co)||void 0===n?void 0:n[o]:i._$Cl;const d=O(e)?void 0:e._$litDirective$;return(null==s?void 0:s.constructor)!==d&&(null===(l=null==s?void 0:s._$AO)||void 0===l||l.call(s,!1),void 0===d?s=void 0:(s=new d(t),s._$AT(t,i,o)),void 0!==o?(null!==(a=(r=i)._$Co)&&void 0!==a?a:r._$Co=[])[o]=s:i._$Cl=s),void 0!==s&&(e=q(t,s._$AS(t,e.values),s,o)),e}class J{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:i},parts:o}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:P).importNode(i,!0);K.currentNode=n;let l=K.nextNode(),a=0,r=0,s=o[0];for(;void 0!==s;){if(a===s.index){let e;2===s.type?e=new Q(l,l.nextSibling,this,t):1===s.type?e=new s.ctor(l,s.name,s.strings,this,t):6===s.type&&(e=new nt(l,this,t)),this._$AV.push(e),s=o[++r]}a!==(null==s?void 0:s.index)&&(l=K.nextNode(),a++)}return n}v(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class Q{constructor(t,e,i,o){var n;this.type=2,this._$AH=Z,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=o,this._$Cp=null===(n=null==o?void 0:o.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=q(this,t,e),O(t)?t===Z||null==t||""===t?(this._$AH!==Z&&this._$AR(),this._$AH=Z):t!==this._$AH&&t!==B&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>j(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Z&&O(this._$AH)?this._$AA.nextSibling.data=t:this.$(P.createTextNode(t)),this._$AH=t}g(t){var e;const{values:i,_$litType$:o}=t,n="number"==typeof o?this._$AC(t):(void 0===o.el&&(o.el=Y.createElement(o.h,this.options)),o);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.v(i);else{const t=new J(n,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=G.get(t.strings);return void 0===e&&G.set(t.strings,e=new Y(t)),e}T(t){j(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,o=0;for(const n of t)o===e.length?e.push(i=new Q(this.k(D()),this.k(D()),this,this.options)):i=e[o],i._$AI(n),o++;o<e.length&&(this._$AR(i&&i._$AB.nextSibling,o),e.length=o)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class X{constructor(t,e,i,o,n){this.type=1,this._$AH=Z,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Z}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,o){const n=this.strings;let l=!1;if(void 0===n)t=q(this,t,e,0),l=!O(t)||t!==this._$AH&&t!==B,l&&(this._$AH=t);else{const o=t;let a,r;for(t=n[0],a=0;a<n.length-1;a++)r=q(this,o[i+a],e,a),r===B&&(r=this._$AH[a]),l||(l=!O(r)||r!==this._$AH[a]),r===Z?t=Z:t!==Z&&(t+=(null!=r?r:"")+n[a+1]),this._$AH[a]=r}l&&!o&&this.j(t)}j(t){t===Z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class tt extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Z?void 0:t}}const et=k?k.emptyScript:"";class it extends X{constructor(){super(...arguments),this.type=4}j(t){t&&t!==Z?this.element.setAttribute(this.name,et):this.element.removeAttribute(this.name)}}class ot extends X{constructor(t,e,i,o,n){super(t,e,i,o,n),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=q(this,t,e,0))&&void 0!==i?i:Z)===B)return;const o=this._$AH,n=t===Z&&o!==Z||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,l=t!==Z&&(o===Z||n);n&&this.element.removeEventListener(this.name,this,o),l&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class nt{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){q(this,t)}}const lt=x.litHtmlPolyfillSupport;var at,rt;null==lt||lt(Y,Q),(null!==(w=x.litHtmlVersions)&&void 0!==w?w:x.litHtmlVersions=[]).push("2.7.2");class st extends ${constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{var o,n;const l=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:e;let a=l._$litPart$;if(void 0===a){const t=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;l._$litPart$=a=new Q(e.insertBefore(D(),t),t,void 0,null!=i?i:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return B}}st.finalized=!0,st._$litElement$=!0,null===(at=globalThis.litElementHydrateSupport)||void 0===at||at.call(globalThis,{LitElement:st});const dt=globalThis.litElementPolyfillSupport;null==dt||dt({LitElement:st}),(null!==(rt=globalThis.litElementVersions)&&void 0!==rt?rt:globalThis.litElementVersions=[]).push("3.3.1");const ct=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:o}=e;return{kind:i,elements:o,finisher(e){customElements.define(t,e)}}})(t,e),vt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function ut(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):vt(t,e)}function ht(t){return ut({...t,state:!0})}function pt(t,e){return(({finisher:t,descriptor:e})=>(i,o)=>{var n;if(void 0===o){const o=null!==(n=i.originalKey)&&void 0!==n?n:i.key,l=null!=e?{kind:"method",placement:"prototype",key:o,descriptor:e(i.key)}:{...i,key:o};return null!=t&&(l.finisher=function(e){t(e,o)}),l}{const n=i.constructor;void 0!==e&&Object.defineProperty(i,o,e(o)),null==t||t(n,o)}})({descriptor:i=>{const o={get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():"__"+i;o.get=function(){var i,o;return void 0===this[e]&&(this[e]=null!==(o=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t))&&void 0!==o?o:null),this[e]}}return o}})}var yt;null===(yt=window.HTMLSlotElement)||void 0===yt||yt.prototype.assignedElements;class mt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const ft=(t=>(...e)=>({_$litDirective$:t,values:e}))(class extends mt{constructor(t){var e;if(super(t),1!==t.type||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var i,o;if(void 0===this.it){this.it=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(i=this.nt)||void 0===i?void 0:i.has(t))&&this.it.add(t);return this.render(e)}const n=t.element.classList;this.it.forEach((t=>{t in e||(n.remove(t),this.it.delete(t))}));for(const t in e){const i=!!e[t];i===this.it.has(t)||(null===(o=this.nt)||void 0===o?void 0:o.has(t))||(i?(n.add(t),this.it.add(t)):(n.remove(t),this.it.delete(t)))}return B}}),gt=(t,e)=>Number(`${Math.round(Number(`${t}e${e}`))}e-${e}`);function _t(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function bt(t,e=0){return _t(t)?Number(t):e}var $t="0.1.3";console.groupCollapsed(`%c⚡ Power Flow Card Plus v${$t} is installed`,"color: #488fc2; font-weight: bold"),console.log("Readme:","https://github.com/flixlix/power-flow-card-plus"),console.groupEnd();const wt=function(t,e,i){var o;return void 0===i&&(i=!1),function(){var e=[].slice.call(arguments),n=this,l=i&&!o;clearTimeout(o),o=setTimeout((function(){o=null,i||t.apply(n,e)}),6e4),l&&t.apply(n,e)}}((t=>{console.log(`%c⚡ Power Flow Card Plus v${$t} %cError: ${t}`,"color: #488fc2; font-weight: bold","color: #b33a3a; font-weight: normal")})),xt=v`:host{--mdc-icon-size:24px;--clickable-cursor:pointer;--individualone-color:#d0cc5b;--individualtwo-color:#964cb5;--non-fossil-color:var(--energy-non-fossil-color, #0f9d58);--icon-non-fossil-color:var(--non-fossil-color, #0f9d58);--icon-solar-color:var(--energy-solar-color, #ff9800);--icon-individualone-color:var(--individualone-color, #d0cc5b);--icon-individualtwo-color:var(--individualtwo-color, #964cb5);--icon-grid-color:var(--energy-grid-consumption-color, #488fc2);--icon-battery-color:var(--energy-battery-in-color, #f06292);--icon-home-color:var(--energy-grid-consumption-color, #488fc2);--text-solar-color:var(--primary-text-color);--text-non-fossil-color:var(--primary-text-color);--text-individualone-color:var(--primary-text-color);--text-individualtwo-color:var(--primary-text-color);--text-home-color:var(--primary-text-color);--secondary-text-individualone-color:var(--primary-text-color);--secondary-text-individualtwo-color:var(--primary-text-color);--text-battery-state-of-charge-color:var(--primary-text-color);--cirlce-grid-color:var(--energy-grid-consumption-color, #488fc2);--circle-battery-color:var(--energy-battery-in-color, #f06292);--secondary-text-solar-color:var(--primary-text-color);--secondary-text-grid-color:var(--primary-text-color);--secondary-text-home-color:var(--primary-text-color);--secondary-text-non-fossil-color:var(--primary-text-color);--lines-svg-not-flat-line-height:106%;--lines-svg-not-flat-line-top:-3%}.card-content{position:relative;margin:0 auto}.card-content,.row{max-width:470px}.lines{position:absolute;bottom:0;left:0;width:100%;height:146px;display:flex;justify-content:center;padding:0 16px 16px;box-sizing:border-box}.lines.individual1-individual2{bottom:110px}.lines.high{bottom:100px;height:156px}.lines svg{width:calc(100% - 160px);height:100%;max-width:340px}.lines svg:not(.flat-line){width:calc(103% - 165px);height:var(--lines-svg-not-flat-line-height);top:var(--lines-svg-not-flat-line-top);position:relative}.row{display:flex;justify-content:space-between;max-width:500px;margin:0 auto}.circle-container{display:flex;flex-direction:column;align-items:center;z-index:2}.circle-container.solar{margin:0 4px;height:130px}.circle-container.individual2{margin-left:4px;height:130px}.circle-container.individual1{margin-left:4px;height:130px}.circle-container.individual1.bottom{position:relative;top:-20px;margin-bottom:-20px}.circle-container.battery{height:110px;justify-content:flex-end}.spacer{width:84px}.circle{width:80px;height:80px;border-radius:50%;box-sizing:border-box;border:2px solid;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-size:12px;line-height:12px;position:relative;text-decoration:none;color:var(--primary-text-color)}.circle-container .circle{cursor:var(--clickable-cursor)}#battery-grid{stroke:var(--energy-grid-return-color)}ha-icon{padding-bottom:2px}ha-icon.small{--mdc-icon-size:12px}.label{color:var(--secondary-text-color);font-size:12px;max-width:80px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}line,path{stroke:var(--disabled-text-color);stroke-width:1;fill:none}.circle svg{position:absolute;fill:none;stroke-width:4px;width:100%;height:100%;top:0;left:0}span.secondary-info{color:var(--primary-text-color);font-size:12px;max-width:60px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.individual2 circle,.individual2 path{stroke:var(--individualtwo-color)}#individual1-icon{color:var(--icon-individualone-color)}#individual2-icon{color:var(--icon-individualtwo-color)}#solar-icon{color:var(--icon-solar-color)}circle.individual2{stroke-width:4;fill:var(--individualtwo-color)}.individual2 .circle{border-color:var(--individualtwo-color)}.individual1 circle,.individual1 path{stroke:var(--individualone-color)}circle.individual1{stroke-width:4;fill:var(--individualone-color)}.individual1 .circle{border-color:var(--individualone-color)}.circle-container.low-carbon{margin-right:4px;height:130px}.low-carbon path{stroke:var(--non-fossil-color)}.low-carbon .circle{border-color:var(--non-fossil-color)}.low-carbon ha-icon:not(.small){color:var(--icon-non-fossil-color)}circle.low-carbon{stroke-width:4;fill:var(--non-fossil-color);stroke:var(--non-fossil-color)}.solar{color:var(--primary-text-color)}.solar .circle{border-color:var(--energy-solar-color)}.solar ha-icon:not(.small){color:var(--icon-solar-color)}circle.solar,path.solar{stroke:var(--energy-solar-color)}circle.solar{stroke-width:4;fill:var(--energy-solar-color)}.battery .circle{border-color:var(--circle-battery-color)}circle.battery,path.battery{stroke:var(--energy-battery-out-color)}circle.battery-home,path.battery-home{stroke:var(--energy-battery-out-color)}circle.battery-home{stroke-width:4;fill:var(--energy-battery-out-color)}circle.battery-solar,path.battery-solar{stroke:var(--energy-battery-in-color)}circle.battery-solar{stroke-width:4;fill:var(--energy-battery-in-color)}.battery-in{color:var(--energy-battery-in-color)}.battery-out{color:var(--energy-battery-out-color)}path.battery-from-grid{stroke:var(--energy-grid-consumption-color)}path.battery-to-grid{stroke:var(--energy-grid-return-color)}.battery ha-icon:not(.small){color:var(--icon-battery-color)}circle.battery-to-grid,circle.return,path.return{stroke:var(--energy-grid-return-color)}circle.battery-to-grid,circle.return{stroke-width:4;fill:var(--energy-grid-return-color)}.return{color:var(--energy-grid-return-color)}.grid .circle{border-color:var(--circle-grid-color)}.consumption{color:var(--energy-grid-consumption-color)}circle.battery-from-grid,circle.grid,path.grid{stroke:var(--energy-grid-consumption-color)}circle.battery-from-grid,circle.grid{stroke-width:4;fill:var(--energy-grid-consumption-color)}.grid ha-icon:not(.small){color:var(--icon-grid-color)}.home .circle{border-width:0;border-color:var(--primary-color)}.home .circle.border{border-width:2px}.home ha-icon:not(.small){color:var(--icon-home-color)}.circle svg circle{animation:rotate-in .6s ease-in;transition:stroke-dashoffset .4s,stroke-dasharray .4s;fill:none}span.solar{color:var(--text-solar-color)}span.low-carbon{color:var(--text-non-fossil-color)}span.low-carbon.secondary-info{color:var(--secondary-text-non-fossil-color)}#home-circle{color:var(--text-home-color)}.individual1 .circle{color:var(--text-individualone-color)}.individual2 .circle{color:var(--text-individualtwo-color)}.individual1 span.secondary-info{color:var(--secondary-text-individualone-color)}.individual2 span.secondary-info{color:var(--secondary-text-individualtwo-color)}.solar span.secondary-info{color:var(--secondary-text-solar-color)}.grid span.secondary-info{color:var(--secondary-text-grid-color)}.home span.secondary-info{color:var(--secondary-text-home-color)}#battery-state-of-charge-text{color:var(--text-battery-state-of-charge-color)}@keyframes rotate-in{from{stroke-dashoffset:238.76104;stroke-dasharray:238.76104}}.card-actions a{text-decoration:none}`,kt=238.76104;!function(t){const e=window;e.customCards=e.customCards||[],e.customCards.push(Object.assign(Object.assign({},{type:"power-flow-card-plus",name:"Power Flow Card Plus",description:"An extended version of the power flow card with richer options, advanced features and a few small UI enhancements. Inspired by the Energy Dashboard."}),{preview:!0,documentationURL:"https://github.com/flixlix/power-flow-card-plus"}))}();let Et=class extends st{constructor(){super(...arguments),this._config={},this._templateResults={},this._unsubRenderTemplates=new Map,this.unavailableOrMisconfiguredError=t=>wt(`Entity "${null!=t?t:"Unknown"}" is not available or misconfigured`),this.entityExists=t=>t in this.hass.states,this.entityAvailable=t=>{var e;return _t(null===(e=this.hass.states[t])||void 0===e?void 0:e.state)},this.entityInverted=t=>{var e;return!!(null===(e=this._config.entities[t])||void 0===e?void 0:e.invert_state)},this.previousDur={},this.circleRate=(t,e)=>{var i,o;if(this._config.use_new_flow_rate_model){const e=this._config.max_expected_power,i=this._config.min_expected_power,o=this._config.max_flow_rate,n=this._config.min_flow_rate;return this.mapRange(t,o,n,i,e)}const n=null===(i=this._config)||void 0===i?void 0:i.min_flow_rate,l=null===(o=this._config)||void 0===o?void 0:o.max_flow_rate;return l-(t/e!=0?e:1)*(l-n)},this.getEntityStateObj=t=>{if(t&&this.entityAvailable(t))return this.hass.states[t];this.unavailableOrMisconfiguredError(t)},this.additionalCircleRate=(t,e)=>!0===t&&e?e:_t(t)?t:1.66,this.getEntityState=t=>t&&this.entityAvailable(t)?bt(this.hass.states[t].state):(this.unavailableOrMisconfiguredError(t),0),this.getEntityStateWatts=t=>{var e;if(!t||!this.entityAvailable(t))return this.unavailableOrMisconfiguredError(t),0;const i=this.hass.states[t],o=bt(i.state);return(null===(e=i.attributes.unit_of_measurement)||void 0===e?void 0:e.toUpperCase().startsWith("KW"))?1e3*o:o},this.displayNonFossilState=(t,e)=>{var i,o,n,l,a,r,s;if(!t||!this.entityAvailable(t))return this.unavailableOrMisconfiguredError(t),"NaN";const d=null===(o=null===(i=this._config.entities.fossil_fuel_percentage)||void 0===i?void 0:i.unit_white_space)||void 0===o||o,c="percentage"===(null===(n=this._config.entities.fossil_fuel_percentage)||void 0===n?void 0:n.state_type)?"%":"W",v=1-this.getEntityState(t)/100;let u,h;u="string"==typeof(null===(l=this._config.entities.grid)||void 0===l?void 0:l.entity)?e:this.getEntityStateWatts(null===(a=this._config.entities.grid)||void 0===a?void 0:a.entity.consumption)||0;const p=null!==(s=null===(r=this._config.entities.fossil_fuel_percentage)||void 0===r?void 0:r.display_zero_tolerance)&&void 0!==s?s:0;if("W"===c){let t=u*v;p&&t<p&&(t=0),h=this.displayValue(t,void 0,d)}else{let e=100-this.getEntityState(t);p&&e<p&&(e=0),h=e.toFixed(0).toString().concat(!1===d?"":" ").concat(c)}return h},this.displayValue=(t,e,i,o)=>{if(null===t)return"0";if(Number.isNaN(+t))return t;const l=Number(t),a=void 0===e&&l>=this._config.watt_threshold;return`${n(a?gt(l/1e3,this._config.kw_decimals):gt(l,null!=o?o:this._config.w_decimals),this.hass.locale)}${!1===i?"":" "}${e||(a?"kW":"W")}`}}setConfig(t){var e,i,o,n,l,a;if(!t.entities||!(null===(i=null===(e=t.entities)||void 0===e?void 0:e.battery)||void 0===i?void 0:i.entity)&&!(null===(n=null===(o=t.entities)||void 0===o?void 0:o.grid)||void 0===n?void 0:n.entity)&&!(null===(a=null===(l=t.entities)||void 0===l?void 0:l.solar)||void 0===a?void 0:a.entity))throw new Error("At least one entity for battery, grid or solar must be defined");this._config=Object.assign(Object.assign({},t),{kw_decimals:bt(t.kw_decimals,1),min_flow_rate:bt(t.min_flow_rate,.75),max_flow_rate:bt(t.max_flow_rate,6),w_decimals:bt(t.w_decimals,0),watt_threshold:bt(t.watt_threshold,1e3),max_expected_power:bt(t.max_expected_power,2e3),min_expected_power:bt(t.min_expected_power,.01)})}connectedCallback(){super.connectedCallback(),this._tryConnectAll()}disconnectedCallback(){this._tryDisconnectAll()}static async getConfigElement(){return await Promise.resolve().then((function(){return de})),document.createElement("power-flow-card-plus-editor")}static getStubConfig(t){return function(t){function e(e,i){const o=t.states[e].attributes.friendly_name;return i.some((t=>e.includes(t)||(null==o?void 0:o.includes(t))))}const i=Object.keys(t.states).filter((e=>{const i=t.states[e];return i.state&&i.attributes&&"power"===i.attributes.device_class||i.entity_id.includes("power")})),o=["grid","utility","net","meter"],n=["solar","pv","photovoltaic","inverter"],l=["battery"],a=["battery_percent","battery_level","state_of_charge","soc","percentage"],r=i.filter((t=>e(t,o)))[0],s=i.filter((t=>e(t,n)))[0],d=i.filter((t=>e(t,l)))[0],c=Object.keys(t.states).filter((e=>{const i=t.states[e];return i&&i.state&&i.attributes&&"%"===i.attributes.unit_of_measurement})).filter((t=>e(t,a)))[0];return{entities:{battery:{entity:null!=d?d:"",state_of_charge:null!=c?c:""},grid:r?{entity:r}:void 0,solar:s?{entity:s,display_zero_state:!0}:void 0},clickable_entities:!0,display_zero_lines:!0,use_new_flow_rate_model:!0,w_decimals:0,kw_decimals:1,min_flow_rate:.75,max_flow_rate:6,max_expected_power:2e3,min_expected_power:.01,watt_threshold:1e3}}(t)}getCardSize(){return 3}mapRange(t,e,i,o,n){return t>n?i:(t-o)*(i-e)/(n-o)+e}openDetails(t){if(!t||!this._config.clickable_entities)return;if(!this.entityExists(t))return;const e=new CustomEvent("hass-more-info",{composed:!0,detail:{entityId:t}});this.dispatchEvent(e)}hasField(t,e){var i,o;return!!(void 0!==t&&!0===(null==t?void 0:t.display_zero)||this.getEntityStateWatts(null==t?void 0:t.entity)>(null!==(i=null==t?void 0:t.display_zero_tolerance)&&void 0!==i?i:0)&&this.entityAvailable(null==t?void 0:t.entity)||e)&&"string"==typeof(null===(o=this.hass.states[null==t?void 0:t.entity])||void 0===o?void 0:o.state)}showLine(t){var e;return!1!==(null===(e=this._config)||void 0===e?void 0:e.display_zero_lines)||t>0}render(){var t,e,i,o,l,a,r,s,d,c,v,u,h,p,y,m,f,g,_,b,$,w,x,k,E,S,A,C,M,P,D,O,j,z,N,R,T,H,U,I,F,W,B,Z,G,K,Y,q,J,Q,X,tt,et,it,ot,nt,lt,at,rt,st,dt,ct,vt,ut,ht,pt,yt,mt,gt,_t,$t,wt,xt,Et,St,At,Ct,Mt,Pt,Dt,Ot,jt,zt,Nt,Rt,Tt,Ht,Ut,It,Ft,Wt,Lt,Vt,Bt,Zt,Gt,Kt,Yt,qt,Jt,Qt,Xt,te,ee,ie,oe,ne,le,ae,re,se,de,ce,ve,ue,he,pe,ye,me,fe,ge,_e,be,$e,we,xe,ke,Ee,Se,Ae,Ce,Me,Pe,De,Oe,je,ze,Ne,Re,Te,He,Ue,Ie,Fe,We,Le,Ve,Be,Ze,Ge,Ke,Ye,qe,Je,Qe,Xe,ti,ei,ii,oi,ni,li,ai,ri,si,di,ci,vi,ui,hi,pi,yi,mi,fi,gi,_i,bi,$i,wi,xi,ki,Ei,Si,Ai,Ci,Mi,Pi,Di,Oi,ji,zi,Ni,Ri,Ti,Hi,Ui,Ii,Fi,Wi,Li,Vi,Bi,Zi,Gi,Ki,Yi,qi,Ji,Qi,Xi,to,eo,io,oo,no,lo,ao,ro,so,co,vo,uo,ho,po,yo,mo,fo,go,_o,bo,$o,wo,xo,ko,Eo,So,Ao,Co,Mo,Po,Do,Oo,jo,zo,No,Ro,To,Ho,Uo,Io,Fo,Wo,Lo,Vo,Bo,Zo,Go,Ko,Yo,qo,Jo,Qo,Xo,tn;if(!this._config||!this.hass)return L``;const{entities:en}=this._config;function on(t){return"#".concat(t.map((t=>t.toString(16).padStart(2,"0"))).join(""))}this.style.setProperty("--clickable-cursor",this._config.clickable_entities?"pointer":"default");const nn=void 0!==(null===(t=null==en?void 0:en.grid)||void 0===t?void 0:t.entity),ln=this.hasField(null===(e=en.grid)||void 0===e?void 0:e.power_outage,!0)&&this.hass.states[en.grid.power_outage.entity].state===(null!==(o=null===(i=en.grid)||void 0===i?void 0:i.power_outage.state_alert)&&void 0!==o?o:"on"),an=void 0!==(null===(l=null==en?void 0:en.battery)||void 0===l?void 0:l.entity),rn=this.hasField(en.individual2),sn=this.hasField(null===(a=en.individual2)||void 0===a?void 0:a.secondary_info,!0),dn=this.hasField(en.individual1),cn=this.hasField(null===(r=en.individual1)||void 0===r?void 0:r.secondary_info,!0),vn=void 0!==en.solar,un=this.hasField(null===(s=en.solar)||void 0===s?void 0:s.secondary_info),hn=this.hasField(null===(d=en.home)||void 0===d?void 0:d.secondary_info),pn=nn&&("string"==typeof en.grid.entity||en.grid.entity.production);let yn=0,mn=0,fn=null===(v=null===(c=this._config.entities.grid)||void 0===c?void 0:c.color)||void 0===v?void 0:v.consumption;void 0!==fn&&("object"==typeof fn&&(fn=on(fn)),this.style.setProperty("--energy-grid-consumption-color",fn||"var(--energy-grid-consumption-color)")),nn&&(yn="string"==typeof en.grid.entity?this.entityInverted("grid")?Math.abs(Math.min(this.getEntityStateWatts(null===(u=en.grid)||void 0===u?void 0:u.entity),0)):Math.max(this.getEntityStateWatts(null===(h=en.grid)||void 0===h?void 0:h.entity),0):this.getEntityStateWatts(en.grid.entity.consumption)),void 0!==(null===(p=this._config.entities.grid)||void 0===p?void 0:p.display_zero_tolerance)&&(yn=yn>(null===(y=this._config.entities.grid)||void 0===y?void 0:y.display_zero_tolerance)?yn:0);const gn=this.hasField(null===(m=en.grid)||void 0===m?void 0:m.secondary_info);let _n=null;if(gn){const t=this.hass.states[null!==(_=null===(g=null===(f=this._config.entities.grid)||void 0===f?void 0:f.secondary_info)||void 0===g?void 0:g.entity)&&void 0!==_?_:0],e=Number(t.state);_n=this.entityInverted("gridSecondary")?Math.abs(Math.min(e,0)):Math.max(e,0)}let bn=null===($=null===(b=this._config.entities.grid)||void 0===b?void 0:b.color)||void 0===$?void 0:$.production;void 0!==bn&&("object"==typeof bn&&(bn=on(bn)),this.style.setProperty("--energy-grid-return-color",bn||"#a280db")),pn&&(mn="string"==typeof en.grid.entity?this.entityInverted("grid")?Math.max(this.getEntityStateWatts(en.grid.entity),0):Math.abs(Math.min(this.getEntityStateWatts(en.grid.entity),0)):this.getEntityStateWatts(null===(w=en.grid)||void 0===w?void 0:w.entity.production)),void 0!==(null===(x=this._config.entities.grid)||void 0===x?void 0:x.display_zero_tolerance)&&(mn=mn>(null===(k=this._config.entities.grid)||void 0===k?void 0:k.display_zero_tolerance)?mn:0);const $n="object"==typeof(null===(E=en.grid)||void 0===E?void 0:E.entity)?en.grid.entity.consumption||en.grid.entity.production:null===(S=en.grid)||void 0===S?void 0:S.entity,wn=ln?(null===(P=en.grid)||void 0===P?void 0:P.power_outage.icon_alert)||"mdi:transmission-tower-off":(null===(A=en.grid)||void 0===A?void 0:A.icon)||(null===(C=en.grid)||void 0===C?void 0:C.use_metadata)&&(null===(M=this.getEntityStateObj($n))||void 0===M?void 0:M.attributes.icon)||"mdi:transmission-tower",xn=(null===(D=en.grid)||void 0===D?void 0:D.name)||(null===(O=en.grid)||void 0===O?void 0:O.use_metadata)&&(null===(j=this.getEntityStateObj($n))||void 0===j?void 0:j.attributes.friendly_name)||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.grid"),kn=null===(z=en.grid)||void 0===z?void 0:z.color_icon;this.style.setProperty("--icon-grid-color","consumption"===kn?"var(--energy-grid-consumption-color)":"production"===kn?"var(--energy-grid-return-color)":!0===kn?yn>=mn?"var(--energy-grid-consumption-color)":"var(--energy-grid-return-color)":"var(--primary-text-color)");const En=null===(R=null===(N=this._config.entities.grid)||void 0===N?void 0:N.secondary_info)||void 0===R?void 0:R.color_value;this.style.setProperty("--secondary-text-grid-color","consumption"===En?"var(--energy-grid-consumption-color)":"production"===En?"var(--energy-grid-return-color)":!0===En?yn>=mn?"var(--energy-grid-consumption-color)":"var(--energy-grid-return-color)":"var(--primary-text-color)");const Sn=null===(T=this._config.entities.grid)||void 0===T?void 0:T.color_circle;this.style.setProperty("--circle-grid-color","consumption"===Sn?"var(--energy-grid-consumption-color)":"production"===Sn?"var(--energy-grid-return-color)":!0===Sn?yn>=mn?"var(--energy-grid-consumption-color)":"var(--energy-grid-return-color)":"var(--energy-grid-consumption-color)");const An=function(t){const e=getComputedStyle(t||document.body),{width:i}=e,o=parseFloat(i);return Number.isNaN(o)?0:o}(document.getElementById("card-content"))>420;this.style.setProperty("--lines-svg-not-flat-line-height",An?"106%":"102%"),this.style.setProperty("--lines-svg-not-flat-line-top",An?"-3%":"-1%");let Cn=null,Mn=null;const Pn=(null===(H=this._config.entities.individual1)||void 0===H?void 0:H.name)||(null===(I=this.getEntityStateObj(null===(U=en.individual1)||void 0===U?void 0:U.entity))||void 0===I?void 0:I.attributes.friendly_name)||"Car",Dn=(null===(F=this._config.entities.individual1)||void 0===F?void 0:F.icon)||(null===(B=this.getEntityStateObj(null===(W=en.individual1)||void 0===W?void 0:W.entity))||void 0===B?void 0:B.attributes.icon)||"mdi:car-electric";let On=null===(Z=this._config.entities.individual1)||void 0===Z?void 0:Z.color;if(void 0!==On&&("object"==typeof On&&(On=on(On)),this.style.setProperty("--individualone-color",On)),this.style.setProperty("--icon-individualone-color",(null===(G=this._config.entities.individual1)||void 0===G?void 0:G.color_icon)?"var(--individualone-color)":"var(--primary-text-color)"),dn){const t=this.getEntityStateWatts(null===(K=this._config.entities.individual1)||void 0===K?void 0:K.entity);Cn=this.entityInverted("individual1")?Math.abs(Math.min(t,0)):Math.max(t,0)}if(cn){const t=this.hass.states[null===(q=null===(Y=this._config.entities.individual1)||void 0===Y?void 0:Y.secondary_info)||void 0===q?void 0:q.entity].state;"number"==typeof t?Mn=this.entityInverted("individual1Secondary")?Math.abs(Math.min(t,0)):Math.max(t,0):"string"==typeof t&&(Mn=t)}let jn=null,zn=null;const Nn=(null===(J=this._config.entities.individual2)||void 0===J?void 0:J.name)||(null===(X=this.getEntityStateObj(null===(Q=en.individual2)||void 0===Q?void 0:Q.entity))||void 0===X?void 0:X.attributes.friendly_name)||"Motorcycle",Rn=(null===(tt=this._config.entities.individual2)||void 0===tt?void 0:tt.icon)||(null===(it=this.getEntityStateObj(null===(et=en.individual2)||void 0===et?void 0:et.entity))||void 0===it?void 0:it.attributes.icon)||"mdi:motorbike-electric";let Tn=null===(ot=this._config.entities.individual2)||void 0===ot?void 0:ot.color;if(void 0!==Tn&&("object"==typeof Tn&&(Tn=on(Tn)),this.style.setProperty("--individualtwo-color",Tn)),this.style.setProperty("--icon-individualtwo-color",(null===(nt=this._config.entities.individual2)||void 0===nt?void 0:nt.color_icon)?"var(--individualtwo-color)":"var(--primary-text-color)"),rn){const t=this.getEntityStateWatts(null===(lt=this._config.entities.individual2)||void 0===lt?void 0:lt.entity);jn=this.entityInverted("individual2")?Math.abs(Math.min(t,0)):Math.max(t,0)}if(sn){const t=this.hass.states[null===(rt=null===(at=this._config.entities.individual2)||void 0===at?void 0:at.secondary_info)||void 0===rt?void 0:rt.entity].state;"number"==typeof t?zn=this.entityInverted("individual2Secondary")?Math.abs(Math.min(t,0)):Math.max(t,0):"string"==typeof t&&(zn=t)}let Hn=null;if(un){const t=this.hass.states[null===(dt=null===(st=this._config.entities.solar)||void 0===st?void 0:st.secondary_info)||void 0===dt?void 0:dt.entity],e=Number(t.state);Hn=this.entityInverted("solarSecondary")?Math.abs(Math.min(e,0)):Math.max(e,0)}let Un=null;if(hn){const t=this.hass.states[null===(vt=null===(ct=this._config.entities.home)||void 0===ct?void 0:ct.secondary_info)||void 0===vt?void 0:vt.entity],e=Number(t.state);Un=this.entityInverted("homeSecondary")?Math.abs(Math.min(e,0)):Math.max(e,0)}let In=0;if(void 0!==(null===(ut=this._config.entities.solar)||void 0===ut?void 0:ut.color)){let t=null===(ht=this._config.entities.solar)||void 0===ht?void 0:ht.color;"object"==typeof t&&(t=on(t)),this.style.setProperty("--energy-solar-color",t||"#ff9800")}this.style.setProperty("--icon-solar-color",(null===(pt=this._config.entities.solar)||void 0===pt?void 0:pt.color_icon)?"var(--energy-solar-color)":"var(--primary-text-color)"),vn&&(In=this.entityInverted("solar")?Math.abs(Math.min(this.getEntityStateWatts(null===(yt=en.solar)||void 0===yt?void 0:yt.entity),0)):Math.max(this.getEntityStateWatts(null===(mt=en.solar)||void 0===mt?void 0:mt.entity),0),(null===(gt=en.solar)||void 0===gt?void 0:gt.display_zero_tolerance)&&en.solar.display_zero_tolerance>=In&&(In=0));let Fn=0,Wn=0;an&&("string"==typeof(null===(_t=en.battery)||void 0===_t?void 0:_t.entity)?(Fn=this.entityInverted("battery")?Math.max(this.getEntityStateWatts(en.battery.entity),0):Math.abs(Math.min(this.getEntityStateWatts(en.battery.entity),0)),Wn=this.entityInverted("battery")?Math.abs(Math.min(this.getEntityStateWatts(en.battery.entity),0)):Math.max(this.getEntityStateWatts(en.battery.entity),0)):(Fn=this.getEntityStateWatts(null===(wt=null===($t=en.battery)||void 0===$t?void 0:$t.entity)||void 0===wt?void 0:wt.production),Wn=this.getEntityStateWatts(null===(Et=null===(xt=en.battery)||void 0===xt?void 0:xt.entity)||void 0===Et?void 0:Et.consumption)),(null===(St=null==en?void 0:en.battery)||void 0===St?void 0:St.display_zero_tolerance)&&(en.battery.display_zero_tolerance>=Fn&&(Fn=0),en.battery.display_zero_tolerance>=Wn&&(Wn=0)));let Ln=null;vn&&(Ln=In-(null!=mn?mn:0)-(null!=Fn?Fn:0));let Vn=null,Bn=null;null!==Ln&&Ln<0&&(an&&(Vn=Math.abs(Ln),Vn>yn&&(Bn=Math.min(Vn-yn,0),Vn=yn)),Ln=0);let Zn=null;vn&&an?(Bn||(Bn=Math.max(0,(mn||0)-(In||0)-(Fn||0)-(Vn||0))),Zn=Fn-(Vn||0)):!vn&&an&&(Bn=mn);let Gn=0;vn&&mn&&(Gn=mn-(null!=Bn?Bn:0));let Kn=0;an&&(Kn=(null!=Wn?Wn:0)-(null!=Bn?Bn:0));let Yn=null===(Ct=null===(At=this._config.entities.battery)||void 0===At?void 0:At.color)||void 0===Ct?void 0:Ct.consumption;void 0!==Yn&&("object"==typeof Yn&&(Yn=on(Yn)),this.style.setProperty("--energy-battery-out-color",Yn||"#4db6ac"));let qn=null===(Pt=null===(Mt=this._config.entities.battery)||void 0===Mt?void 0:Mt.color)||void 0===Pt?void 0:Pt.production;void 0!==qn&&("object"==typeof qn&&(qn=on(qn)),this.style.setProperty("--energy-battery-in-color",qn||"#a280db"));const Jn="object"==typeof(null===(Dt=en.battery)||void 0===Dt?void 0:Dt.entity)?en.battery.entity.consumption:null===(Ot=en.battery)||void 0===Ot?void 0:Ot.entity,Qn=(null===(jt=en.battery)||void 0===jt?void 0:jt.name)||(null===(zt=en.battery)||void 0===zt?void 0:zt.use_metadata)&&(null===(Nt=this.getEntityStateObj(Jn))||void 0===Nt?void 0:Nt.attributes.friendly_name)||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.battery"),Xn=null===(Rt=this._config.entities.battery)||void 0===Rt?void 0:Rt.color_icon;this.style.setProperty("--icon-battery-color","consumption"===Xn?"var(--energy-battery-in-color)":"production"===Xn?"var(--energy-battery-out-color)":!0===Xn?Wn>=Fn?"var(--energy-battery-out-color)":"var(--energy-battery-in-color)":"var(--primary-text-color)");const tl=null===(Tt=this._config.entities.battery)||void 0===Tt?void 0:Tt.color_state_of_charge_value;this.style.setProperty("--text-battery-state-of-charge-color","consumption"===tl?"var(--energy-battery-in-color)":"production"===tl?"var(--energy-battery-out-color)":!0===tl?Wn>=Fn?"var(--energy-battery-out-color)":"var(--energy-battery-in-color)":"var(--primary-text-color)");const el=null===(Ht=this._config.entities.battery)||void 0===Ht?void 0:Ht.color_circle;this.style.setProperty("--circle-battery-color","consumption"===el?"var(--energy-battery-in-color)":"production"===el||!0===el&&Wn>=Fn?"var(--energy-battery-out-color)":"var(--energy-battery-in-color)");const il=Math.max(yn-(null!=Vn?Vn:0),0),ol=bt(Cn,0)+bt(jn,0),nl=Math.max(il+(null!=Ln?Ln:0)+(null!=Kn?Kn:0),0);let ll=0;Kn&&(ll=kt*(Kn/nl));let al=0;vn&&(al=kt*(Ln/nl));const rl=this.hasField(null===(Ut=en.fossil_fuel_percentage)||void 0===Ut?void 0:Ut.secondary_info,!0);let sl=null;if(rl){const t=this.hass.states[null===(Ft=null===(It=this._config.entities.fossil_fuel_percentage)||void 0===It?void 0:It.secondary_info)||void 0===Ft?void 0:Ft.entity].state;"number"==typeof t?sl=this.entityInverted("nonFossilSecondary")?Math.abs(Math.min(t,0)):Math.max(t,0):"string"==typeof t&&(sl=t)}const dl=1*il-this.getEntityState(null===(Wt=en.fossil_fuel_percentage)||void 0===Wt?void 0:Wt.entity)/100>0&&void 0!==(null===(Lt=en.fossil_fuel_percentage)||void 0===Lt?void 0:Lt.entity)&&this.entityAvailable(null===(Vt=en.fossil_fuel_percentage)||void 0===Vt?void 0:Vt.entity),cl=void 0!==(null===(Bt=en.fossil_fuel_percentage)||void 0===Bt?void 0:Bt.entity)&&!0===(null===(Zt=en.fossil_fuel_percentage)||void 0===Zt?void 0:Zt.display_zero)||dl;let vl,ul=0;dl&&(vl=il*(1-this.getEntityState(null===(Gt=en.fossil_fuel_percentage)||void 0===Gt?void 0:Gt.entity)/100),ul=kt*(vl/nl));const hl=kt*((nl-(null!=vl?vl:0)-(null!=Kn?Kn:0)-(null!=Ln?Ln:0))/nl),pl=il+(null!=Ln?Ln:0)+Gn+(null!=Zn?Zn:0)+(null!=Kn?Kn:0)+(null!=Vn?Vn:0)+(null!=Bn?Bn:0),yl=(null===(Yt=null===(Kt=en.battery)||void 0===Kt?void 0:Kt.state_of_charge)||void 0===Yt?void 0:Yt.length)?this.getEntityState(null===(qt=en.battery)||void 0===qt?void 0:qt.state_of_charge):null;let ml="mdi:battery-high";null===yl?ml="mdi:battery":yl<=72&&yl>44?ml="mdi:battery-medium":yl<=44&&yl>16?ml="mdi:battery-low":yl<=16&&(ml="mdi:battery-outline"),void 0!==(null===(Jt=en.battery)||void 0===Jt?void 0:Jt.icon)&&(ml=null===(Qt=en.battery)||void 0===Qt?void 0:Qt.icon);const fl={batteryGrid:this.circleRate(null!==(Xt=null!=Vn?Vn:Bn)&&void 0!==Xt?Xt:0,pl),batteryToHome:this.circleRate(null!=Kn?Kn:0,pl),gridToHome:this.circleRate(il,pl),solarToBattery:this.circleRate(null!=Zn?Zn:0,pl),solarToGrid:this.circleRate(Gn,pl),solarToHome:this.circleRate(null!=Ln?Ln:0,pl),individual1:this.circleRate(null!=Cn?Cn:0,ol),individual2:this.circleRate(null!=jn?jn:0,ol),nonFossil:this.circleRate(null!=vl?vl:0,pl)};["batteryGrid","batteryToHome","gridToHome","solarToBattery","solarToGrid","solarToHome"].forEach((t=>{const e=this[`${t}Flow`];e&&this.previousDur[t]&&this.previousDur[t]!==fl[t]&&(e.pauseAnimations(),e.setCurrentTime(e.getCurrentTime()*(fl[t]/this.previousDur[t])),e.unpauseAnimations()),this.previousDur[t]=fl[t]}));let gl=null===(te=this._config.entities.fossil_fuel_percentage)||void 0===te?void 0:te.color;void 0!==gl&&("object"==typeof gl&&(gl=on(gl)),this.style.setProperty("--non-fossil-color",gl||"var(--energy-non-fossil-color)")),this.style.setProperty("--icon-non-fossil-color",(null===(ee=this._config.entities.fossil_fuel_percentage)||void 0===ee?void 0:ee.color_icon)?"var(--non-fossil-color)":"var(--primary-text-color)");const _l=null===(ie=this._config.entities.home)||void 0===ie?void 0:ie.color_icon,bl={battery:{value:ll,color:"var(--energy-battery-out-color)"},solar:{value:al,color:"var(--energy-solar-color)"},grid:{value:hl,color:"var(--energy-grid-consumption-color)"},gridNonFossil:{value:ul,color:"var(--energy-non-fossil-color)"}},$l=Object.keys(bl).reduce(((t,e)=>bl[t].value>bl[e].value?t:e));let wl="var(--primary-text-color)";"solar"===_l?wl="var(--energy-solar-color)":"battery"===_l?wl="var(--energy-battery-out-color)":"grid"===_l?wl="var(--energy-grid-consumption-color)":!0===_l&&(wl=bl[$l].color),this.style.setProperty("--icon-home-color",wl);const xl=null===(oe=this._config.entities.home)||void 0===oe?void 0:oe.color_value;let kl="var(--primary-text-color)";"solar"===xl?kl="var(--energy-solar-color)":"battery"===xl?kl="var(--energy-battery-out-color)":"grid"===xl?kl="var(--energy-grid-consumption-color)":!0===xl&&(kl=bl[$l].color);const El=(null===(ne=en.solar)||void 0===ne?void 0:ne.icon)||(null===(le=en.solar)||void 0===le?void 0:le.use_metadata)&&(null===(re=null===(ae=this.getEntityStateObj(en.solar.entity))||void 0===ae?void 0:ae.attributes)||void 0===re?void 0:re.icon)||"mdi:solar-power",Sl=(null===(se=en.solar)||void 0===se?void 0:se.name)||(null===(de=en.solar)||void 0===de?void 0:de.use_metadata)&&(null===(ce=this.getEntityStateObj(en.solar.entity))||void 0===ce?void 0:ce.attributes.friendly_name)||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.solar"),Al=(null===(ve=en.home)||void 0===ve?void 0:ve.icon)||(null===(ue=en.home)||void 0===ue?void 0:ue.use_metadata)&&(null===(pe=null===(he=this.getEntityStateObj(en.home.entity))||void 0===he?void 0:he.attributes)||void 0===pe?void 0:pe.icon)||"mdi:home",Cl=(null===(ye=en.home)||void 0===ye?void 0:ye.name)||(null===(me=en.home)||void 0===me?void 0:me.use_metadata)&&(null===(fe=this.getEntityStateObj(en.home.entity))||void 0===fe?void 0:fe.attributes.friendly_name)||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.home"),Ml=(null===(ge=en.fossil_fuel_percentage)||void 0===ge?void 0:ge.icon)||(null===(_e=en.fossil_fuel_percentage)||void 0===_e?void 0:_e.use_metadata)&&(null===($e=null===(be=this.getEntityStateObj(en.fossil_fuel_percentage.entity))||void 0===be?void 0:be.attributes)||void 0===$e?void 0:$e.icon)||"mdi:leaf",Pl=(null===(we=en.fossil_fuel_percentage)||void 0===we?void 0:we.name)||(null===(xe=en.fossil_fuel_percentage)||void 0===xe?void 0:xe.use_metadata)&&(null===(ke=this.getEntityStateObj(en.fossil_fuel_percentage.entity))||void 0===ke?void 0:ke.attributes.friendly_name)||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.low_carbon"),Dl=this.displayValue(Cn,null===(Ee=this._config.entities.individual1)||void 0===Ee?void 0:Ee.unit_of_measurement,void 0,null===(Se=en.individual1)||void 0===Se?void 0:Se.decimals),Ol=this.displayValue(jn,null===(Ae=this._config.entities.individual2)||void 0===Ae?void 0:Ae.unit_of_measurement,void 0,null===(Ce=en.individual2)||void 0===Ce?void 0:Ce.decimals);this.style.setProperty("--text-home-color",kl),this.style.setProperty("--text-solar-color",(null===(Me=this._config.entities.solar)||void 0===Me?void 0:Me.color_value)?"var(--energy-solar-color)":"var(--primary-text-color)"),this.style.setProperty("--text-non-fossil-color",(null===(Pe=this._config.entities.fossil_fuel_percentage)||void 0===Pe?void 0:Pe.color_value)?"var(--energy-non-fossil-color)":"var(--primary-text-color)"),this.style.setProperty("--secondary-text-non-fossil-color",(null===(Oe=null===(De=this._config.entities.fossil_fuel_percentage)||void 0===De?void 0:De.secondary_info)||void 0===Oe?void 0:Oe.color_value)?"var(--energy-non-fossil-color)":"var(--primary-text-color)"),this.style.setProperty("--text-individualone-color",(null===(je=this._config.entities.individual1)||void 0===je?void 0:je.color_value)?"var(--individualone-color)":"var(--primary-text-color)"),this.style.setProperty("--text-individualtwo-color",(null===(ze=this._config.entities.individual2)||void 0===ze?void 0:ze.color_value)?"var(--individualtwo-color)":"var(--primary-text-color)"),this.style.setProperty("--secondary-text-individualone-color",(null===(Re=null===(Ne=this._config.entities.individual1)||void 0===Ne?void 0:Ne.secondary_info)||void 0===Re?void 0:Re.color_value)?"var(--individualone-color)":"var(--primary-text-color)"),this.style.setProperty("--secondary-text-individualtwo-color",(null===(He=null===(Te=this._config.entities.individual2)||void 0===Te?void 0:Te.secondary_info)||void 0===He?void 0:He.color_value)?"var(--individualtwo-color)":"var(--primary-text-color)"),this.style.setProperty("--secondary-text-solar-color",(null===(Ie=null===(Ue=this._config.entities.solar)||void 0===Ue?void 0:Ue.secondary_info)||void 0===Ie?void 0:Ie.color_value)?"var(--energy-solar-color)":"var(--primary-text-color)"),this.style.setProperty("--secondary-text-home-color",(null===(We=null===(Fe=this._config.entities.home)||void 0===Fe?void 0:Fe.secondary_info)||void 0===We?void 0:We.color_value)?"var(--text-home-color)":"var(--primary-text-color)");const jl=null===(Le=this._templateResults.gridSecondary)||void 0===Le?void 0:Le.result,zl=null===(Ve=this._templateResults.solarSecondary)||void 0===Ve?void 0:Ve.result,Nl=null===(Be=this._templateResults.homeSecondary)||void 0===Be?void 0:Be.result,Rl=null===(Ze=this._templateResults.individual1Secondary)||void 0===Ze?void 0:Ze.result,Tl=null===(Ge=this._templateResults.individual2Secondary)||void 0===Ge?void 0:Ge.result,Hl=null===(Ke=this._templateResults.nonFossilFuelSecondary)||void 0===Ke?void 0:Ke.result,Ul=(null===(Ye=this._config.entities.home)||void 0===Ye?void 0:Ye.override_state)&&this._config.entities.home.entity?(null===(qe=en.home)||void 0===qe?void 0:qe.subtract_individual)?this.displayValue(this.getEntityStateWatts(en.home.entity)-ol):this.displayValue(this.getEntityStateWatts(en.home.entity)):(null===(Je=this._config.entities.home)||void 0===Je?void 0:Je.subtract_individual)?this.displayValue(nl-ol||0):this.displayValue(nl);return L`<ha-card .header="${this._config.title}"><div class="card-content" id="card-content">${vn||rn||dn||cl?L`<div class="row">${cl?L`<div class="circle-container low-carbon"><span class="label">${Pl}</span><div class="circle" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.fossil_fuel_percentage)||void 0===e?void 0:e.entity)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.fossil_fuel_percentage)||void 0===e?void 0:e.entity))}}">${rl?L`<span class="secondary-info low-carbon" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.fossil_fuel_percentage)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.fossil_fuel_percentage)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(Xe=null===(Qe=en.fossil_fuel_percentage)||void 0===Qe?void 0:Qe.secondary_info)||void 0===Xe?void 0:Xe.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(ei=null===(ti=en.fossil_fuel_percentage)||void 0===ti?void 0:ti.secondary_info)||void 0===ei?void 0:ei.icon}"></ha-icon>`:""} ${this.displayValue(sl,null===(oi=null===(ii=en.fossil_fuel_percentage)||void 0===ii?void 0:ii.secondary_info)||void 0===oi?void 0:oi.unit_of_measurement,null===(li=null===(ni=en.fossil_fuel_percentage)||void 0===ni?void 0:ni.secondary_info)||void 0===li?void 0:li.unit_white_space)}</span>`:(null===(ri=null===(ai=en.fossil_fuel_percentage)||void 0===ai?void 0:ai.secondary_info)||void 0===ri?void 0:ri.template)?L`<span class="secondary-info low-carbon">${Hl}</span>`:""}<ha-icon .icon="${Ml}" class="low-carbon" style="${rl?"padding-top: 2px;":"padding-top: 0px;"}${!1!==(null===(si=en.fossil_fuel_percentage)||void 0===si?void 0:si.display_zero_state)||(vl||0)>((null===(di=en.fossil_fuel_percentage)||void 0===di?void 0:di.display_zero_tolerance)||0)?"padding-bottom: 2px;":"padding-bottom: 0px;"}"></ha-icon>${!1!==(null===(ci=en.fossil_fuel_percentage)||void 0===ci?void 0:ci.display_zero_state)||(vl||0)>((null===(vi=en.fossil_fuel_percentage)||void 0===vi?void 0:vi.display_zero_tolerance)||0)?L`<span class="low-carbon">${this.displayNonFossilState(en.fossil_fuel_percentage.entity,yn)}</span>`:""}</div>${this.showLine(vl||0)?L`<svg width="80" height="30"><path d="M40 -10 v40" class="low-carbon" id="low-carbon"/>${dl?V`<circle r="2.4" class="low-carbon" vector-effect="non-scaling-stroke"><animateMotion dur="${this.additionalCircleRate(null===(ui=en.fossil_fuel_percentage)||void 0===ui?void 0:ui.calculate_flow_rate,fl.nonFossil)}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#low-carbon"></animateMotion></circle>`:""}</svg>`:""}</div>`:L`<div class="spacer"></div>`} ${vn?L`<div class="circle-container solar"><span class="label">${Sl}</span><div class="circle" @click="${t=>{t.stopPropagation(),this.openDetails(en.solar.entity)}}" @keyDown="${t=>{"Enter"===t.key&&(t.stopPropagation(),this.openDetails(en.solar.entity))}}">${un?L`<span class="secondary-info solar" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.solar)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.solar)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(pi=null===(hi=en.solar)||void 0===hi?void 0:hi.secondary_info)||void 0===pi?void 0:pi.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(mi=null===(yi=en.solar)||void 0===yi?void 0:yi.secondary_info)||void 0===mi?void 0:mi.icon}"></ha-icon>`:""} ${this.displayValue(Hn,null===(gi=null===(fi=en.solar)||void 0===fi?void 0:fi.secondary_info)||void 0===gi?void 0:gi.unit_of_measurement,null===(bi=null===(_i=en.solar)||void 0===_i?void 0:_i.secondary_info)||void 0===bi?void 0:bi.unit_white_space)}</span>`:(null===(wi=null===($i=en.solar)||void 0===$i?void 0:$i.secondary_info)||void 0===wi?void 0:wi.template)?L`<span class="secondary-info solar">${zl}</span>`:""}<ha-icon id="solar-icon" .icon="${El}" style="${un?"padding-top: 2px;":"padding-top: 0px;"}${!1!==(null===(xi=en.solar)||void 0===xi?void 0:xi.display_zero_state)||(In||0)>0?"padding-bottom: 2px;":"padding-bottom: 0px;"}"></ha-icon>${!1!==(null===(ki=en.solar)||void 0===ki?void 0:ki.display_zero_state)||(In||0)>0?L`<span class="solar">${this.displayValue(In)}</span>`:""}</div></div>`:rn||dn?L`<div class="spacer"></div>`:""} ${rn?L`<div class="circle-container individual2"><span class="label">${Nn}</span><div class="circle" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.individual2)||void 0===e?void 0:e.entity)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.individual2)||void 0===e?void 0:e.entity))}}">${sn?L`<span class="secondary-info individual2" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual2)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual2)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(Si=null===(Ei=en.individual2)||void 0===Ei?void 0:Ei.secondary_info)||void 0===Si?void 0:Si.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(Ci=null===(Ai=en.individual2)||void 0===Ai?void 0:Ai.secondary_info)||void 0===Ci?void 0:Ci.icon}"></ha-icon>`:""} ${this.displayValue(zn,null===(Pi=null===(Mi=en.individual2)||void 0===Mi?void 0:Mi.secondary_info)||void 0===Pi?void 0:Pi.unit_of_measurement,null===(Oi=null===(Di=en.individual2)||void 0===Di?void 0:Di.secondary_info)||void 0===Oi?void 0:Oi.unit_white_space)}</span>`:(null===(zi=null===(ji=en.individual2)||void 0===ji?void 0:ji.secondary_info)||void 0===zi?void 0:zi.template)?L`<span class="secondary-info individual2">${Tl}</span>`:""}<ha-icon id="individual2-icon" .icon="${Rn}" style="${sn?"padding-top: 2px;":"padding-top: 0px;"}${!1!==(null===(Ni=en.individual2)||void 0===Ni?void 0:Ni.display_zero_state)||(jn||0)>0?"padding-bottom: 2px;":"padding-bottom: 0px;"}"></ha-icon>${!1!==(null===(Ri=en.individual2)||void 0===Ri?void 0:Ri.display_zero_state)||(jn||0)>0?L`<span class="individual2">${Ol}</span>`:""}</div>${this.showLine(jn||0)?L`<svg width="80" height="30"><path d="M40 -10 v50" id="individual2"/>${jn?V`<circle r="2.4" class="individual2" vector-effect="non-scaling-stroke"><animateMotion dur="${this.additionalCircleRate(null===(Ti=en.individual2)||void 0===Ti?void 0:Ti.calculate_flow_rate,fl.individual2)}s" repeatCount="indefinite" calcMode="linear" keyPoints="${(null===(Hi=en.individual2)||void 0===Hi?void 0:Hi.inverted_animation)?"0;1":"1;0"}" keyTimes="0;1"><mpath xlink:href="#individual2"></animateMotion></circle>`:""}</svg>`:""}</div>`:dn?L`<div class="circle-container individual1"><span class="label">${Pn}</span><div class="circle" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.individual1)||void 0===e?void 0:e.entity)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.individual1)||void 0===e?void 0:e.entity))}}">${cn?L`<span class="secondary-info individual1" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual1)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual1)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(Ii=null===(Ui=en.individual1)||void 0===Ui?void 0:Ui.secondary_info)||void 0===Ii?void 0:Ii.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(Wi=null===(Fi=en.individual1)||void 0===Fi?void 0:Fi.secondary_info)||void 0===Wi?void 0:Wi.icon}"></ha-icon>`:""} ${this.displayValue(Mn,null===(Vi=null===(Li=en.individual1)||void 0===Li?void 0:Li.secondary_info)||void 0===Vi?void 0:Vi.unit_of_measurement,null===(Zi=null===(Bi=en.individual1)||void 0===Bi?void 0:Bi.secondary_info)||void 0===Zi?void 0:Zi.unit_white_space)}</span>`:(null===(Ki=null===(Gi=en.individual1)||void 0===Gi?void 0:Gi.secondary_info)||void 0===Ki?void 0:Ki.template)?L`<span class="secondary-info individual1">${Rl}</span>`:""}<ha-icon id="individual1-icon" .icon="${Dn}" style="${cn?"padding-top: 2px;":"padding-top: 0px;"}${!1!==(null===(Yi=en.individual1)||void 0===Yi?void 0:Yi.display_zero_state)||(Cn||0)>0?"padding-bottom: 2px;":"padding-bottom: 0px;"}"></ha-icon>${!1!==(null===(qi=en.individual1)||void 0===qi?void 0:qi.display_zero_state)||(Cn||0)>0?L`<span class="individual1">${Dl}</span>`:""}</div>${this.showLine(Cn||0)?L`<svg width="80" height="30"><path d="M40 -10 v40" id="individual1"/>${Cn?V`<circle r="2.4" class="individual1" vector-effect="non-scaling-stroke"><animateMotion dur="${this.additionalCircleRate(null===(Ji=en.individual1)||void 0===Ji?void 0:Ji.calculate_flow_rate,fl.individual1)}s" repeatCount="indefinite" calcMode="linear" keyPoints="${(null===(Qi=en.individual1)||void 0===Qi?void 0:Qi.inverted_animation)?"0;1":"1;0"}" keyTimes="0;1"><mpath xlink:href="#individual1"></animateMotion></circle>`:""}</svg>`:L``}</div>`:L`<div class="spacer"></div>`}</div>`:L``}<div class="row">${nn?L`<div class="circle-container grid"><div class="circle" @click="${t=>{const e="string"==typeof en.grid.entity?en.grid.entity:en.grid.entity.consumption||en.grid.entity.production;t.stopPropagation(),this.openDetails(e)}}" @keyDown="${t=>{if("Enter"===t.key){const e="string"==typeof en.grid.entity?en.grid.entity:en.grid.entity.consumption||en.grid.entity.production;t.stopPropagation(),this.openDetails(e)}}}">${gn?L`<span class="secondary-info grid" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.grid)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.grid)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(to=null===(Xi=en.grid)||void 0===Xi?void 0:Xi.secondary_info)||void 0===to?void 0:to.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(io=null===(eo=en.grid)||void 0===eo?void 0:eo.secondary_info)||void 0===io?void 0:io.icon}"></ha-icon>`:""} ${this.displayValue(_n,null===(no=null===(oo=en.grid)||void 0===oo?void 0:oo.secondary_info)||void 0===no?void 0:no.unit_of_measurement,null===(ao=null===(lo=en.grid)||void 0===lo?void 0:lo.secondary_info)||void 0===ao?void 0:ao.unit_white_space)}</span>`:(null===(so=null===(ro=en.grid)||void 0===ro?void 0:ro.secondary_info)||void 0===so?void 0:so.template)?L`<span class="secondary-info grid">${jl}</span>`:""}<ha-icon .icon="${wn}"></ha-icon>${("two_way"===(null===(co=en.grid)||void 0===co?void 0:co.display_state)||void 0===(null===(vo=en.grid)||void 0===vo?void 0:vo.display_state)||"one_way"===(null===(uo=en.grid)||void 0===uo?void 0:uo.display_state)&&mn>0||"one_way_no_zero"===(null===(ho=en.grid)||void 0===ho?void 0:ho.display_state)&&(null===yn||0===yn)&&0!==mn)&&null!==mn&&!ln?L`<span class="return" @click="${t=>{const e="string"==typeof en.grid.entity?en.grid.entity:en.grid.entity.production;t.stopPropagation(),this.openDetails(e)}}" @keyDown="${t=>{if("Enter"===t.key){const e="string"==typeof en.grid.entity?en.grid.entity:en.grid.entity.production;t.stopPropagation(),this.openDetails(e)}}}"><ha-icon class="small" .icon="${"mdi:arrow-left"}"></ha-icon>${this.displayValue(mn)}</span>`:null} ${("two_way"===(null===(po=en.grid)||void 0===po?void 0:po.display_state)||void 0===(null===(yo=en.grid)||void 0===yo?void 0:yo.display_state)||"one_way"===(null===(mo=en.grid)||void 0===mo?void 0:mo.display_state)&&yn>0||"one_way_no_zero"===(null===(fo=en.grid)||void 0===fo?void 0:fo.display_state)&&(null===mn||0===mn))&&null!==yn&&!ln?L`<span class="consumption"><ha-icon class="small" .icon="${"mdi:arrow-right"}"></ha-icon>${this.displayValue(yn)}</span>`:""} ${ln?L`<span class="grid power-outage">${(null===(go=en.grid)||void 0===go?void 0:go.power_outage.label_alert)||L`Power<br>Outage`}</span>`:""}</div><span class="label">${xn}</span></div>`:L`<div class="spacer"></div>`}<div class="circle-container home"><div class="circle" id="home-circle" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.home)||void 0===e?void 0:e.entity)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.home)||void 0===e?void 0:e.entity))}}">${hn?L`<span class="secondary-info home" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.home)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.home)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(bo=null===(_o=en.home)||void 0===_o?void 0:_o.secondary_info)||void 0===bo?void 0:bo.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(wo=null===($o=en.home)||void 0===$o?void 0:$o.secondary_info)||void 0===wo?void 0:wo.icon}"></ha-icon>`:""} ${this.displayValue(Un,null===(ko=null===(xo=en.home)||void 0===xo?void 0:xo.secondary_info)||void 0===ko?void 0:ko.unit_of_measurement,null===(So=null===(Eo=en.home)||void 0===Eo?void 0:Eo.secondary_info)||void 0===So?void 0:So.unit_white_space)}</span>`:(null===(Co=null===(Ao=en.home)||void 0===Ao?void 0:Ao.secondary_info)||void 0===Co?void 0:Co.template)?L`<span class="secondary-info home">${Nl}</span>`:""}<ha-icon .icon="${Al}"></ha-icon>${Ul} <svg>${void 0!==al?V`<circle class="solar" cx="40" cy="40" r="38" stroke-dasharray="${al} ${kt-al}" shape-rendering="geometricPrecision" stroke-dashoffset="-${kt-al}">`:""} ${ll?V`<circle class="battery" cx="40" cy="40" r="38" stroke-dasharray="${ll} ${kt-ll}" stroke-dashoffset="-${kt-ll-(al||0)}" shape-rendering="geometricPrecision">`:""} ${void 0!==ul?V`<circle class="low-carbon" cx="40" cy="40" r="38" stroke-dasharray="${ul} ${kt-ul}" stroke-dashoffset="-${kt-ul-(ll||0)-(al||0)}" shape-rendering="geometricPrecision">`:""}<circle class="grid" cx="40" cy="40" r="38" stroke-dasharray="${null!=hl?hl:kt-al-(ll||0)} ${void 0!==hl?kt-hl:al+(ll||0)}" stroke-dashoffset="0" shape-rendering="geometricPrecision"/></svg></div>${this.showLine(Cn||0)&&rn?"":L`<span class="label">${Cl}</span>`}</div></div>${an||dn&&rn?L`<div class="row"><div class="spacer"></div>${an?L`<div class="circle-container battery"><div class="circle" @click="${t=>{var e,i,o,n,l;const a=(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge)?null===(i=en.battery)||void 0===i?void 0:i.state_of_charge:"string"==typeof(null===(o=en.battery)||void 0===o?void 0:o.entity)?null===(n=en.battery)||void 0===n?void 0:n.entity:null===(l=en.battery)||void 0===l?void 0:l.entity.production;t.stopPropagation(),this.openDetails(a)}}" @keyDown="${t=>{var e,i;if("Enter"===t.key){const o=(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge)?null===(i=en.battery)||void 0===i?void 0:i.state_of_charge:"string"==typeof en.battery.entity?en.battery.entity:en.battery.entity.production;t.stopPropagation(),this.openDetails(o)}}}">${null!==yl?L`<span @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge))}}" id="battery-state-of-charge-text">${n(yl,this.hass.locale,{maximumFractionDigits:0,minimumFractionDigits:0})}${!1===(null===(Po=null===(Mo=this._config.entities)||void 0===Mo?void 0:Mo.battery)||void 0===Po?void 0:Po.state_of_charge_unit_white_space)?"":" "}%</span>`:null}<ha-icon .icon="${ml}" style="${"two_way"===(null===(Do=en.battery)||void 0===Do?void 0:Do.display_state)?"padding-top: 0px; padding-bottom: 2px;":"one_way"===(null===(Oo=en.battery)||void 0===Oo?void 0:Oo.display_state)&&0===Fn&&0===Wn?"padding-top: 2px; padding-bottom: 0px;":"padding-top: 2px; padding-bottom: 2px;"}" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.battery)||void 0===e?void 0:e.state_of_charge))}}"></ha-icon>${"two_way"===(null===(jo=en.battery)||void 0===jo?void 0:jo.display_state)||void 0===(null===(zo=en.battery)||void 0===zo?void 0:zo.display_state)||"one_way"===(null===(No=en.battery)||void 0===No?void 0:No.display_state)&&Fn>0||"one_way_no_zero"===(null===(Ro=en.battery)||void 0===Ro?void 0:Ro.display_state)&&0!==Fn?L`<span class="battery-in" @click="${t=>{const e="string"==typeof en.battery.entity?en.battery.entity:en.battery.entity.production;t.stopPropagation(),this.openDetails(e)}}" @keyDown="${t=>{if("Enter"===t.key){const e="string"==typeof en.battery.entity?en.battery.entity:en.battery.entity.production;t.stopPropagation(),this.openDetails(e)}}}"><ha-icon class="small" .icon="${"mdi:arrow-down"}"></ha-icon>${this.displayValue(Fn)}</span>`:""} ${"two_way"===(null===(To=en.battery)||void 0===To?void 0:To.display_state)||void 0===(null===(Ho=en.battery)||void 0===Ho?void 0:Ho.display_state)||"one_way"===(null===(Uo=en.battery)||void 0===Uo?void 0:Uo.display_state)&&Wn>0||"one_way_no_zero"===(null===(Io=en.battery)||void 0===Io?void 0:Io.display_state)&&(0===Fn||0!==Wn)?L`<span class="battery-out" @click="${t=>{const e="string"==typeof en.battery.entity?en.battery.entity:en.battery.entity.consumption;t.stopPropagation(),this.openDetails(e)}}" @keyDown="${t=>{if("Enter"===t.key){const e="string"==typeof en.battery.entity?en.battery.entity:en.battery.entity.consumption;t.stopPropagation(),this.openDetails(e)}}}"><ha-icon class="small" .icon="${"mdi:arrow-up"}"></ha-icon>${this.displayValue(Wn)}</span>`:""}</div><span class="label">${Qn}</span></div>`:L`<div class="spacer"></div>`} ${rn&&dn?L`<div class="circle-container individual1 bottom">${this.showLine(Cn||0)?L`<svg width="80" height="30"><path d="M40 40 v-40" id="individual1"/>${Cn?V`<circle r="2.4" class="individual1" vector-effect="non-scaling-stroke"><animateMotion dur="${this.additionalCircleRate(null===(Fo=en.individual1)||void 0===Fo?void 0:Fo.calculate_flow_rate,fl.individual1)}s" repeatCount="indefinite" calcMode="linear" keyPoints="${(null===(Wo=en.individual1)||void 0===Wo?void 0:Wo.inverted_animation)?"0;1":"1;0"}" keyTimes="0;1"><mpath xlink:href="#individual1"></animateMotion></circle>`:""}</svg>`:L`<svg width="80" height="30"></svg>`}<div class="circle" @click="${t=>{var e;t.stopPropagation(),this.openDetails(null===(e=en.individual1)||void 0===e?void 0:e.entity)}}" @keyDown="${t=>{var e;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(e=en.individual1)||void 0===e?void 0:e.entity))}}">${cn?L`<span class="secondary-info individual1" @click="${t=>{var e,i;t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual1)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity)}}" @keyDown="${t=>{var e,i;"Enter"===t.key&&(t.stopPropagation(),this.openDetails(null===(i=null===(e=en.individual1)||void 0===e?void 0:e.secondary_info)||void 0===i?void 0:i.entity))}}">${(null===(Vo=null===(Lo=en.individual1)||void 0===Lo?void 0:Lo.secondary_info)||void 0===Vo?void 0:Vo.icon)?L`<ha-icon class="secondary-info small" .icon="${null===(Zo=null===(Bo=en.individual1)||void 0===Bo?void 0:Bo.secondary_info)||void 0===Zo?void 0:Zo.icon}"></ha-icon>`:""} ${this.displayValue(Mn,null===(Ko=null===(Go=en.individual1)||void 0===Go?void 0:Go.secondary_info)||void 0===Ko?void 0:Ko.unit_of_measurement,null===(qo=null===(Yo=en.individual1)||void 0===Yo?void 0:Yo.secondary_info)||void 0===qo?void 0:qo.unit_white_space)}</span>`:(null===(Qo=null===(Jo=en.individual1)||void 0===Jo?void 0:Jo.secondary_info)||void 0===Qo?void 0:Qo.template)?L`<span class="secondary-info individual1">${Rl}</span>`:""}<ha-icon id="individual1-icon" .icon="${Dn}" style="${cn?"padding-top: 2px;":"padding-top: 0px;"}${!1!==(null===(Xo=en.individual1)||void 0===Xo?void 0:Xo.display_zero_state)||(Cn||0)>0?"padding-bottom: 2px;":"padding-bottom: 0px;"}"></ha-icon>${!1!==(null===(tn=en.individual1)||void 0===tn?void 0:tn.display_zero_state)||(Cn||0)>0?L`<span class="individual1">${Dl}</span>`:""}</div><span class="label">${Pn}</span></div>`:L`<div class="spacer"></div>`}</div>`:L`<div class="spacer"></div>`} ${vn&&this.showLine(Ln||0)?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="solar-home-flow"><path id="solar" class="solar" d="M${an?55:53},0 v${nn?15:17} c0,${an?"30 10,30 30,30":"35 10,35 30,35"} h25" vector-effect="non-scaling-stroke"></path>${Ln?V`<circle r="1" class="solar" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.solarToHome}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#solar"></animateMotion></circle>`:""}</svg></div>`:""} ${pn&&vn&&this.showLine(Gn)?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="solar-grid-flow"><path id="return" class="return" d="M${an?45:47},0 v15 c0,${an?"30 -10,30 -30,30":"35 -10,35 -30,35"} h-20" vector-effect="non-scaling-stroke"></path>${Gn&&vn?V`<circle r="1" class="return" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.solarToGrid}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#return"></animateMotion></circle>`:""}</svg></div>`:""} ${an&&vn&&this.showLine(Zn||0)?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="solar-battery-flow" class="flat-line"><path id="battery-solar" class="battery-solar" d="M50,0 V100" vector-effect="non-scaling-stroke"></path>${Zn?V`<circle r="1" class="battery-solar" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.solarToBattery}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#battery-solar"></animateMotion></circle>`:""}</svg></div>`:""} ${nn&&this.showLine(il)?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="grid-home-flow" class="flat-line"><path class="grid" id="grid" d="M0,${an?50:vn?56:53} H100" vector-effect="non-scaling-stroke"></path>${il?V`<circle r="1" class="grid" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.gridToHome}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#grid"></animateMotion></circle>`:""}</svg></div>`:null} ${an&&this.showLine(Kn)?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="battery-home-flow"><path id="battery-home" class="battery-home" d="M55,100 v-${nn?15:17} c0,-30 10,-30 30,-30 h20" vector-effect="non-scaling-stroke"></path>${Kn?V`<circle r="1" class="battery-home" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.batteryToHome}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#battery-home"></animateMotion></circle>`:""}</svg></div>`:""} ${nn&&an&&this.showLine(Math.max(Vn||0,Bn||0))?L`<div class="lines ${ft({high:an,"individual1-individual2":!an&&rn&&dn})}"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" id="battery-grid-flow"><path id="battery-grid" class="${ft({"battery-from-grid":Boolean(Vn),"battery-to-grid":Boolean(Bn)})}" d="M45,100 v-15 c0,-30 -10,-30 -30,-30 h-20" vector-effect="non-scaling-stroke"></path>${Vn?V`<circle r="1" class="battery-from-grid" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.batteryGrid}s" repeatCount="indefinite" keyPoints="1;0" keyTimes="0;1" calcMode="linear"><mpath xlink:href="#battery-grid"></animateMotion></circle>`:""} ${Bn?V`<circle r="1" class="battery-to-grid" vector-effect="non-scaling-stroke"><animateMotion dur="${fl.batteryGrid}s" repeatCount="indefinite" calcMode="linear"><mpath xlink:href="#battery-grid"></animateMotion></circle>`:""}</svg></div>`:""}</div>${this._config.dashboard_link?L`<div class="card-actions"><a href="${this._config.dashboard_link}"><mwc-button>${this._config.dashboard_link_label||this.hass.localize("ui.panel.lovelace.cards.energy.energy_distribution.go_to_energy_dashboard")}</mwc-button></a></div>`:""}</ha-card>`}updated(t){super.updated(t),this._config&&this.hass&&this._tryConnectAll()}_tryConnectAll(){var t,e,i,o,n,l,a,r,s,d,c,v;const{entities:u}=this._config,h={gridSecondary:null===(e=null===(t=u.grid)||void 0===t?void 0:t.secondary_info)||void 0===e?void 0:e.template,solarSecondary:null===(o=null===(i=u.solar)||void 0===i?void 0:i.secondary_info)||void 0===o?void 0:o.template,homeSecondary:null===(l=null===(n=u.home)||void 0===n?void 0:n.secondary_info)||void 0===l?void 0:l.template,individual1Secondary:null===(r=null===(a=u.individual1)||void 0===a?void 0:a.secondary_info)||void 0===r?void 0:r.template,individual2Secondary:null===(d=null===(s=u.individual2)||void 0===s?void 0:s.secondary_info)||void 0===d?void 0:d.template,nonFossilFuelSecondary:null===(v=null===(c=u.fossil_fuel_percentage)||void 0===c?void 0:c.secondary_info)||void 0===v?void 0:v.template};for(const[t,e]of Object.entries(h))e&&this._tryConnect(e,t)}async _tryConnect(t,e){var i,o,n,l,a,r;if(this.hass&&this._config&&void 0===(null===(i=this._unsubRenderTemplates)||void 0===i?void 0:i.get(e))&&""!==t)try{const i=(l=this.hass.connection,a=t=>{this._templateResults[e]=t},r={template:t,entity_ids:this._config.entity_id,variables:{config:this._config,user:this.hass.user.name},strict:!0},l.subscribeMessage((t=>a(t)),Object.assign({type:"render_template"},r)));null===(o=this._unsubRenderTemplates)||void 0===o||o.set(e,i),await i}catch(i){this._templateResults=Object.assign(Object.assign({},this._templateResults),{[e]:{result:t,listeners:{all:!1,domains:[],entities:[],time:!1}}}),null===(n=this._unsubRenderTemplates)||void 0===n||n.delete(e)}}async _tryDisconnectAll(){var t,e,i,o,n,l,a,r,s,d;const{entities:c}=this._config,v={gridSecondary:null===(e=null===(t=c.grid)||void 0===t?void 0:t.secondary_info)||void 0===e?void 0:e.template,solarSecondary:null===(o=null===(i=c.solar)||void 0===i?void 0:i.secondary_info)||void 0===o?void 0:o.template,homeSecondary:null===(l=null===(n=c.home)||void 0===n?void 0:n.secondary_info)||void 0===l?void 0:l.template,individual1Secondary:null===(r=null===(a=c.individual1)||void 0===a?void 0:a.secondary_info)||void 0===r?void 0:r.template,individual2Secondary:null===(d=null===(s=c.individual2)||void 0===s?void 0:s.secondary_info)||void 0===d?void 0:d.template};for(const[t,e]of Object.entries(v))e&&this._tryDisconnect(t)}async _tryDisconnect(t){var e,i;const o=null===(e=this._unsubRenderTemplates)||void 0===e?void 0:e.get(t);if(o)try{(await o)(),null===(i=this._unsubRenderTemplates)||void 0===i||i.delete(t)}catch(t){if("not_found"!==t.code&&"template_error"!==t.code)throw t}}};Et.styles=xt,t([ut({attribute:!1})],Et.prototype,"hass",void 0),t([ht()],Et.prototype,"_config",void 0),t([ht()],Et.prototype,"_templateResults",void 0),t([ht()],Et.prototype,"_unsubRenderTemplate",void 0),t([ht()],Et.prototype,"_unsubRenderTemplates",void 0),t([pt("#battery-grid-flow")],Et.prototype,"batteryGridFlow",void 0),t([pt("#battery-home-flow")],Et.prototype,"batteryToHomeFlow",void 0),t([pt("#grid-home-flow")],Et.prototype,"gridToHomeFlow",void 0),t([pt("#solar-battery-flow")],Et.prototype,"solarToBatteryFlow",void 0),t([pt("#solar-grid-flow")],Et.prototype,"solarToGridFlow",void 0),t([pt("#solar-home-flow")],Et.prototype,"solarToHomeFlow",void 0),Et=t([ct("power-flow-card-plus")],Et);class St extends TypeError{constructor(t,e){let i;const{message:o,explanation:n,...l}=t,{path:a}=t,r=0===a.length?o:`At path: ${a.join(".")} -- ${o}`;super(n??r),null!=n&&(this.cause=r),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...e()])}}function At(t){return"object"==typeof t&&null!=t}function Ct(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function Mt(t,e,i,o){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:n,branch:l}=e,{type:a}=i,{refinement:r,message:s=`Expected a value of type \`${a}\`${r?` with refinement \`${r}\``:""}, but received: \`${Ct(o)}\``}=t;return{value:o,type:a,refinement:r,key:n[n.length-1],path:n,branch:l,...t,message:s}}function*Pt(t,e,i,o){(function(t){return At(t)&&"function"==typeof t[Symbol.iterator]})(t)||(t=[t]);for(const n of t){const t=Mt(n,e,i,o);t&&(yield t)}}function*Dt(t,e,i={}){const{path:o=[],branch:n=[t],coerce:l=!1,mask:a=!1}=i,r={path:o,branch:n};if(l&&(t=e.coercer(t,r),a&&"type"!==e.type&&At(e.schema)&&At(t)&&!Array.isArray(t)))for(const i in t)void 0===e.schema[i]&&delete t[i];let s="valid";for(const o of e.validator(t,r))o.explanation=i.message,s="not_valid",yield[o,void 0];for(let[d,c,v]of e.entries(t,r)){const e=Dt(c,v,{path:void 0===d?o:[...o,d],branch:void 0===d?n:[...n,c],coerce:l,mask:a,message:i.message});for(const i of e)i[0]?(s=null!=i[0].refinement?"not_refined":"not_valid",yield[i[0],void 0]):l&&(c=i[1],void 0===d?t=c:t instanceof Map?t.set(d,c):t instanceof Set?t.add(c):At(t)&&(void 0!==c||d in t)&&(t[d]=c))}if("not_valid"!==s)for(const o of e.refiner(t,r))o.explanation=i.message,s="not_refined",yield[o,void 0];"valid"===s&&(yield[void 0,t])}class Ot{constructor(t){const{type:e,schema:i,validator:o,refiner:n,coercer:l=(t=>t),entries:a=function*(){}}=t;this.type=e,this.schema=i,this.entries=a,this.coercer=l,this.validator=o?(t,e)=>Pt(o(t,e),e,this,t):()=>[],this.refiner=n?(t,e)=>Pt(n(t,e),e,this,t):()=>[]}assert(t,e){return jt(t,this,e)}create(t,e){return function(t,e,i){const o=zt(t,e,{coerce:!0,message:i});if(o[0])throw o[0];return o[1]}(t,this,e)}is(t){return function(t,e){return!zt(t,e)[0]}(t,this)}mask(t,e){return function(t,e,i){const o=zt(t,e,{coerce:!0,mask:!0,message:i});if(o[0])throw o[0];return o[1]}(t,this,e)}validate(t,e={}){return zt(t,this,e)}}function jt(t,e,i){const o=zt(t,e,{message:i});if(o[0])throw o[0]}function zt(t,e,i={}){const o=Dt(t,e,i),n=function(t){const{done:e,value:i}=t.next();return e?void 0:i}(o);if(n[0]){return[new St(n[0],(function*(){for(const t of o)t[0]&&(yield t[0])})),void 0]}return[void 0,n[1]]}function Nt(t,e){return new Ot({type:t,schema:null,validator:e})}function Rt(){return Nt("any",(()=>!0))}function Tt(){return Nt("boolean",(t=>"boolean"==typeof t))}function Ht(){return Nt("integer",(t=>"number"==typeof t&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Ct(t)}`))}function Ut(){return Nt("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${Ct(t)}`))}function It(t){const e=t?Object.keys(t):[],i=Nt("never",(()=>!1));return new Ot({type:"object",schema:t||null,*entries(o){if(t&&At(o)){const n=new Set(Object.keys(o));for(const i of e)n.delete(i),yield[i,o[i],t[i]];for(const t of n)yield[t,o[t],i]}},validator:t=>At(t)||`Expected an object, but received: ${Ct(t)}`,coercer:t=>At(t)?{...t}:t})}function Ft(t){return new Ot({...t,validator:(e,i)=>void 0===e||t.validator(e,i),refiner:(e,i)=>void 0===e||t.refiner(e,i)})}function Wt(){return Nt("string",(t=>"string"==typeof t||`Expected a string, but received: ${Ct(t)}`))}function Lt(t){return{type:"expandable",title:`Combined ${t||"Grid"} Entity (positive & negative values)`,schema:[{name:"entity",selector:{entity:{}}}]}}function Vt(t){return{type:"expandable",title:`Separated ${t||"Grid"} Entities (One for production, one for consumption)`,name:"entity",schema:[{name:"consumption",label:"Consumption Entity",selector:{entity:{}}},{name:"production",label:"Production Entity",selector:{entity:{}}}]}}const Bt={name:"color",title:"Custom Colors",type:"expandable",schema:[{type:"grid",column_min_width:"200px",schema:[{name:"consumption",label:"Consumption",selector:{color_rgb:{}}},{name:"production",label:"Production",selector:{color_rgb:{}}}]}]},Zt=[{name:"entity",selector:{entity:{}}},{name:"template",label:"Template (overrides entity, save to update)",selector:{template:{}}},{type:"grid",column_min_width:"200px",schema:[{name:"icon",selector:{icon:{}}},{name:"unit_of_measurement",label:"Unit of Measurement",selector:{text:{}}},{name:"color_value",label:"Color Value",selector:{boolean:{}}},{name:"unit_white_space",label:"Unit White Space",selector:{boolean:{}}},{name:"display_zero",label:"Display Zero",selector:{boolean:{}}},{name:"display_zero_tolerance",label:"Display Zero Tolerance",selector:{number:{mode:"box",min:0,max:1e6,step:.1}}}]}],Gt=[{name:"color_icon",label:"Color of Icon",selector:{select:{options:[{value:!1,label:"Do not Color"},{value:!0,label:"Color dynamically"},{value:"production",label:"Production"},{value:"consumption",label:"Consumption"}],custom_value:!0}}},{name:"color_circle",label:"Color of Circle",selector:{select:{options:[{value:!0,label:"Color dynamically"},{value:!1,label:"Consumption"},{value:"production",label:"Production"}],custom_value:!0}}},{name:"display_zero_tolerance",label:"Display Zero Tolerance",selector:{number:{min:0,max:1e6,step:1,mode:"box"}}},{name:"display_state",label:"Display State",selector:{select:{options:[{value:"two_way",label:"Two Way"},{value:"one_way",label:"One Way"},{value:"one_way_no_zero",label:"One Way (Show Zero)"}],custom_value:!0}}}];function Kt(t){const e={type:"grid",column_min_width:"200px",schema:[{name:"name",selector:{text:{}}},{name:"icon",selector:{icon:{}}}]};return"battery"!==t&&"grid"!==t||e.schema.push(...Gt),e}const Yt=Object.assign(Object.assign({},Kt("grid")),{schema:[...Kt("grid").schema,{name:"invert_state",label:"Invert State",selector:{boolean:{}}}]}),qt=[Lt(),Vt(),Yt,Bt,{title:"Secondary Info",name:"secondary_info",type:"expandable",schema:Zt},{title:"Power Outage",name:"power_outage",type:"expandable",schema:[{name:"entity",selector:{entity:{}}},{type:"grid",column_min_width:"200px",schema:[{name:"label_alert",label:"Outage Label",selector:{text:{}}},{name:"icon_alert",label:"Outage Icon",selector:{icon:{}}},{name:"state_alert",label:"Outage State",selector:{text:{}}}]}]}],Jt=Object.assign(Object.assign({},Kt("battery")),{schema:[...Kt("battery").schema,{name:"color_state_of_charge_value",label:"Color State of Charge Value",selector:{select:{options:[{value:!1,label:"Do Not Color"},{value:!0,label:"Color dynamically"},{value:"consumption",label:"Consumption"},{value:"production",label:"Production"}],custom_value:!0}}},{name:"invert_state",label:"Invert State",selector:{boolean:{}}}]}),Qt=[Lt("battery"),Vt("battery"),{name:"state_of_charge",label:"State of Charge Entity",selector:{entity:{}}},Jt,Bt],Xt=[{name:"entity",selector:{entity:{}}},Object.assign(Object.assign({},Kt()),{schema:[...Kt().schema,{name:"color_value",label:"Color Value",selector:{boolean:{}}},{name:"color_icon",label:"Color Icon",selector:{boolean:{}}},{name:"display_zero_state",label:"Display State When Zero?",selector:{boolean:{}}},{name:"display_zero_tolerance",label:"Display Zero Tolerance",selector:{number:{mode:"box",min:0,max:1e6,step:.1}}}]}),{name:"color",label:"Color",selector:{color_rgb:{}}},{title:"Secondary Info",name:"secondary_info",type:"expandable",schema:Zt}],te=[{name:"entity",selector:{entity:{}}},Object.assign(Object.assign({},Kt()),{schema:[...Kt().schema,{name:"color_value",label:"Color Value",selector:{boolean:{}}},{name:"color_icon",label:"Color Icon",selector:{boolean:{}}},{name:"unit_of_measurement",label:"Unit of Measurement",selector:{text:{}}},{name:"display_zero",label:"Display Zero",selector:{boolean:{}}},{name:"inverted_animation",label:"Invert Animation",selector:{boolean:{}}},{name:"display_zero_tolerance",label:"Display Zero Tolerance",selector:{number:{mode:"box",min:0,max:1e6,step:.1}}},{name:"display_zero_state",label:"Display Zero State",selector:{boolean:{}}},{name:"decimals",label:"Decimals",selector:{number:{mode:"box",min:0,max:4,step:1}}}]}),{name:"color",label:"Color",selector:{color_rgb:{}}},{title:"Secondary Info",name:"secondary_info",type:"expandable",schema:Zt}],ee=[{name:"entity",selector:{entity:{}}},Object.assign(Object.assign({},Kt()),{schema:[...Kt().schema,{name:"state_type",label:"State Type",selector:{select:{options:[{value:"power",label:"Power"},{value:"percentage",label:"Percentage"}],custom_value:!0}}},{name:"color_value",label:"Color Value",selector:{boolean:{}}},{name:"color_icon",label:"Color Icon",selector:{boolean:{}}},{name:"display_zero",label:"Display Zero",selector:{boolean:{}}},{name:"display_zero_tolerance",label:"Display Zero Tolerance",selector:{number:{mode:"box",min:0,max:1e6,step:.1}}},{name:"display_zero_state",label:"Display Zero State",selector:{boolean:{}}},{name:"unit_white_space",label:"Unit White Space",selector:{boolean:{}}}]}),{name:"color",label:"Color",selector:{color_rgb:{}}},{title:"Secondary Info",name:"secondary_info",type:"expandable",schema:Zt}],ie=[{name:"entity",selector:{entity:{}}},Object.assign(Object.assign({},Kt()),{schema:[...Kt().schema,{name:"color_value",label:"Color Value",selector:{select:{options:[{value:!0,label:"Color dynamically"},{value:!1,label:"Do Not Color"},{value:"solar",label:"Solar"},{value:"grid",label:"Grid"},{value:"battery",label:"Battery"}],custom_value:!0}}},{name:"color_icon",label:"Color Icon",selector:{select:{options:[{value:!0,label:"Color dynamically"},{value:!1,label:"Do Not Color"},{value:"solar",label:"Solar"},{value:"grid",label:"Grid"},{value:"battery",label:"Battery"}],custom_value:!0}}},{name:"subtract_individual",label:"Subtract Individual",selector:{boolean:{}}},{name:"override_state",label:"Override State (With Home Entity)",selector:{boolean:{}}}]}),{title:"Secondary Info",name:"secondary_info",type:"expandable",schema:Zt}],oe=function(...t){const e="type"===t[0].type,i=t.map((t=>t.schema)),o=Object.assign({},...i);return e?function(t){const e=Object.keys(t);return new Ot({type:"type",schema:t,*entries(i){if(At(i))for(const o of e)yield[o,i[o],t[o]]},validator:t=>At(t)||`Expected an object, but received: ${Ct(t)}`,coercer:t=>At(t)?{...t}:t})}(o):It(o)}(It({type:Wt(),view_layout:Rt()}),It({title:Ft(Wt()),theme:Ft(Wt()),dashboard_link:Ft(Wt()),dashboard_link_label:Ft(Wt()),inverted_entities:Ft(Rt()),w_decimals:Ft(Ht()),kw_decimals:Ft(Ht()),min_flow_rate:Ft(Ut()),max_flow_rate:Ft(Ut()),min_expected_power:Ft(Ut()),max_expected_power:Ft(Ut()),watt_threshold:Ft(Ut()),clickable_entities:Ft(Tt()),display_zero_lines:Ft(Tt()),use_new_flow_rate_model:Ft(Tt()),entities:It({battery:Ft(Rt()),grid:Ft(Rt()),solar:Ft(Rt()),home:Ft(Rt()),fossil_fuel_percentage:Ft(Rt()),individual1:Ft(Rt()),individual2:Ft(Rt())})})),ne=[{name:"title",label:"Title",selector:{text:{}}}],le=[{name:"entities",type:"grid",column_min_width:"400px",schema:[{title:"Grid",name:"grid",type:"expandable",schema:qt},{title:"Solar",name:"solar",type:"expandable",schema:Xt},{title:"Battery",name:"battery",type:"expandable",schema:Qt},{title:"Non-Fossil",name:"fossil_fuel_percentage",type:"expandable",schema:ee},{title:"Home",name:"home",type:"expandable",schema:ie},{title:"Individual 1",name:"individual1",type:"expandable",schema:te},{title:"Individual 2",name:"individual2",type:"expandable",schema:te}]}],ae=[{title:"Advanced Options",type:"expandable",schema:[{type:"grid",column_min_width:"200px",schema:[{name:"dashboard_link",label:"Dashboard Link",selector:{navigation:{}}},{name:"dashboard_link_label",label:"Dashboard Link Label",selector:{text:{}}},{name:"w_decimals",label:"Watt Decimals",selector:{number:{mode:"box",min:0,max:5,step:1}}},{name:"kw_decimals",label:"kW Decimals",selector:{number:{mode:"box",min:0,max:5,step:1}}},{name:"max_flow_rate",label:"Max Flow Rate (Sec/Dot)",selector:{number:{mode:"box",min:0,max:1e6,step:.01}}},{name:"min_flow_rate",label:"Min Flow Rate (Sec/Dot)",selector:{number:{mode:"box",min:0,max:1e6,step:.01}}},{name:"max_expected_power",label:"Max Expected Power (in Watts)",selector:{number:{mode:"box",min:0,max:1e6,step:.01}}},{name:"min_expected_power",label:"Min Expected Power (in Watts)",selector:{number:{mode:"box",min:0,max:1e6,step:.01}}},{name:"watt_threshold",label:"Watt to Kilowatt Threshold",selector:{number:{mode:"box",min:0,max:1e6,step:1}}},{name:"display_zero_lines",label:"Display Zero Lines",selector:{boolean:{}}},{name:"clickable_entities",label:"Clickable Entities",selector:{boolean:{}}},{name:"use_new_flow_rate_model",label:"New Flow Model?",selector:{boolean:{}}}]}]}],re=async()=>{var t,e;if(customElements.get("ha-form"))return;const i=await(null===(e=(t=window).loadCardHelpers)||void 0===e?void 0:e.call(t));if(!i)return;const o=await i.createCardElement({type:"entity"});o&&await o.getConfigElement()};let se=class extends st{constructor(){super(...arguments),this.showOther=!1,this._computeLabelCallback=t=>(null==t?void 0:t.label)||this.hass.localize(`ui.panel.lovelace.editor.card.generic.${null==t?void 0:t.name}`||(null==t?void 0:t.name)||"")}async setConfig(t){jt(t,oe),this._config=t}connectedCallback(){super.connectedCallback(),re()}render(){if(!this.hass||!this._config)return Z;const t=Object.assign({},this._config);return L`<div class="card-config"><ha-form .hass="${this.hass}" .data="${t}" .schema="${ne}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form><div style="height:24px"></div><ha-form .hass="${this.hass}" .data="${t}" .schema="${le}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}" class="entities-section"></ha-form><div style="height:24px"></div><ha-form .hass="${this.hass}" .data="${t}" .schema="${ae}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form></div>`}_valueChanged(t){const e=t.detail.value||"";this._config&&this.hass&&function(t,e,i,o){o=o||{},i=null==i?{}:i;var n=new Event("config-changed",{bubbles:void 0===o.bubbles||o.bubbles,cancelable:Boolean(o.cancelable),composed:void 0===o.composed||o.composed});n.detail=i,t.dispatchEvent(n)}(this,0,{config:e})}static get styles(){return v`ha-form{width:100%}ha-icon-button{align-self:center}.entities-section *{background-color:red}.card-config{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin-bottom:10px}.config-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.config-header.sub-header{margin-top:24px}ha-icon{padding-bottom:2px;position:relative;top:-4px;right:1px}`}};t([ut({attribute:!1})],se.prototype,"hass",void 0),t([ht()],se.prototype,"_config",void 0),t([ht()],se.prototype,"showOther",void 0),se=t([ct("power-flow-card-plus-editor")],se);var de=Object.freeze({__proto__:null,loadHaForm:re,get PowerFlowCardPlusEditor(){return se}});export{Et as PowerFlowCardPlus};
