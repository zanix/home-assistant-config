---
# The template platform supports sensors which get their values from other
# entities.
#
# https://www.home-assistant.io/integrations/ecobee/
# https://www.home-assistant.io/integrations/climate/
# https://www.home-assistant.io/integrations/template/
#
platform: template
sensors:
  occupancy_emma:
    friendly_name: "Emma's Room Occupancy"
    entity_id: binary_sensor.emma_occupancy
    availability_template: "{{ true if not is_state('binary_sensor.emma_occupancy', 'unavailable') else false }}"
    value_template: >-
      {%- if is_state("binary_sensor.emma_occupancy", "on") -%}
        Occupied
      {%- else -%}
        Clear
      {%- endif %}
    icon_template: >-
      {%- if is_state("binary_sensor.emma_occupancy", "on") -%}
        mdi:account
      {%- else -%}
        mdi:account-off
      {%- endif %}
