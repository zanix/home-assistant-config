---
# The template platform supports sensors which get their values from other
# entities.
#
# https://www.home-assistant.io/integrations/ecobee/
# https://www.home-assistant.io/integrations/climate/
# https://www.home-assistant.io/integrations/template/
#
platform: template
sensors:
  house_thermostat_away_mode:
    friendly_name: Ecobee Away Mode
    entity_id: climate.home
    availability_template: "{{ true if not is_state('climate.home', 'unavailable') else false }}"
    value_template: >-
      {%- if is_state_attr('climate.home', 'away_mode', 'on') -%}
        Away
      {%- else -%}
        Home
      {%- endif %}
    icon_template: >-
      {%- if is_state_attr('climate.home', 'away_mode', 'on') -%}
        mdi:walk
      {%- else %}
        mdi:home
      {%- endif %}
