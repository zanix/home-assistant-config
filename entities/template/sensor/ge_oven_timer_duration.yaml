---
# The template platform supports sensors which get their values from other
# entities.
#
# https://www.home-assistant.io/integrations/template/
#
trigger:
  - platform: state
    entity_id:
      - sensor.ge_oven_kitchen_timer
    not_to:
      - unavailable
      - unknown
    not_from:
      - unavailable
      - unknown
sensor:
  - name: GE Oven Timer Duration
    state: >
      {% if trigger.from_state.state == "off" and trigger.to_state.state != "off" %}
        {{ trigger.to_state.state }}
      {% elif trigger.to_state.state == "off"  %}
        Off
      {% endif %}
