---
# The template platform supports sensors which get their values from other
# entities.
#
# https://www.home-assistant.io/integrations/template/
#
sensor:
  - name: Family Room Shield Source
    availability: "{{ not states('media_player.family_room_shield') in ['unknown', 'unavailable'] }}"
    state: "{{ state_attr('media_player.family_room_shield', 'source') | default('off', true) }}"
    icon: mdi:import

  - name: Living Room Shield Source
    availability: "{{ not states('media_player.living_room_shield') in ['unknown', 'unavailable'] }}"
    state: "{{ state_attr('media_player.living_room_shield', 'source') | default('off', true) }}"
    icon: mdi:import

  - name: Master Bedroom Shield Source
    availability: "{{ not states('media_player.master_bedroom_shield') in ['unknown', 'unavailable'] }}"
    state: "{{ state_attr('media_player.master_bedroom_shield', 'source') | default('off', true) }}"
    icon: mdi:import

  - name: Family Room Denon Source
    availability: "{{ not states('media_player.denon_avr_s760h') in ['unknown', 'unavailable'] }}"
    state: "{{ state_attr('media_player.denon_avr_s760h', 'source') | default('off', true) }}"
    icon: mdi:import

  - name: Living Room Yamaha Source
    availability: "{{ not states('media_player.yamaha_rx_v679') in ['unknown', 'unavailable'] }}"
    state: "{{ state_attr('media_player.yamaha_rx_v679', 'source') | default('off', true) }}"
    icon: mdi:import

  - name: Denon AVR-S760H Sound Mode
    availability: "{{ not states('media_player.denon_avr_s760h') in ['unknown', 'unavailable'] }}"
    icon: mdi:surround-sound
    state: |
      {%- set sound_mode = state_attr('media_player.denon_avr_s760h', 'sound_mode') | default('off', true) -%}
      {%- set sound_modes = {
        "ALL ZONE STEREO": "All Zone Stereo",
        "AURO3D": "Auro3D",
        "AUTO": "Auto",
        "DIRECT": "Direct",
        "DOLBY DIGITAL": "Dolby Digital",
        "DTS SURROUND": "DTS Surround",
        "GAME": "Game",
        "JAZZ CLUB": "Jazz Club",
        "MATRIX": "Matrix",
        "MCH STEREO": "MCh Stereo",
        "MONO MOVIE": "Mono Movie",
        "MOVIE": "Movie",
        "MUSIC": "Music",
        "PURE DIRECT": "Pure Direct",
        "ROCK ARENA": "Rock Arena",
        "STANDARD": "Standard",
        "STEREO": "Stereo",
        "VIDEO GAME": "Video Game",
        "VIRTUAL": "Virtual",
        "off": "off"
      } -%}
      {{ sound_modes[sound_mode] }}

  - name: Yamaha RX-v679 Sound Mode
    availability: "{{ not states('media_player.yamaha_rx_v679') in ['unknown', 'unavailable'] }}"
    icon: mdi:surround-sound
    state: |
      {%- set sound_mode = state_attr('media_player.yamaha_rx_v679', 'sound_mode') | default('off', true) -%}
      {%- set sound_modes = {
        "2ch_stereo": "2Ch Stereo",
        "7ch_stereo": "MCh Stereo",
        "action_game": "Action Game",
        "adventure": "Adventure",
        "bottom_line": "Bottom Line",
        "cellar_club": "Cellar Club",
        "chamber": "Chamber",
        "drama": "Drama",
        "mono_movie": "Mono Movie",
        "munich": "Munich",
        "music_video": "Music Video",
        "roleplaying_game": "Roleplaying Game",
        "roxy_theatre": "Roxy Theatre",
        "sci-fi": "Sci-Fi",
        "spectacle": "Spectacle",
        "sports": "Sports",
        "standard": "Standard",
        "straight": "Straight",
        "surr_decoder": "Surround",
        "vienna": "Vienna",
        "off": "off"
      } -%}
      {{ sound_modes[sound_mode] }}
