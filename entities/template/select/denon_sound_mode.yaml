---
# The template integration allows creating entities which derive their values
# from other data. This is done by specifying templates for properties of an
# entity, like the name or the state.
#
# https://www.home-assistant.io/integrations/template/
#
select:
  - name: "Denon Sound Mode"
    availability: '{{ has_value("media_player.denon_avr_s760h") }}'
    state: |-
      {%- set sound_mode = state_attr('media_player.denon_avr_s760h', 'sound_mode') | default('off', true) -%}
      {{ {
        "ALL ZONE STEREO": "All Zone Stereo",
        "AURO3D": "Auro3D",
        "AUTO": "Auto",
        "DIRECT": "Direct",
        "DOLBY DIGITAL": "Dolby Digital",
        "DTS SURROUND": "DTS Surround",
        "GAME": "Game",
        "JAZZ CLUB": "Jazz Club",
        "MATRIX": "Matrix",
        "MCH STEREO": "MCh Stereo",
        "MONO MOVIE": "Mono Movie",
        "MOVIE": "Movie",
        "MUSIC": "Music",
        "PURE DIRECT": "Pure Direct",
        "ROCK ARENA": "Rock Arena",
        "STANDARD": "Standard",
        "STEREO": "Stereo",
        "VIDEO GAME": "Video Game",
        "VIRTUAL": "Virtual",
        "off": "Off"
      }[sound_mode] }}
    options: |-
      {{ ["All Zone Stereo", "Auro3D", "Auto", "Direct", "Dolby Digital",
      "DTS Surround", "Game", "Jazz Club", "Matrix", "MCh Stereo", "Mono Movie",
      "Movie", "Music", "Pure Direct", "Rock Arena", "Standard", "Stereo",
      "Video Game", "Virtual", "Off"] }}
    select_option:
      - service: media_player.select_sound_mode
        target:
          entity_id: media_player.denon_avr_s760h
        data:
          sound_mode: |-
            {{ {
              "All Zone Stereo": "ALL ZONE STEREO",
              "Auro3D": "AURO3D",
              "Auto": "AUTO",
              "Direct": "DIRECT",
              "Dolby Digital": "DOLBY DIGITAL",
              "DTS Surround": "DTS SURROUND",
              "Game": "GAME",
              "Jazz Club": "JAZZ CLUB",
              "Matrix": "MATRIX",
              "MCh Stereo": "MCH STEREO",
              "Mono Movie": "MONO MOVIE",
              "Movie": "MOVIE",
              "Music": "MUSIC",
              "Pure Direct": "PURE DIRECT",
              "Rock Arena": "ROCK ARENA",
              "Standard": "STANDARD",
              "Stereo": "STEREO",
              "Video Game": "VIDEO GAME",
              "Virtual": "VIRTUAL",
              "Off": "off",
            }[option] }}
