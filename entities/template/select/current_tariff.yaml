---
# The template integration allows creating entities which derive their values
# from other data. This is done by specifying templates for properties of an
# entity, like the name or the state.
#
# https://www.home-assistant.io/integrations/template/
#
select:
  - name: "Current Tariff"
    state: "{{ states('utility_meter.monthly_energy') }}"
    options: "{{ state_attr('utility_meter.monthly_energy', 'tariffs') }}"
    select_option:
      service: utility_meter.select_tariff
      target:
        entity_id: utility_meter.monthly_energy
      data:
        effect: "{{ option }}"
