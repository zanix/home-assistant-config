---
# Universal Media Players combine multiple existing entities in Home Assistant
# into one media player entity. This is used for creating a single entity that
# controls an entire media center.
#
# https://www.home-assistant.io/integrations/universal/
#
platform: universal
name: Family Room Universal
children:
  - media_player.plex_family_room
  - media_player.family_room_shield
  - media_player.yamaha_receiver
attributes:
  state: media_player.family_room_shield
  source_list: media_player.family_room_shield|source_list
  source: media_player.family_room_shield|app_id
  volume_level: media_player.yamaha_receiver|volume_level
  is_volume_muted: media_player.yamaha_receiver|is_volume_muted
commands:
  turn_on:
    service: remote.turn_on
    entity_id: remote.family_room
    data:
      entity_id: remote.family_room
      activity: 'Shield TV'
  turn_off:
    service: remote.turn_off
    entity_id: remote.family_room
  volume_up:
    service: media_player.volume_up
    entity_id: media_player.yamaha_receiver
  volume_down:
    service: media_player.volume_down
    entity_id: media_player.yamaha_receiver
  volume_mute:
    service: media_player.volume_mute
    entity_id: media_player.yamaha_receiver
  volume_set:
    service: media_player.volume_set
    target:
      entity_id: media_player.yamaha_receiver
    data:
      volume_level: '{{ volume_level }}'
  select_source:
    service: media_player.select_source
    target:
      entity_id: media_player.family_room_shield
    data:
      source: '{{ source }}'
