---
type: custom:stack-in-card
keep:
  background: true
cards:
  - type: custom:banner-card
    background: "#C07372"
    heading:
      - mdi:monitor
      - Office
    row_size: 2
    entities:
      - entity: binary_sensor.office_occupancy
        name: Occupancy
        map_state:
          'on':
            value: 'mdi:home-variant'
            color: var(--paper-item-icon-active-color)
        value: 'mdi:home-outline'
      - entity: sensor.office_temperature
        name: Temperature

  - type: entities
    entities:
      - entity: light.office_light
        name: Light
        type: custom:slider-entity-row
        toggle: true
        step: 1
        min: 1

  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: common_small
        entity: light.office_light
        triggers_update: light.office_light
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,149,45)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_light
            color_temp: 454
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_light'].attributes
                && (states['light.office_light'].attributes.color_temp == 454)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_light
        triggers_update: light.office_light
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,169,89)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_light
            color_temp: 370
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_light'].attributes
                && (states['light.office_light'].attributes.color_temp == 370)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_light
        triggers_update: light.office_light
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,208,164)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_light
            color_temp: 250
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_light'].attributes
                && (states['light.office_light'].attributes.color_temp == 250)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_light
        triggers_update: light.office_light
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(254,235,221)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_light
            color_temp: 181
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_light'].attributes
                && (states['light.office_light'].attributes.color_temp == 181)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_light
        triggers_update: light.office_light
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(245,243,255)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_light
            color_temp: 153
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_light'].attributes
                && (states['light.office_light'].attributes.color_temp == 153)
              ]]]
            icon: mdi:brightness-7

  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: common_small
        entity: light.office_1
        triggers_update: light.office_1
        icon: mdi:lightbulb
        show_name: false
        tap_action:
          action: more-info
      - type: custom:button-card
        template: common_small
        entity: light.office_2
        triggers_update: light.office_2
        icon: mdi:lightbulb
        show_name: false
        tap_action:
          action: more-info
      - type: custom:button-card
        template: common_small
        entity: light.office_3
        triggers_update: light.office_3
        icon: mdi:lightbulb
        show_name: false
        tap_action:
          action: more-info

  - type: entities
    entities:
      - type: section

      - entity: light.office_lamp
        type: custom:slider-entity-row
        name: Lamp
        toggle: true
        step: 1
        min: 1

  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: common_small
        entity: light.office_lamp
        triggers_update: light.office_lamp
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,149,45)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_lamp
            color_temp: 454
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_lamp'].attributes
                && (states['light.office_lamp'].attributes.color_temp == 454)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_lamp
        triggers_update: light.office_lamp
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,169,89)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_lamp
            color_temp: 370
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_lamp'].attributes
                && (states['light.office_lamp'].attributes.color_temp == 370)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_lamp
        triggers_update: light.office_lamp
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(255,208,164)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_lamp
            color_temp: 250
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_lamp'].attributes
                && (states['light.office_lamp'].attributes.color_temp == 250)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_lamp
        triggers_update: light.office_lamp
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(254,235,221)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_lamp
            color_temp: 181
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_lamp'].attributes
                && (states['light.office_lamp'].attributes.color_temp == 181)
              ]]]
            icon: mdi:brightness-7

      - type: custom:button-card
        template: common_small
        entity: light.office_lamp
        triggers_update: light.office_lamp
        icon: mdi:brightness-5
        show_name: false
        styles:
          icon:
            - color: rgb(245,243,255)
        tap_action:
          action: call-service
          service: light.turn_on
          service_data:
            entity_id: light.office_lamp
            color_temp: 153
            transition: 1
        state:
          - operator: template
            value: >
              [[[
                return states['light.office_lamp'].attributes
                && (states['light.office_lamp'].attributes.color_temp == 153)
              ]]]
            icon: mdi:brightness-7

  - type: entities
    entities:
      - entity: media_player.office_speaker
        type: custom:mini-media-player
        name: Google Home
        icon: mdi:google-assistant
        hide:
          power: true
        info: scroll
        artwork: material
        group: true
