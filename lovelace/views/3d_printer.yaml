---
title: 3D Printer
path: 3d-printer
icon: mdi:printer-3d
panel: true
cards:
  - type: custom:layout-card
    layout_type: custom:masonry-layout
    cards:

      - type: custom:stack-in-card
        cards:
          - type: picture-glance
            title: Ender 3 Pro
            camera_image: camera.ender_3_pro
            entities:
              - entity: binary_sensor.octoprint_connected
                tap_action:
                  action: url
                  url_path: !secret octoprint_url
            double_tap_action:
              action: url
              url_path: !secret octoprint_url

          - type: custom:button-card
            template: common
            confirmation:
              text: 'Toggle PSU'
            entity: switch.octoprint_psu
            icon: mdi:power
            name: Power
            styles:
              icon:
                - width: 100%
                  color: var(--label-badge-red)
            state:
              - value: 'off'
                icon: mdi:power-off
              - value: 'on'
                styles:
                  icon:
                    - color: var(--label-badge-green)

          - type: conditional
            conditions:
              - entity: binary_sensor.octoprint_connected
                state: "on"
            card:
              type: custom:stack-in-card
              cards:

                - type: horizontal-stack
                  cards:

                    - type: custom:button-card
                      template: common
                      confirmation:
                        text: 'Pause the Current Print?'
                      entity: switch.octoprint_pause_print
                      icon: mdi:pause
                      name: Pause
                      state:
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--paper-item-icon-active-color)

                    - type: custom:button-card
                      template: common
                      confirmation:
                        text: 'Cancel the Current Print?'
                      entity: button.octoprint_cancel_print
                      icon: mdi:cancel
                      name: Cancel

                    - type: custom:button-card
                      template: common
                      confirmation:
                        text: 'Initiate Emergency Stop?'
                      entity: button.octoprint_emergency_stop
                      icon: mdi:alert-octagon
                      name: Stop

                    - type: custom:button-card
                      template: common
                      confirmation:
                        text: 'Shutdown OctoPrint?'
                      entity: button.octoprint_shutdown_system
                      icon: mdi:power
                      name: Shutdown

                - type: custom:bar-card
                  style: |-
                    bar-card-name,
                    bar-card-value {
                      text-shadow: 1px 1px #0005;
                    }
                    bar-card-currentbar,
                    bar-card-backgroundbar {
                      border-radius: 4px;
                    }
                  entity: sensor.octoprint_print_progress
                  name: Completion
                  animation:
                    state: 'on'
                  positions:
                    icon: "off"
                    indicator: inside

                - type: horizontal-stack
                  cards:

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_print_file_size

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_layer_progress

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_filament_cost

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_filament_length

                - type: entities
                  entities:

                    - entity: sensor.octoprint_print_file
                      name: File

                - type: horizontal-stack
                  cards:

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_print_time_format

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: more-info
                      show_name: false
                      show_state: true
                      entity: sensor.octoprint_print_time_left_format

                - type: custom:apexcharts-card
                  header:
                    title: Temperature
                    show: true
                    show_states: true
                    colorize_states: true
                  experimental:
                    brush: true
                  all_series_config:
                    extend_to: 'now'
                    float_precision: 2
                    curve: stepline
                  brush:
                    selection_span: 1h
                    apex_config:
                      xaxis:
                        tooltip:
                          enabled: false
                      grid:
                        borderColor: '#7B7B7B'
                      chart:
                        foreColor: '#7B7B7B'
                        toolbar:
                          show: false
                  series:
                    - entity: sensor.octoprint_tool_0_temperature
                      name: Nozzle
                      stroke_width: 4
                      color: red
                      show:
                        in_brush: true
                    - entity: sensor.octoprint_bed_temperature
                      name: Bed
                      stroke_width: 4
                      color: "#6afff3"
                    - entity: sensor.octoprint_tool_0_target
                      name: Nozzle Target
                      type: area
                      stroke_width: 1
                      color: yellow
                    - entity: sensor.octoprint_bed_target
                      name: Bed Target
                      type: area
                      stroke_width: 1
                      color: "#bf71ff"
                  apex_config:
                    xaxis:
                      tooltip:
                        enabled: false
                    grid:
                      borderColor: '#7B7B7B'
                    chart:
                      foreColor: '#7B7B7B'
                      toolbar:
                        show: false
