---
title: Computers
path: computers
icon: mdi:desktop-tower
panel: true
cards:
  - type: custom:layout-card
    layout_type: custom:masonry-layout
    layout_options:
      max_cols: 3
    cards:

      - type: custom:stack-in-card
        cards:
          - type: custom:mini-graph-card
            name: Speedtest
            icon: mdi:speedometer
            points_per_hour: 1
            lower_bound_secondary: 0
            upper_bound_secondary: 500
            animate: true
            show:
              fill: false
              labels: false
              labels_secondary: false
            entities:
              - entity: sensor.speedtest_download
                name: Download
                show_state: true
                color: "#6afff3"
              - entity: sensor.speedtest_upload
                name: Upload
                show_state: true
                color: "#bf71ff"
              - entity: sensor.speedtest_ping
                name: Ping
                show_state: true
                y_axis: secondary
                color: red

          - type: entities
            show_header_toggle: false
            entities:
              - entity: sensor.speedtest_server
                type: custom:multiple-entity-row
                secondary_info:
                  attribute: host

                  # - type: custom:button-card
                  #   template: common
                  #   confirmation:
                  #     text: '[[[ return `Run a speed test now?` ]]]'
                  #   icon: mdi:cloud-download-outline
                  #   name: Test Speed
                  #   styles:
                  #     icon:
                  #       - width: 100%
                  #   tap_action:
                  #     action: call-service
                  #     service: speedtestdotnet.speedtest

      - type: custom:stack-in-card
        cards:

          - type: entities
            title: MagicMirror
            show_header_toggle: false
            entities:
              - entity: light.magicmirror
                type: custom:slider-entity-row
                name: Monitor
                toggle: true
                step: 10

      - type: custom:stack-in-card
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: markdown
                content: >-
                  ## Ardena

                  ## RTX 3080 | R5 5600X | 750W

          - type: horizontal-stack
            cards:

              - type: conditional
                conditions:
                  - entity: binary_sensor.ardena_connected
                    state: "off"
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: toggle
                      entity: switch.ardena
                      icon: mdi:power
                      name: Power
                      styles:
                        icon:
                          - width: 100%
                            color: var(--label-badge-red)
                      state:
                        - value: 'off'
                          icon: mdi:power-off
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-green)

              - type: conditional
                conditions:
                  - entity: binary_sensor.ardena_connected
                    state: "on"
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: toggle
                      entity: switch.ardena
                      icon: mdi:power
                      name: Power
                      styles:
                        icon:
                          - width: 100%
                            color: var(--label-badge-red)
                      state:
                        - value: 'off'
                          icon: mdi:power-off
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-green)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_lock
                        service_data:
                          computer: ardena
                      entity: script.iotlink_lock
                      icon: mdi:lock
                      name: Lock
                      state:
                        - value: 'off'
                          icon: mdi:lock-open
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-red)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_suspend
                        service_data:
                          computer: ardena
                      entity: script.iotlink_suspend
                      icon: mdi:sleep
                      name: Sleep
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_reboot
                        service_data:
                          computer: ardena
                      entity: switch.iotlink_reboot
                      icon: mdi:reload
                      name: Reboot
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_shutdown
                        service_data:
                          computer: ardena
                      entity: switch.iotlink_shutdown
                      icon: mdi:power
                      name: Shutdown
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

          - type: custom:uptime-card
            entity: sensor.nh_ardena_minerstatus
            name: Miner Up-Time
            icon: mdi:pickaxe
            hours_to_show: 2
            update_interval: 10
            ko_icon: mdi:exclamation-thick
            ko: OFFLINE
            ok: MINING
            icon_adaptive_color: true
            title_adaptive_color: true
            color:
              ok: '#66CC00'
              ko: orange
              half: orange
              none: black
            bar:
              spacing: 1
              height: 20
              round: 0
              amount: 40
            show:
              average: true
              status: true
              title: true
              header: true
              icon: true
              timeline: true
              footer: true
            alignment:
              status: spaced
              header: left
              icon_first: true
            tap_action:
              action: more-info
            tooltip:
              animation: true
              hour24: false

          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                color_type: icon
                color: white
                icon: mdi:connection
                entity: switch.nh_ardena_power
                name: 'Ardena | Offline'
                styles:
                  card:
                    - height: 80px
                state:
                  - value: 'on'
                    color: green
                    icon: mdi:pickaxe
                    name: 'Ardena | Mining'
                  - value: 'off'
                    color: orange
                    icon: mdi:bell-sleep
                    name: 'Ardena | Paused'
              - type: custom:button-card
                color_type: icon
                color: white
                icon: mdi:connection
                entity: binary_sensor.ardena_connected
                name: Ping Response API Error
                styles:
                  card:
                    - height: 80px
                state:
                  - value: 'on'
                    color: green
                    icon: mdi:lan-connect
                    name: Connected
                  - value: 'off'
                    color: orange
                    icon: mdi:lan-disconnect
                    name: Disconnected

          - type: entities
            show_header_toggle: false
            entities:
              # - type: custom:template-entity-row
              #   icon: mdi:expansion-card
              #   name: GPU Usage
              #   state: 'Overall {{ states("sensor.ardena_nvidia_nvidia_geforce_rtx_3080_load_gpu_core")|round }}%'
              #   secondary: '{{ states("sensor.ardena_nvidia_nvidia_geforce_rtx_3080_temperatures_gpu_core")|round }}°C'
              #   active: '{{ states("sensor.ardena_amd_ryzen_r5_5600x_temperatures_cpu_package")|int > 30|int }}'
              # - type: custom:template-entity-row
              #   icon: mdi:cpu-64-bit
              #   name: CPU Usage
              #   state: 'Overall {{ states("sensor.ardena_amd_ryzen_r5_5600x_load_cpu_total")|round }}%'
              #   secondary: '{{ states("sensor.ardena_amd_ryzen_r5_5600x_temperatures_cpu_package")|round }}°C'
              #   active: '{{ states("sensor.ardena_amd_ryzen_r5_5600x_temperatures_cpu_package")|int > 30|int }}'
              - type: custom:template-entity-row
                icon: mdi:pickaxe
                name: Synced Hash Rate
                state: '{{ states("sensor.nh_ardena_daggerhashimoto_speedaccepted")|round }} MH/s'
                active: '{{ states("sensor.nh_ardena_daggerhashimoto_speedaccepted")|int > 5|int }}'
              - type: custom:template-entity-row
                icon: mdi:currency-usd
                name: Profit Generator
                state: 'Generating ${{ states("sensor.nh_ardena_localprofitability_usd")|round }} Per 24/Hour'
                secondary: '(${{ states("sensor.nh_ardena_profitability_usd")|round }} Global Profit)'
                active: '{{ states("sensor.nh_ardena_profitability_usd")|int > 1|int }}'
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                entities:
                  - sensor.nh_ardena_localprofitability_usd
                name: Profit Over Time
                hours_to_show: 24
                decimals: 2
                icon: mdi:currency-usd
                unit_of_measurement: USD
                labels: true
                color_thresholds:
                  - value: 18
                    color: '#95e861'
                  - value: 15
                    color: '#e8b261'
                  - value: 12
                    color: '#e86161'
              - type: custom:mini-graph-card
                entities:
                  - sensor.nh_ardena_daggerhashimoto_speedaccepted
                name: MH/s Over Time
                hours_to_show: 24
                icon: mdi:expansion-card
                unit_of_measurement: MH/s
                show_more_detail: true
                labels: true
                color_thresholds:
                  - value: 85
                    color: '#95e861'
                  - value: 82
                    color: '#e8b261'
                  - value: 80
                    color: '#e86161'

      - type: custom:stack-in-card
        cards:

          - type: entities
            title: Athos
            show_header_toggle: false
            entities:
              - binary_sensor.athos_connected

          - type: horizontal-stack
            cards:

              - type: conditional
                conditions:
                  - entity: binary_sensor.athos_connected
                    state: "off"
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: toggle
                      entity: switch.athos
                      icon: mdi:power
                      name: Power
                      styles:
                        icon:
                          - width: 100%
                            color: var(--label-badge-red)
                      state:
                        - value: 'off'
                          icon: mdi:power-off
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-green)

              - type: conditional
                conditions:
                  - entity: binary_sensor.athos_connected
                    state: "on"
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: toggle
                      entity: switch.athos
                      icon: mdi:power
                      name: Power
                      styles:
                        icon:
                          - width: 100%
                            color: var(--label-badge-red)
                      state:
                        - value: 'off'
                          icon: mdi:power-off
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-green)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_lock
                        service_data:
                          computer: athos
                      entity: script.iotlink_lock
                      icon: mdi:lock
                      name: Lock
                      state:
                        - value: 'off'
                          icon: mdi:lock-open
                        - value: 'on'
                          styles:
                            icon:
                              - color: var(--label-badge-red)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_suspend
                        service_data:
                          computer: athos
                      entity: script.iotlink_suspend
                      icon: mdi:sleep
                      name: Sleep
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_reboot
                        service_data:
                          computer: athos
                      entity: switch.iotlink_reboot
                      icon: mdi:reload
                      name: Reboot
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

                    - type: custom:button-card
                      template: common
                      tap_action:
                        action: none
                      double_tap_action:
                        action: call-service
                        service: script.iotlink_shutdown
                        service_data:
                          computer: athos
                      entity: switch.iotlink_shutdown
                      icon: mdi:power
                      name: Shutdown
                      styles:
                        icon:
                          - color: var(--paper-item-icon-color)

      - type: custom:stack-in-card
        cards:

          - type: entities
            title: Erebus
            show_header_toggle: false
            entities:
              - binary_sensor.device_erebus

          - type: custom:button-card
            template: common
            tap_action:
              action: none
            double_tap_action:
              action: toggle
            entity: switch.erebus
            icon: mdi:power
            name: Power
            styles:
              icon:
                - width: 100%
                  color: var(--label-badge-red)
            state:
              - value: 'off'
                icon: mdi:power-off
              - value: 'on'
                styles:
                  icon:
                    - color: var(--label-badge-green)
