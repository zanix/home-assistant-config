---
# Turns on the Family Room PC and adjusts the lights.
#
# https://www.home-assistant.io/integrations/script/
#
family_room_game_mode:
  alias: 'Family Room Game Mode'
  description: 'Turns on the Family Room PC and adjusts the lights'
  icon: mdi:gamepad-variant-outline

  sequence:
    - service: remote.turn_on
      data_template:
        entity_id: remote.family_room
        activity: Computer

    - service: homeassistant.turn_off
      data:
        entity_id: switch.basement_hallway_light

    - choose:
        - conditions:
            condition: or
            conditions:
              - condition: sun
                after: sunset
                after_offset: '-01:00:00'
              - condition: sun
                before: sunrise
          sequence:
            - service: light.turn_on
              target:
                entity_id: light.family_room
              data:
                transition: 1
                brightness_pct: 25
            - service: light.turn_on
              target:
                entity_id: light.play_space
              data:
                transition: 1
                brightness_pct: 12

      default:
        - service: light.turn_on
          target:
            entity_id: light.family_room
          data:
            transition: 1
            brightness_pct: 25
        - service: light.turn_on
          target:
            entity_id: light.play_space
          data:
            transition: 1
            brightness_pct: 100
