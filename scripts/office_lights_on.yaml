---
# Turns on the Family Room PC and adjusts the lights.
#
# https://www.home-assistant.io/integrations/script/
#
office_lights_on:
  alias: 'Office Lights On'
  description: 'Turns on the office lights based on time of day.'
  icon: mdi:chair-rolling

  sequence:
    - choose:
        - conditions:
            condition: or
            conditions:
              - condition: time
                after: '20:45:00'
              - condition: sun
                before: sunrise
                before_offset: '-00:20:00'

          sequence:
            - service: light.turn_on
              data_template:
                entity_id: light.office_lamp
                brightness: 204
                color_temp: 370
                transition: 1
            - service: light.turn_on
              data_template:
                entity_id: light.office_light
                brightness: 140
                color_temp: 370
                transition: 1
            - service: light.turn_on
              data_template:
                entity_id: light.office_desk_led
                brightness: 140
                color_temp: 250
                transition: 1

      default:
        - service: light.turn_on
          target:
            entity_id:
              - light.office_light
              - light.office_lamp
              - light.office_desk_led
          data:
            color_temp: 181
            brightness: 255
        - service: switch.turn_on
          entity_id: switch.office_shelf_led
