---
# This script reads the status of all lights and announces the result to a
# Google Home Mini.
#
# https://www.home-assistant.io/integrations/script/
#
light_status:
  alias: 'Light Status'
  icon: mdi:lightbulb-group-outline

  fields:
    media_player:
      name: 'Media Player'
      example: media_player.living_room_speaker
      required: true
      selector:
        entity:
          domain: media_player

  variables:
    say_light_check: 'true'
    briefing: !include ../../templates/speech/briefing.yaml

  sequence:
    - service: script.say
      data:
        media_player: '{{ media_player | default("media_player.living_room_speaker") }}'
        message: '{{ briefing }}'
