---
# This script reads the status of all doors and announces the result to a
# Google Home Mini.
#
# https://www.home-assistant.io/integrations/script/
#
door_status:
  alias: 'Door Status'
  icon: mdi:door

  fields:
    media_player:
      description: 'Media Player'
      example: media_player.living_room_speaker
      selector:
        entity:
          domain: media_player

  variables:
    say_door_window_check: 'true'
    briefing: !include ../../templates/speech/briefing.yaml

  sequence:
    - service: script.say
      data_template:
        media_player: '{{ media_player|default("media_player.living_room_speaker") }}'
        message: '{{ briefing }}'
