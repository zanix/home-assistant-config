---
id: actionable_ignore_door_alerts
alias: '[Actionable] Ignore Door Alerts'
description: 'Ignore door open alerts when the action is pressed'

trigger:
  platform: event
  event_type: mobile_app_notification_action
  event_data:
    action: ignore_door_alerts

action:
  - service: input_boolean.turn_on
    target:
      entity_id: input_boolean.ignore_alert_doors

  - service: script.notify_mobile
    data:
      who: 'parents'
      title: ''
      message: 'clear_notification'
      tag: '{{ trigger.event.data.tag }}'

  - service: script.notify_mobile
    data:
      who: 'parents'
      title: 'Door Alerts Ignored'
      message: 'The Door Open alerts have been ignored until all doors are closed'
      icon: '/local/icons/door-open.png'
      group: 'Security'
      tag: 'door-alerts-ignored'
