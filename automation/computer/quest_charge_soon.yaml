---
id: quest_charge_soon
alias: '[Quest] Charge Soon'
description: 'Sends notification when Quest needs charging'

trigger:
  - platform: numeric_state
    entity_id: sensor.quest_battery_level
    below: '15'

condition:
  - condition: state
    entity_id: sensor.quest_battery_state
    state: 'discharging'
  - condition: state
    entity_id: binary_sensor.quest_interactive
    state: 'off'

action:
  - service: script.notify_mobile
    data:
      who: 'josh'
      title: 'Quest Low Charge'
      message: 'The Quest needs to be charged'
      icon: '/local/icons/battery-alert.png'
