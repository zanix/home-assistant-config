---
id: quest_charge_complete
alias: '[Quest] Charge Complete'
description: 'Sends notification when Quest is done charging'

trigger:
  - platform: numeric_state
    entity_id: sensor.quest_battery_level
    above: '95'

condition:
  - condition: state
    entity_id: sensor.quest_battery_state
    state: 'charging'
  - condition: state
    entity_id: sensor.quest_charger_type
    state: 'ac'
  - condition: state
    entity_id: binary_sensor.quest_interactive
    state: 'off'

action:
  - service: script.notify_mobile
    data:
      who: 'josh'
      title: 'Quest is Charged'
      message: 'The Quest is charged, you should unplug it'
      icon: '/local/icons/battery-charging-high.png'
