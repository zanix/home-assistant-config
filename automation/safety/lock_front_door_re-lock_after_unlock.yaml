---
id: lock_front_door_re_lock_after_unlock
alias: "[Lock] Front Door Re-lock after Unlock"

trigger:
  platform: state
  entity_id: lock.lock_front
  to: "unlocked"
  for:
    minutes: 2

condition:
  - condition: time
    after: input_datetime.front_door_lock_night
    before: input_datetime.front_door_auto_lock_off
  - condition: state
    entity_id: binary_sensor.front_door_is_open
    state: 'off'

action:
  service: lock.lock
  entity_id: lock.lock_front
