decluttering_templates:
  chip_header:
    card:
      cards:
      - cards:
        - card_mod:
            style: "ha-card  {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-icon-size: 1em;\n}\n"
          chips:
          - icon: mdi:chevron-left
            tap_action:
              action: navigate
              navigation_path: main
            type: template
          type: custom:mushroom-chips-card
        - card_mod:
            style: "ha-card {\n  background-color: rgba(17, 17, 17, 0.5) !important;\n\
              \  border-radius: var(--ha-card-border-radius) !important;\n  --chip-box-shadow:\
              \ none;\n  --chip-background: none;\n  --chip-spacing: 0;\n}\n"
          chips: '[[chips]]'
          type: custom:mushroom-chips-card
        layout:
          grid-template-columns: 55px auto
          grid-template-rows: auto
          margin: 0
          padding: 5px
        layout_type: grid
        type: custom:layout-card
      - card_mod:
          style: "ha-card {\n  background: none;\n  box-shadow: none;\n  padding:\
            \ 0px 16px 8px !important;\n}\n:host {\n  --mush-icon-size: 54px;\n  --mush-card-primary-font-size:\
            \ 3rem;\n  margin-left: -10px !important;\n}\n"
        fill_container: true
        hold_action:
          action: none
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: '[[secondary]]'
        tap_action:
          action: none
        type: custom:mushroom-template-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - secondary: null
    - icon: mdi:select-place
    - chips: []
  computer_power:
    card:
      cards:
      - card:
          entity: switch.[[computer]]
          hold_action:
            action: call-service
            service: switch.toggle
            target:
              entity_id: switch.[[computer]]
          icon: mdi:power-off
          icon_color: red
          primary: Power
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'off'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: switch.[[computer]]
          hold_action:
            action: call-service
            service: switch.toggle
            target:
              entity_id: switch.[[computer]]
          icon: mdi:power
          icon_color: green
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_lock
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_lock
          icon: "{%- if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) -%}\n  mdi:lock\n{%- else -%}\n  mdi:lock-open\n{%- endif -%}"
          icon_color: "{%- if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) -%}\n  grey\n{%- else -%}\n  green\n{%- endif -%}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_logoff
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_logoff
          icon: mdi:logout
          icon_color: grey
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_sleep
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_sleep
          icon: mdi:sleep
          icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- else -%}\n\
            \  grey\n{%- endif -%}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_restart
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_restart
          icon: mdi:reload
          icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- else -%}\n\
            \  grey\n{%- endif -%}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      horizontal: true
      type: custom:vertical-stack-in-card
  light_wb_popup:
    card:
      cards:
      - entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        fill_container: false
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      - entity: '[[light]]'
        icon: mdi:white-balance-sunny
        layout: horizontal
        name: Temperature
        secondary_info: none
        show_color_temp_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      type: vertical-stack
    default: null
  light_wled_popup:
    card:
      cards:
      - entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87); \n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - card:
          colors:
          - rgb_color:
            - 255
            - 255
            - 255
          - rgb_color:
            - 255
            - 0
            - 0
          - rgb_color:
            - 255
            - 0
            - 100
          - rgb_color:
            - 255
            - 116
            - 64
          - rgb_color:
            - 255
            - 165
            - 0
          - rgb_color:
            - 255
            - 255
            - 0
          - rgb_color:
            - 8
            - 224
            - 9
          - rgb_color:
            - 0
            - 255
            - 0
          - rgb_color:
            - 153
            - 255
            - 0
          - rgb_color:
            - 29
            - 187
            - 255
          - rgb_color:
            - 0
            - 255
            - 255
          - rgb_color:
            - 169
            - 3
            - 255
          - rgb_color:
            - 255
            - 0
            - 255
          entity: '[[light]]'
          justify: around
          type: custom:rgb-light-card
        style: "ha-card {\n  padding: 20px;\n}\n"
        type: custom:mod-card
      - subtitle: Effects
        type: custom:mushroom-title-card
      - entities:
        - entity: '[[effect]]'
        type: entities
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        fill_container: false
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      - entity: '[[light]]'
        icon: mdi:palette
        layout: horizontal
        name: Color
        secondary_info: none
        show_color_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      type: vertical-stack
    default: null
  package_delivery:
    card:
      card:
        badge_icon: "{% if states(entity) | int > 9 %}\n  mdi:numeric-9-plus\n{% else\
          \ %}\n  mdi:numeric-{{ states(entity) }}\n{% endif %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-[[icon_color]]-color));\n\
            \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n  background:\
            \ none;\n  box-shadow: none;\n  width: 110px;\n  margin-top: 10px;\n \
            \ margin-left: auto;\n  margin-right: auto;\n}\n"
        entity: '[[entity]]'
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - entity: '[[entity]]'
                  icon: '[[icon]]'
                  icon_color: '[[icon_color]]'
                  primary: '[[name]]'
                  secondary: '{{ states(entity) }} {{ iif(states(entity) | int ==
                    1, "package", "packages") }}'
                  tap_action:
                    action: more-info
                  type: custom:mushroom-template-card
                - subtitle: Tracking Numbers
                  type: custom:mushroom-title-card
                - content: '{%- for trk_number in state_attr("[[entity]]", "tracking_#")
                    %}

                    [{{ trk_number }}]([[url]]{{ trk_number }})

                    {%- endfor -%}'
                  type: markdown
                type: vertical-stack
              title: '[[name]] Tracking'
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: '[[entity]]'
        state_not: '0'
      - entity: '[[entity]]'
        state_not: unavailable
      type: conditional
  person_card:
    card:
      card_mod:
        style: "ha-card {\n  background:\n  {% set state = states(\"[[entity]]\")\
          \ %}\n  {% if state == \"home\" %}\n    var(--ha-card-background, var(--card-background-color,\
          \ white));\n  {% elif state == \"not_home\" %}\n    rgba(var(--rgb-red-color),\
          \ 0.2);\n  {% else %}\n    rgba(var(--rgb-state-person-zone-color), 0.2);\n\
          \  {% endif %}\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  background: rgba(17, 17, 17, 0.2) !important;\n  margin-left:\
            \ -10px;\n  height: 66px !important;\n}\n:host {\n  --mush-icon-size:\
            \ 55px;\n  --mush-badge-size: 22px;\n}\n"
        entity: '[[entity]]'
        icon_type: entity-picture
        name: '[[name]]'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - double_tap_action:
                    action: none
                  entity: '[[entity]]'
                  hold_action:
                    action: none
                  icon_type: entity-picture
                  primary_info: state
                  secondary_info: last-changed
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - artwork: material
                  entity: '[[media]]'
                  hide:
                    power: true
                    source: true
                    volume: true
                  icon: mdi:spotify
                  info: scroll
                  name: Spotify
                  type: custom:mini-media-player
                - entities:
                  - entity: '[[entity]]'
                    name: ' '
                  type: history-graph
                - alignment: center
                  chips:
                  - chip:
                      content: "{% set alarm = states(entity) %} {% if alarm|as_datetime\
                        \ < today_at() + timedelta(days=1) %}\n  Today {{ alarm|as_timestamp|timestamp_custom('%-I:%M\
                        \ %p') }}\n{% elif alarm|as_datetime < today_at() + timedelta(days=2)\
                        \ %}\n  Tomorrow {{ alarm|as_timestamp|timestamp_custom('%-I:%M\
                        \ %p') }}\n{% else %}\n  {{ alarm|as_timestamp|timestamp_custom('%A\
                        \ %-I:%M %p') }}\n{% endif %}\n"
                      entity: sensor.[[phone_base]]_next_alarm
                      icon: '{{ state_attr(entity, "icon") }}'
                      tap_action:
                        action: none
                      type: template
                    conditions:
                    - entity: sensor.[[phone_base]]_next_alarm
                      state_not: unavailable
                    type: conditional
                  type: custom:mushroom-chips-card
                - cards:
                  - entity: sensor.[[phone_base]]_battery_level
                    icon: "{% set value = states(entity) | int %} {% set state = \"\
                      \" %} {% if is_state(\"sensor.[[phone_base]]_battery_state\"\
                      , \"charging\") %}\n  {% set state = \"-charging\" %}\n  {%\
                      \ if is_state(\"sensor.[[phone_base]]_charger_type\", \"wireless\"\
                      ) %}\n    {% set state = state ~ \"-wireless\" %}\n  {% endif\
                      \ %}\n{% endif %} {% if value == 100 %}\n  mdi:battery{{ state\
                      \ }}\n{% elif value < 10 %}\n  mdi:battery{{ state }}-outline\n\
                      {% else %}\n  mdi:battery{{ state }}-{{ value // 10 * 10 }}\n\
                      {% endif %}"
                    icon_color: "{% set value = states(entity) | int %} {% if is_state(\"\
                      sensor.[[phone_base]]_battery_state\", \"charging\") %}\n  light-blue\n\
                      {% elif (value >= 75) %}\n  green\n{% elif (value >= 65) %}\n\
                      \  light-green\n{% elif (value >= 55) %}\n  lime\n{% elif (value\
                      \ >= 45) %}\n  yellow\n{% elif (value >= 35) %}\n  amber\n{%\
                      \ elif (value >= 25) %}\n  orange\n{% elif (value >= 15) %}\n\
                      \  deep-orange\n{% else %}\n  red\n{% endif %}"
                    layout: vertical
                    primary: Battery
                    secondary: '{{ states(entity) }}%'
                    tap_action:
                      action: more-info
                    type: custom:mushroom-template-card
                  - double_tap_action:
                      action: none
                    entity: '[[proximity]]'
                    hold_action:
                      action: none
                    icon: "{% set icon = \"map-marker-distance\" %} {% if is_state_attr(entity,\
                      \ \"dir_of_travel\", \"towards\") %}\n  mdi:map-marker-left\n\
                      {% elif is_state_attr(entity, \"dir_of_travel\", \"away_from\"\
                      ) %}\n  mdi:map-marker-right\n{% else %}\n  mdi:map-marker-distance\n\
                      {% endif %}"
                    icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"\
                      towards\") %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\"\
                      , \"away_from\") %}\n  orange\n{% else %}\n  grey\n{% endif\
                      \ %}"
                    layout: vertical
                    primary: "{% if is_state(\"[[entity]]\", \"home\") %}\n  Home\n\
                      {% elif is_state(\"[[entity]]\", \"not_home\") %}\n  Away\n\
                      {% else %}\n  {{ states(\"[[entity]]\") }}\n{% endif %}"
                    secondary: '{{ ((states(entity) | float) / 5280) | round(1) }}
                      mi'
                    tap_action:
                      action: none
                    type: custom:mushroom-template-card
                  - entity: notify.mobile_app_[[phone_base]]
                    hold_action:
                      action: call-service
                      data:
                        data:
                          channel: alarm_stream
                          priority: high
                          tag: Find
                          ttl: 0
                        message: Ringing phone
                        title: Finding Phone
                      service: notify.mobile_app_[[phone_base]]
                    icon: mdi:volume-high
                    icon_color: orange
                    layout: vertical
                    primary: Ring
                    secondary: (hold to ring)
                    tap_action:
                      action: none
                    type: custom:mushroom-template-card
                  type: horizontal-stack
                - double_tap_action:
                    action: none
                  entity: sensor.[[phone_base]]_geocoded_location
                  hold_action:
                    action: none
                  name: Location
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - dark_mode: true
                  default_zoom: 14
                  entities:
                  - entity: '[[entity]]'
                  type: map
                type: vertical-stack
              title: '[[name]]'
            service: browser_mod.popup
        type: custom:mushroom-person-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: -5px;\n}\n"
        chips:
        - chip:
            double_tap_action:
              action: none
            entity: '[[proximity]]'
            hold_action:
              action: none
            icon: "{% if states(entity)|int >= 400 %}\n  {% set icon = \"map-marker-distance\"\
              \ %}\n  {% if is_state_attr(entity, \"dir_of_travel\", \"towards\")\
              \ %}\n    mdi:map-marker-left\n  {% elif is_state_attr(entity, \"dir_of_travel\"\
              , \"away_from\") %}\n    mdi:map-marker-right\n  {% else %}\n    mdi:map-marker-distance\n\
              \  {% endif %}\n{% endif %}"
            icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"towards\"\
              ) %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\", \"away_from\"\
              ) %}\n  orange\n{% else %}\n  grey\n{% endif %}"
            layout: vertical
            tap_action:
              action: none
            type: template
          conditions:
          - entity: '[[entity]]'
            state_not: home
          type: conditional
        - chip:
            entity: '[[media]]'
            icon: mdi:spotify
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% else %}\n\
              \  disabled\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    artwork: full-cover-fit
                    entity: '[[media]]'
                    hide:
                      power: true
                      source: true
                      volume: true
                    icon: mdi:spotify
                    info: scroll
                    name: Spotify
                    source: icon
                    type: custom:mini-media-player
                service: browser_mod.popup
            type: template
          conditions:
          - entity: '[[media]]'
            state_not: unavailable
          type: conditional
        - entity: sensor.[[phone_base]]_wifi_connection
          icon: "{% if not is_state(entity, \"<not connected>\") %}\n  mdi:wifi\n\
            {% else %}\n  mdi:signal\n{% endif %}"
          icon_color: blue
          tap_action:
            action: more-info
          type: template
        - entity: sensor.[[phone_base]]_battery_level
          icon: "{% set value = states(entity) | int %} {% set state = \"\" %} {%\
            \ if is_state(\"sensor.[[phone_base]]_battery_state\", \"charging\") %}\n\
            \  {% set state = \"-charging\" %}\n  {% if is_state(\"sensor.[[phone_base]]_charger_type\"\
            , \"wireless\") %}\n    {% set state = state ~ \"-wireless\" %}\n  {%\
            \ endif %}\n{% endif %} {% if value == 100 %}\n  mdi:battery{{ state }}\n\
            {% elif value < 10 %}\n  mdi:battery{{ state }}-outline\n{% else %}\n\
            \  mdi:battery{{ state }}-{{ value // 10 * 10 }}\n{% endif %}"
          icon_color: "{% set value = states(entity) | int %} {% if is_state(\"sensor.[[phone_base]]_battery_state\"\
            , \"charging\") %}\n  light-blue\n{% elif (value >= 75) %}\n  green\n\
            {% elif (value >= 65) %}\n  light-green\n{% elif (value >= 55) %}\n  lime\n\
            {% elif (value >= 45) %}\n  yellow\n{% elif (value >= 35) %}\n  amber\n\
            {% elif (value >= 25) %}\n  orange\n{% elif (value >= 15) %}\n  deep-orange\n\
            {% else %}\n  red\n{% endif %}"
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
  room_card:
    card:
      card_mod:
        style: "ha-card {\n  {% if is_state(\"[[entity]]\", \"on\") %}\n    background:\
          \ rgba(var(--rgb-[[icon_color]]-color), 0.2);\n  {% endif %}\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  background: rgba(17, 17, 17, 0.2) !important;\n  margin:\
            \ -8px 0px 0 -25px;\n  height: 75px !important;\n}\n:host {\n  background:\
            \ none;\n  --mush-icon-size: 86px;\n}\n"
        entity: '[[entity]]'
        fill_container: true
        hold_action:
          action: toggle
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: '{{ states("[[temperature]]") }} °F'
        tap_action:
          action: navigate
          navigation_path: '[[path]]'
        type: custom:mushroom-template-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: 0;\n}\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - entity: group.all_light_switches
    - temperature: sensor.home_temperature
    - icon: mdi:home-assistant
    - icon_color: disabled
    - path: main
    - chips: []
  shield_remote:
    card:
      elements:
      - icon: mdi:power
        style:
          left: 85%
          padding: 10px
          top: 6%
          transform: translate(-50%, -50%) scale(180%)
        tap_action:
          action: call-service
          data:
            command: toggle
          service: media_player.toggle
          target:
            entity_id: '[[universal]]'
        type: icon
      - icon: mdi:chevron-up
        style:
          left: 50%
          padding: 0 5px
          top: 26%
          transform: translate(-50%, -50%) scale(600%, 300%)
        tap_action:
          action: call-service
          data:
            command: UP
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:chevron-down
        style:
          left: 50%
          padding: 0 5px
          top: 58%
          transform: translate(-50%, -50%) scale(600%, 300%)
        tap_action:
          action: call-service
          data:
            command: DOWN
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:chevron-left
        style:
          left: 21%
          padding: 3px 5px
          top: 41%
          transform: translate(-50%, -50%) scale(300%, 600%)
        tap_action:
          action: call-service
          data:
            command: LEFT
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:chevron-right
        style:
          left: 79%
          padding: 3px 5px
          top: 41%
          transform: translate(-50%, -50%) scale(300%, 600%)
        tap_action:
          action: call-service
          data:
            command: RIGHT
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:square-rounded-outline
        style:
          left: 50%
          top: 41%
          transform: translate(-50%, -50%) scale(750%)
        tap_action:
          action: call-service
          data:
            command: CENTER
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - hold_action:
          action: call-service
          data:
            command: HOME
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        icon: mdi:menu
        style:
          left: 15.5%
          padding: 10px
          top: 80%
          transform: translate(-50%, -50%) scale(180%)
        tap_action:
          action: call-service
          data:
            command: MENU
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:play-pause
        style:
          left: 15.5%
          padding: 10px
          top: 91%
          transform: translate(-50%, -50%) scale(180%)
        tap_action:
          action: call-service
          service: media_player.media_play_pause
          target:
            entity_id: '[[universal]]'
        type: icon
      - icon: mdi:chevron-left
        style:
          left: 50%
          padding: 5px 6px 6px
          top: 85%
          transform: translate(-50%, -50%) scale(500%)
        tap_action:
          action: call-service
          data:
            command: BACK
          service: androidtv.adb_command
          target:
            entity_id: '[[shield]]'
        type: icon
      - icon: mdi:plus
        style:
          left: 84.5%
          padding: 10px
          top: 80%
          transform: translate(-50%, -50%) scale(180%)
        tap_action:
          action: call-service
          service: media_player.volume_up
          target:
            entity_id: '[[universal]]'
        type: icon
      - icon: mdi:minus
        style:
          left: 84.5%
          padding: 10px
          top: 91%
          transform: translate(-50%, -50%) scale(180%)
        tap_action:
          action: call-service
          service: media_player.volume_down
          target:
            entity_id: '[[universal]]'
        type: icon
      image: /local/images/tv-remote.png?raw=true
      type: picture-elements
  title_chips:
    card:
      cards:
      - title: '[[title]]'
        type: custom:mushroom-title-card
        view_layout:
          grid-area: title
      - card:
          subtitle: '[[subtitle]]'
          type: custom:mushroom-title-card
        card_mod:
          style:
            mushroom-title-card$: "h2 {\n  padding: 0 16px 12px;\n}\n.header {\n \
              \ --title-padding: 0;\n}\n"
        type: custom:mod-card
        view_layout:
          grid-area: subtitle
      - alignment: end
        card_mod:
          style: "ha-card {\n  transform: translateY(30%);\n}\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
        view_layout:
          grid-area: chips
      layout:
        grid-template-areas: '"title chips"

          "subtitle subtitle"

          '
        grid-template-columns: auto 50%
        margin: -4px 0 -4px 0
      layout_type: custom:grid-layout
      type: custom:layout-card
    default:
    - title: Title
    - subtitle: ''
    - chips: []
  universal_media:
    card:
      artwork: full-cover
      entity: '[[entity]]'
      hide:
        power: true
        source: true
      icon: '[[icon]]'
      info: scroll
      name: '[[name]]'
      shortcuts:
        attribute: source
        buttons: '[[buttons]]'
        columns: 3
      type: custom:mini-media-player
    default:
    - name: TV
    - icon: mdi:motion-play-outline
    - buttons:
      - icon: mdi:plex
        id: com.plexapp.android
        name: Plex
        type: source
      - icon: mdi:netflix
        id: com.netflix.ninja
        name: Netflix
        type: source
      - icon: fab:amazon
        id: com.amazon.amazonvideo.livingroom
        name: Prime
        type: source
      - icon: mdi:youtube
        id: com.google.android.youtube.tv
        name: YouTube
        type: source
      - icon: mdi:spotify
        id: com.spotify.tv.android
        name: Spotify
        type: source
      - icon: mdi:twitch
        id: tv.twitch.android.viewer
        name: Twitch
        type: source
      - icon: fapro:crunchyroll
        id: com.crunchyroll.crunchyroid
        name: Crunchyroll
        type: source
      - icon: fapro:youtube_kids
        id: com.google.android.youtube.tvkids
        name: YT Kids
        type: source
      - icon: fapro:pbs_kids
        id: org.pbskids.video
        name: PBS Kids
        type: source
      - icon: fapro:disney_now
        id: com.disney.datg.videoplatforms.android.watchdc
        name: DisneyNow
        type: source
      - icon: mdi:apps
        id: com.google.android.tvlauncher
        name: Home
        type: source
  uptime_card:
    card:
      cards:
      - cards:
        - alias:
            ko: Offline
            ok: Online
          alignment:
            header: left
            icon_first: true
            status: spaced
          bar:
            amount: 72
            height: 20
            round: 0
            spacing: 1
          card_mod:
            style: "ha-card {\n  background: none;\n  --ha-card-box-shadow: 0px;\n\
              }\n"
          color:
            half: rgb(var(--rgb-blue-grey-color))
            ko: rgba(var(--rgb-grey-color), 50%)
            none: rgb(var(--rgb-black-color))
            ok: rgb(var(--rgb-green-color))
          entity: '[[entity]]'
          hours_to_show: 72
          icon: '[[icon]]'
          icon_adaptive_color: true
          init:
            animation: raise
          ko: 'off'
          ko_icon: mdi:exclamation-thick
          name: '[[name]]'
          ok: 'on'
          show:
            average: true
            footer: true
            header: true
            icon: true
            status: true
            timeline: true
            title: true
          tap_action:
            action: more-info
          title_adaptive_color: true
          tooltip:
            animation: true
            hour24: false
          type: custom:uptime-card
          update_interval: 30
        - card_mod:
            style:
              mushroom-shape-icon:
                $: ".shape ha-icon {\n  transition: transform 0.14s !important;\n\
                  \  {{ 'transform: rotate(-180deg);' if is_state(config.entity, 'on')\
                  \ }}\n}\n"
                .: "ha-card {\n  align-items: flex-end;\n  background: none;\n  --ha-card-box-shadow:\
                  \ 0px;\n}\nmushroom-shape-icon {\n  --shape-color: none !important;\n\
                  }\n"
          entity: '[[dropdown]]'
          hold_action:
            action: none
          icon: mdi:chevron-down
          icon_color: white
          type: custom:mushroom-template-card
        layout:
          grid-template-columns: auto 33px
          margin: -4px -4px -8px -4px
        layout_type: custom:grid-layout
        type: custom:layout-card
      - card:
          cards:
          - animate: true
            entities: '[[graph_1_entities]]'
            font_size: 75
            hours_to_show: 1
            icon: '[[graph_1_icon]]'
            line_width: 8
            name: '[[graph_1_name]]'
            points_per_hour: 30
            show:
              labels: false
              labels_secondary: false
            type: custom:mini-graph-card
          - animate: true
            entities: '[[graph_2_entities]]'
            font_size: 75
            hours_to_show: 1
            icon: '[[graph_2_icon]]'
            line_width: 8
            name: '[[graph_2_name]]'
            points_per_hour: 30
            show:
              labels: false
              labels_secondary: false
            type: custom:mini-graph-card
          - animate: true
            entities: '[[graph_3_entities]]'
            font_size: 75
            hours_to_show: 1
            icon: '[[graph_3_icon]]'
            line_width: 8
            name: '[[graph_3_name]]'
            points_per_hour: 30
            show:
              labels: false
              labels_secondary: false
            type: custom:mini-graph-card
          - animate: true
            entities: '[[graph_4_entities]]'
            font_size: 75
            hours_to_show: 1
            icon: '[[graph_4_icon]]'
            line_width: 8
            name: '[[graph_4_name]]'
            points_per_hour: 30
            show:
              labels: false
              labels_secondary: false
            type: custom:mini-graph-card
          columns: 2
          square: false
          type: grid
        conditions:
        - entity: '[[dropdown]]'
          state: 'on'
        type: conditional
      type: custom:vertical-stack-in-card
    default:
    - graph_1_name: None
    - graph_1_icon: None
    - graph_1_entities: []
    - graph_2_name: None
    - graph_2_icon: None
    - graph_2_entities: []
    - graph_3_name: None
    - graph_3_icon: None
    - graph_3_entities: []
    - graph_4_name: None
    - graph_4_icon: None
    - graph_4_entities: []
kiosk_mode:
  mobile_settings:
    hide_header: true
    ignore_entity_settings: true
title: Mechanix
views:
- badges: []
  cards:
  - cards:
    - cards:
      - card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-icon-size: 1em;\n}\n"
        chips:
        - type: menu
        type: custom:mushroom-chips-card
      - alignment: justify
        card_mod:
          style: "ha-card {\n  background-color: rgba(17, 17, 17, 0.5) !important;\n\
            \  border-radius: var(--ha-card-border-radius) !important;\n  --chip-box-shadow:\
            \ none;\n  --chip-background: none;\n  --chip-spacing: 0;\n}\n"
        chips:
        - content: "{% set ns = namespace(entities=[]) %}\n{% set open_doors = expand(state_attr(\"\
            group.all_doors\", \"entity_id\")) | selectattr(\"state\", \"==\", \"\
            on\") | map(attribute=\"entity_id\") | list %}\n{% for entity_id in open_doors\
            \ %}\n  {% set ns.entities = ns.entities + [ entity_id ] %}\n{% endfor\
            \ %}\n{% set security = [\n  \"lock.lock_front\",\n  \"cover.garage_door\"\
            \n] %}\n{% for entity_id in security %}\n  {% if is_state(entity_id, \"\
            open\") or is_state(entity_id, \"unlocked\") %}\n    {% set ns.entities\
            \ = ns.entities + [ entity_id ] %}\n  {% endif %}\n{% endfor %}\n{{ \"\
            Secure\" if ns.entities | count == 0 else \"Not Secure\" }}"
          entity: lock.lock_front
          icon: "{% set ns = namespace(entities=[]) %}\n{% set open_doors = expand(state_attr(\"\
            group.all_doors\", \"entity_id\")) | selectattr(\"state\", \"==\", \"\
            on\") | map(attribute=\"entity_id\") | list %}\n{% for entity_id in open_doors\
            \ %}\n  {% set ns.entities = ns.entities + [ entity_id ] %}\n{% endfor\
            \ %}\n{% set security = [\n  \"lock.lock_front\",\n  \"cover.garage_door\"\
            \n] %}\n{% for entity_id in security %}\n  {% if is_state(entity_id, \"\
            open\") or is_state(entity_id, \"unlocked\") %}\n    {% set ns.entities\
            \ = ns.entities + [ entity_id ] %}\n  {% endif %}\n{% endfor %}\n{{ \"\
            mdi:shield-check\" if ns.entities | count == 0 else \"mdi:shield-alert\"\
            \ }}"
          icon_color: "{% set ns = namespace(entities=[]) %}\n{% set open_doors =\
            \ expand(state_attr(\"group.all_doors\", \"entity_id\")) | selectattr(\"\
            state\", \"==\", \"on\") | map(attribute=\"entity_id\") | list %}\n{%\
            \ for entity_id in open_doors %}\n  {% set ns.entities = ns.entities +\
            \ [ entity_id ] %}\n{% endfor %}\n{% set security = [\n  \"lock.lock_front\"\
            ,\n  \"cover.garage_door\"\n] %}\n{% for entity_id in security %}\n  {%\
            \ if is_state(entity_id, \"open\") or is_state(entity_id, \"unlocked\"\
            ) %}\n    {% set ns.entities = ns.entities + [ entity_id ] %}\n  {% endif\
            \ %}\n{% endfor %}\n{{ \"green\" if ns.entities | count == 0 else \"red\"\
            \ }}"
          tap_action:
            action: navigate
            navigation_path: security
          type: template
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }}'
          entity: group.all_doors
          icon: '{{ iif(is_state(entity, "on"), "mdi:door-open", "mdi:door") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "cyan", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card:
                    cards: []
                    layout_type: masonry
                    type: custom:layout-card
                  filter:
                    exclude: []
                    include:
                    - group: group.all_doors
                      options:
                        card_mod:
                          style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                        hold_action:
                          action: none
                        layout: horizontal
                        secondary_info: last-changed
                        tap_action:
                          action: none
                        type: custom:mushroom-entity-card
                  show_empty: false
                  sort:
                    method: friendly_name
                  type: custom:auto-entities
                title: All Doors
              service: browser_mod.popup
          type: template
        - content: "{% if is_state(entity, \"off\") %}\n  Off\n{% else %}\n  {{ state_attr(\"\
            climate.home\", \"hvac_action\") | capitalize }}\n{% endif %}"
          entity: climate.home
          icon: mdi:thermostat-box
          icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\") %}\n\
            \  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\") %}\n\
            \  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"fan\"\
            ) %}\n  amber\n{% elif is_state(entity, \"off\") %}\n  grey\n{% else %}\n\
            \  blue-grey\n{% endif %}"
          tap_action:
            action: navigate
            navigation_path: climate
          type: template
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }}'
          entity: group.all_light_switches
          hold_action:
            action: call-service
            data: {}
            service: homeassistant.turn_off
            target:
              entity_id: group.all_light_switches
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "grey") }}'
          tap_action:
            action: navigate
            navigation_path: lights
          type: template
        - content: "{% if not is_state(entity, 'unavailable') and not is_state(entity,\
            \ 'unknown') %}\n  {% set power = states(entity) | int | abs %}\n  {%\
            \ if power > 1000 %}\n    {{ (power | float * 0.001) | round(2) }} kWh\n\
            \  {% else %}\n    {{ power }} W\n  {% endif %}\n{% endif %}"
          entity: sensor.grid_power
          icon: "{% if is_state(entity, 'unavailable') or is_state(entity, 'unknown')\
            \ %}\n  mdi:transmission-tower-off\n{% else %}\n  {% if states(entity)\
            \ | int < 0 %}\n    mdi:transmission-tower-import\n  {% else %}\n    mdi:transmission-tower-export\n\
            \  {% endif %}\n{% endif %}"
          icon_color: "{% if is_state(entity, 'unavailable') or is_state(entity, 'unknown')\
            \ %}\n  disabled\n{% else %}\n  {% if states(entity) | int < 0 %}\n  \
            \  lime\n  {% else %}\n    deep-orange\n  {% endif %}\n{% endif %}"
          tap_action:
            action: navigate
            navigation_path: power
          type: template
        - content: "{% set ns = namespace(entities=[]) %} {% set computers = [\n \
            \ \"binary_sensor.erebus_connected\",\n  \"binary_sensor.ardena_connected\"\
            ,\n  \"binary_sensor.athos_connected\"\n] %} {% for entity_id in computers\
            \ %}\n  {% if is_state(entity_id, \"on\") %}\n    {% set ns.entities =\
            \ ns.entities + [ entity_id ] %}\n  {% endif %}\n{% endfor %} {{ ns.entities\
            \ | count }}"
          icon: mdi:desktop-tower
          icon_color: "{% set ns = namespace(entities=[]) %}\n{% set computers = [\n\
            \  \"binary_sensor.erebus_connected\",\n  \"binary_sensor.ardena_connected\"\
            ,\n  \"binary_sensor.athos_connected\"\n] %}\n{% for entity_id in computers\
            \ %}\n  {% if is_state(entity_id, \"on\") %}\n    {% set ns.entities =\
            \ ns.entities + [ entity_id ] %}\n  {% endif %}\n{% endfor %}\n{{ \"teal\"\
            \ if ns.entities | count > 0 else \"disabled\" }}"
          tap_action:
            action: navigate
            navigation_path: computer
          type: template
        - content: "{% set progress = states(\"sensor.octoprint_layer_progress\")\
            \ %}\n{% if is_state(entity, \"on\") and progress != \"unknown\" %}\n\
            \  {{ progress }}\n{% endif %}"
          entity: switch.octoprint_psu
          hold_action:
            action: none
          icon: mdi:printer-3d
          icon_color: '{{ iif(is_state(entity, "on"), "green", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - entity: switch.octoprint_psu
                    hold_action:
                      action: toggle
                    icon: "{% if is_state(entity, \"on\") %}\n  mdi:power\n{% else\
                      \ %}\n  mdi:power-off\n{% endif %}"
                    icon_color: "{% if is_state(entity, \"on\") %}\n  green\n{% else\
                      \ %}\n  grey\n{% endif %}"
                    primary: Power
                    secondary: "{% if is_state(entity, \"on\") %}\n  Press and hold\
                      \ to power off\n{% else %}\n  Press and hold to power on\n{%\
                      \ endif %}"
                    type: custom:mushroom-template-card
                  - camera_view: live
                    entity: camera.ender_3_pro
                    show_name: false
                    show_state: false
                    type: picture-entity
                  - card:
                      cards:
                      - card_mod:
                          style: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                            \ 0px;\n}\n"
                        cards:
                        - card_mod:
                            style: "ha-card {\n  {% if is_state(\"switch.octoprint_pause_print\"\
                              , \"on\") %}\n    background: rgba(var(--rgb-yellow-color),\
                              \ 0.1);\n  {% else %}\n    background: rgba(var(--rgb-grey-color),\
                              \ 0.1);\n  {% endif %}\n  width: 74px;\n  border-radius:\
                              \ 50%;\n  margin-left: auto;\n  margin-right: auto;\n\
                              }\n"
                          entity: switch.octoprint_pause_print
                          hold_action:
                            action: toggle
                          icon: "{% if is_state(entity, \"on\") %}\n  mdi:play\n{%\
                            \ else %}\n  mdi:pause\n{% endif %}"
                          icon_color: "{% if is_state(entity, \"on\") %}\n  yellow\n\
                            {% else %}\n  grey\n{% endif %}"
                          layout: vertical
                          tap_action:
                            action: none
                          type: custom:mushroom-template-card
                        - card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-amber-color),\
                              \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n  margin-left:\
                              \ auto;\n  margin-right: auto;\n}\n"
                          entity: button.octoprint_cancel_print
                          hold_action:
                            action: call-service
                            service: button.press
                            target:
                              entity_id: button.octoprint_cancel_print
                          icon: mdi:cancel
                          icon_color: amber
                          layout: vertical
                          tap_action:
                            action: none
                          type: custom:mushroom-template-card
                        - card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-pink-color),\
                              \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n  margin-left:\
                              \ auto;\n  margin-right: auto;\n}\n"
                          entity: button.octoprint_emergency_stop
                          hold_action:
                            action: call-service
                            service: button.press
                            target:
                              entity_id: button.octoprint_emergency_stop
                          icon: mdi:alert-octagon
                          icon_color: pink
                          layout: vertical
                          tap_action:
                            action: none
                          type: custom:mushroom-template-card
                        - card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-red-color),\
                              \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n  margin-left:\
                              \ auto;\n  margin-right: auto;\n}\n"
                          entity: button.octoprint_shutdown_system
                          hold_action:
                            action: call-service
                            service: button.press
                            target:
                              entity_id: button.octoprint_shutdown_system
                          icon: mdi:power
                          icon_color: orange
                          layout: vertical
                          tap_action:
                            action: none
                          type: custom:mushroom-template-card
                        type: horizontal-stack
                      - cards:
                        - cards:
                          - entity: sensor.octoprint_print_status
                            icon: mdi:printer-3d-nozzle
                            icon_color: green
                            name: Status
                            primary_info: state
                            secondary_info: name
                            tap_action:
                              action: none
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_print_time_left_format
                            icon_color: light-blue
                            name: Est. Finish Time
                            primary_info: state
                            secondary_info: name
                            tap_action:
                              action: none
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_layer_progress
                            icon_color: lime
                            name: Layer
                            primary_info: state
                            secondary_info: name
                            tap_action:
                              action: none
                            type: custom:mushroom-entity-card
                          type: vertical-stack
                        - card_mod:
                            style: "ha-card {\n  height: 225px;\n}\n"
                          cards:
                          - apex_config:
                              chart:
                                height: 250px
                              fill:
                                gradient:
                                  inverseColors: false
                                  opacityFrom: 1
                                  opacityTo: 1
                                  shade: light
                                  shadeIntensity: 0.3
                                  stops:
                                  - 0
                                  - 50
                                  - 55
                                  - 90
                                  type: horizontal
                                type: gradient
                              legend:
                                show: false
                              plotOptions:
                                radialBar:
                                  dataLabels:
                                    name:
                                      show: false
                                    value:
                                      show: false
                                  hollow:
                                    size: 80%
                                  track:
                                    margin: 0
                                    strokeWidth: 80%
                            chart_type: radialBar
                            header:
                              show: false
                            series:
                            - color: rgb(3, 169, 244)
                              entity: sensor.octoprint_print_progress
                              name: Job Progress
                              show:
                                legend_value: false
                            type: custom:apexcharts-card
                          - card_mod:
                              style: "ha-card {\n  border-radius: 50%;\n  background:\
                                \ none;\n  margin-top: -175px;\n  width: 140px;\n\
                                \  margin-left: auto;\n  margin-right: auto;\n}\n"
                            entity: sensor.octoprint_print_progress
                            icon_color: light-blue
                            layout: vertical
                            name: Job Progress
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          type: custom:vertical-stack-in-card
                        layout:
                          grid-template-columns: 197px auto
                          margin: -4px -4px -8px -4px
                        layout_type: custom:grid-layout
                        type: custom:layout-card
                      - subtitle: Print Info
                        type: custom:mushroom-title-card
                      - cards:
                        - entity: sensor.octoprint_print_file
                          name: File
                          type: custom:mushroom-entity-card
                        - entity: sensor.octoprint_print_file_size
                          name: Print File Size
                          primary_info: state
                          secondary_info: name
                          type: custom:mushroom-entity-card
                        - entity: sensor.octoprint_filament_cost
                          name: Filament Cost
                          primary_info: state
                          secondary_info: name
                          type: custom:mushroom-entity-card
                        - entity: sensor.octoprint_filament_length
                          name: Filament Length
                          primary_info: state
                          secondary_info: name
                          type: custom:mushroom-entity-card
                        columns: 2
                        square: false
                        type: grid
                      - subtitle: Temperature
                        type: custom:mushroom-title-card
                      - all_series_config:
                          curve: stepline
                          extend_to: now
                          float_precision: 2
                        apex_config:
                          chart:
                            foreColor: '#7B7B7B'
                            toolbar:
                              show: false
                          grid:
                            borderColor: '#7B7B7B'
                          xaxis:
                            tooltip:
                              enabled: false
                        brush:
                          apex_config:
                            chart:
                              foreColor: '#7B7B7B'
                              toolbar:
                                show: false
                            grid:
                              borderColor: '#7B7B7B'
                            xaxis:
                              tooltip:
                                enabled: false
                          selection_span: 1h
                        experimental:
                          brush: true
                        header:
                          colorize_states: true
                          show: true
                          show_states: true
                        series:
                        - color: rgb(244,67,54)
                          entity: sensor.octoprint_tool_0_temperature
                          name: Nozzle
                          show:
                            in_brush: true
                          stroke_width: 4
                        - color: rgb(3,169,244)
                          entity: sensor.octoprint_bed_temperature
                          name: Bed
                          stroke_width: 4
                        - color: rgb(255,235,59)
                          entity: sensor.octoprint_tool_0_target
                          name: Nozzle Target
                          stroke_width: 1
                          type: area
                        - color: rgb(233,30,99)
                          entity: sensor.octoprint_bed_target
                          name: Bed Target
                          stroke_width: 1
                          type: area
                        type: custom:apexcharts-card
                      type: vertical-stack
                    conditions:
                    - entity: binary_sensor.octoprint_connected
                      state: 'on'
                    type: conditional
                  type: vertical-stack
                title: 3D Printer
              service: browser_mod.popup
          type: template
        - content: "{% if not is_state(entity, \"unavailable\") %}\n  {{ states(\"\
            sensor.meater_probe_internal\") }} °F\n  {% if states(\"sensor.meater_probe_remaining_time\"\
            ) != \"unknown\" %}\n    {% set t = (states(\"sensor.meater_probe_remaining_time\"\
            ) | as_datetime - now()).total_seconds() %}\n    | {{ t | timestamp_custom('%-H\
            \ hr %-M min' if t > 3600 else '%-M min', false) }}\n  {% endif %}\n{%\
            \ endif %}"
          entity: sensor.meater_probe_cook_state
          icon: mdi:food-drumstick
          icon_color: "{% if not is_state(entity, \"unavailable\") %}\n  brown\n{%\
            \ else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - entity: sensor.meater_probe_cooking
                    icon: mdi:food-steak
                    name: Cooking
                    primary_info: state
                    secondary_info: name
                    type: custom:mushroom-entity-card
                  - cards:
                    - entity: sensor.meater_probe_elapsed_time
                      name: Elapsed Time
                      primary_info: state
                      secondary_info: name
                      type: custom:mushroom-entity-card
                    - entity: sensor.meater_probe_remaining_time
                      name: Remaining Time
                      primary_info: state
                      secondary_info: name
                      type: custom:mushroom-entity-card
                    columns: 2
                    square: false
                    type: grid
                  - subtitle: Temperature
                    type: custom:mushroom-title-card
                  - all_series_config:
                      curve: stepline
                      extend_to: now
                      float_precision: 2
                    apex_config:
                      chart:
                        foreColor: '#7B7B7B'
                        toolbar:
                          show: false
                      grid:
                        borderColor: '#7B7B7B'
                      xaxis:
                        tooltip:
                          enabled: false
                    brush:
                      apex_config:
                        chart:
                          foreColor: '#7B7B7B'
                          toolbar:
                            show: false
                        grid:
                          borderColor: '#7B7B7B'
                        xaxis:
                          tooltip:
                            enabled: false
                      selection_span: 1h
                    experimental:
                      brush: true
                    header:
                      colorize_states: true
                      show: true
                      show_states: true
                    series:
                    - color: rgb(33,150,243)
                      entity: sensor.meater_probe_internal
                      name: Internal
                      show:
                        in_brush: true
                      stroke_width: 4
                    - color: rgb(139,195,74)
                      entity: sensor.meater_probe_ambient
                      name: Ambient
                      stroke_width: 4
                    - color: rgb(233,30,99)
                      entity: sensor.meater_probe_target
                      name: Target
                      stroke_width: 1
                      type: area
                    type: custom:apexcharts-card
                  type: vertical-stack
                title: Meater
              service: browser_mod.popup
          type: template
        - chip:
            content: "{%- if is_state(entity, \"on\") -%}\n  {{ states(\"sensor.available_version\"\
              ) }}\n{%- endif -%}\n"
            entity: binary_sensor.docker_hub_update_available
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    content: '**Home Assistant** _{{ states("sensor.current_version")
                      }}_ -> _{{ states("sensor.available_version") }}_

                      {{ state_attr("sensor.home_assistant_website", "release_title")
                      }}

                      [Release Notes]({{ state_attr("sensor.home_assistant_website",
                      "release_notes") }}) | [HassPodcast](https://hasspodcast.io/episodes)'
                    type: markdown
                  title: Upgrade Available
                service: browser_mod.popup
            type: template
          conditions:
          - entity: binary_sensor.docker_hub_update_available
            state: 'on'
          type: conditional
        - chip:
            content: "{%- if states(entity) | int > 0 -%}\n  {{ states(entity) | int\
              \ }}\n{%- endif -%}\n"
            entity: sensor.hacs
            icon: mdi:chevron-triple-up
            icon_color: red
            tap_action:
              action: navigate
              navigation_path: /hacs
            type: template
          conditions:
          - entity: sensor.hacs
            state_not: '0'
          - entity: sensor.hacs
            state_not: unavailable
          type: conditional
        - chip:
            content: '{{ states(entity) }}'
            entity: sensor.low_battery_devices
            icon: mdi:battery-alert
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: null
                      include:
                      - attributes:
                          device_class: battery
                        options:
                          badge_color: red
                          badge_icon: "{% set battery_level = states(entity) | int\
                            \ %}\n{% if battery_level < 10 %} \n  mdi:exclamation-thick\n\
                            {% endif %}"
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          icon: "{% set battery_level = (states(entity) | int / 10)\
                            \ | round(0) | int * 10 %} {% if battery_level == 100\
                            \ %}\n  mdi:battery\n{% elif battery_level > 0 %}\n  mdi:battery-{{\
                            \ battery_level }}\n{% else %}\n  mdi:battery-outline\n\
                            {% endif %}\n"
                          icon_color: "{% set battery_level = states(entity) | int\
                            \ %}\n{% if battery_level > 90 %} \n  green\n{% elif battery_level\
                            \ > 60 %}\n  light-green\n{% elif battery_level > 50 %}\n\
                            \  lime\n{% elif battery_level > 40 %}\n  yellow\n{% elif\
                            \ battery_level > 30 %}\n  amber\n{% elif battery_level\
                            \ > 20 %}\n  orange\n{% elif battery_level > 10 %}\n \
                            \ deep-orange\n{% else %}\n  red\n{% endif %} "
                          layout: horizontal
                          primary: '{{ states(entity) }}%'
                          secondary: '{{ state_attr(entity, "friendly_name") | title
                            }}'
                          tap_action:
                            action: more-info
                          type: custom:mushroom-template-card
                        state: < 30
                    show_empty: false
                    sort:
                      method: friendly_name
                    type: custom:auto-entities
                  title: Low Batteries
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.low_battery_devices
            state_not: '0'
          type: conditional
        type: custom:mushroom-chips-card
      layout:
        grid-template-columns: 55px auto
        grid-template-rows: auto
        margin: 0
        padding: 5px
      layout_type: grid
      type: custom:layout-card
    - alignment: justify
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-spacing: 0;\n}\n"
      chips:
      - content: "{% set time = now().hour %} {% if (time >= 18) %}\n  Good Evening,\
          \ {{ user }}!\n{% elif (time >= 12) %}\n  Good Afternoon, {{ user }}!\n\
          {% elif (time >= 5) %}\n  Good Morning, {{ user }}!\n{% elif (time < 5)\
          \ %}\n  WTF {{ user }}?! GO TO BED!\n{% else %}\n  Hello, {{ user }}\n{%\
          \ endif %}"
        tap_action:
          action: none
        type: template
      - entity: weather.openweathermap
        show_conditions: true
        show_temperature: true
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - card_config_version: 8
                  entity_apparent_temp: sensor.openweathermap_feels_like_temperature
                  entity_forecast_icon: weather.openweathermap
                  entity_forecast_icon_1: weather.openweathermap
                  entity_forecast_max: sensor.openweathermap_forecast_temperature
                  entity_forecast_max_1: weather.openweathermap
                  entity_forecast_min: sensor.openweathermap_forecast_temperature_low
                  entity_forecast_min_1: weather.openweathermap
                  entity_humidity: sensor.openweathermap_humidity
                  entity_pop: sensor.openweathermap_forecast_precipitation_probability
                  entity_pop_1: weather.openweathermap
                  entity_pos: sensor.openweathermap_forecast_precipitation
                  entity_pos_1: weather.openweathermap
                  entity_pressure: sensor.openweathermap_pressure
                  entity_summary: weather.openweathermap
                  entity_summary_1: weather.openweathermap
                  entity_sun: sun.sun
                  entity_temperature: weather.openweathermap
                  entity_uv_alert_summary: sensor.openweathermap_uv_index
                  entity_visibility: sensor.openweathermap_visibility
                  entity_wind_bearing: sensor.openweathermap_wind_bearing
                  entity_wind_speed: sensor.openweathermap_wind_speed
                  option_color_fire_danger: true
                  option_static_icons: false
                  option_time_format: 12hour
                  option_today_rainfall_decimals: false
                  option_today_temperature_decimals: false
                  section_order:
                  - overview
                  - extended
                  - slots
                  - daily_forecast
                  show_section_extended: false
                  slot_l1: forecast_max
                  slot_l2: forecast_min
                  slot_l3: wind
                  slot_l4: pressure
                  slot_l5: sun_next
                  slot_l6: remove
                  slot_l7: remove
                  slot_l8: remove
                  slot_r1: popforecast
                  slot_r2: humidity
                  slot_r3: uv_summary
                  slot_r4: visibility
                  slot_r5: sun_following
                  slot_r6: remove
                  slot_r7: remove
                  slot_r8: remove
                  type: custom:platinum-weather-card
                - type: iframe
                  url: https://embed.windy.com/embed2.html?lat=43.241&lon=-112.143&zoom=7&level=surface&overlay=wind&menu=&message=true&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=43.490&detailLon=-112.040&metricWind=mph&metricTemp=%C2%B0F&radarRange=-1
                - darkMode: true
                  type: custom:sun-card
                type: vertical-stack
              title: Weather
            service: browser_mod.popup
        type: weather
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.airnow_aqi
        icon: '{{ iif(states(entity) != "unavailable", "mdi:blur", "mdi:blur-off")
          }}'
        icon_color: "{% if not states(entity) in [\"unavailable\", \"unknown\"] %}\n\
          \  {% set level = states(entity) | float(default=0) %}\n  {% if level >=\
          \ 300 %}\n    red\n  {% elif level >= 200 %}\n    purple\n  {% elif level\
          \ >= 150 %}\n    pink\n  {% elif level >= 100 %}\n    orange\n  {% elif\
          \ level >= 50 %}\n    yellow\n  {% elif level >= 0 %}\n    green\n  {% endif\
          \ %}\n{% else %}\n  disabled\n{% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - double_tap_action:
                    action: none
                  entity: sensor.airnow_aqi
                  fill_container: false
                  hold_action:
                    action: none
                  multiline_secondary: true
                  primary: 'AQI: {{ state_attr(entity, "description") }}'
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.airnow_aqi
                  - entity: sensor.airnow_pm2_5
                  max: 400
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: rgb(var(--rgb-green-color))
                    from: '0'
                    to: '50'
                  - color: rgb(var(--rgb-yellow-color))
                    from: '50'
                    to: '100'
                  - color: rgb(var(--rgb-orange-color))
                    from: '100'
                    to: '150'
                  - color: rgb(var(--rgb-red-color))
                    from: '150'
                    to: '200'
                  - color: rgb(var(--rgb-purple-color))
                    from: '200'
                    to: '300'
                  - color: rgb(var(--rgb-pink-color))
                    from: '300'
                    to: '400'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ #0005;\n}"
                  type: custom:bar-card
                type: vertical-stack
              title: Air Quality
            service: browser_mod.popup
        type: template
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.allergy_index_today
        icon: mdi:flower-pollen
        icon_color: "{% set level = states(entity) | float(default=0) %}\n{% if level\
          \ >= 9.7 %}\n  red\n{% elif level >= 7.3 %}\n  orange\n{% elif level >=\
          \ 4.9 %}\n  yellow\n{% elif level >= 2.5 %}\n  lime\n{% else %}\n  green\n\
          {% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - subtitle: Allergens
                  type: custom:mushroom-title-card
                - double_tap_action:
                    action: none
                  entity: sensor.allergy_index_today
                  fill_container: false
                  hold_action:
                    action: none
                  multiline_secondary: true
                  secondary: '{{ state_attr(entity, "allergen_name_1") }}, {{ state_attr(entity,
                    "allergen_name_2") }}, {{ state_attr(entity, "allergen_name_3")
                    }}

                    {{ state_attr("sensor.allergy_index_forecasted_average", "outlook")
                    }}'
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - subtitle: Forecast
                  type: custom:mushroom-title-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.allergy_index_today
                  - entity: sensor.allergy_index_tomorrow
                  - entity: sensor.allergy_index_forecasted_average
                  - entity: sensor.asthma_index_today
                  - entity: sensor.asthma_index_tomorrow
                  - entity: sensor.asthma_index_forecasted_average
                  - entity: sensor.cold_flu_index_today
                  - entity: sensor.cold_flu_forecasted_average
                  max: 12
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: rgb(var(--rgb-green-color))
                    from: '0'
                    to: '2.5'
                  - color: rgb(var(--rgb-light-green-color))
                    from: '2.5'
                    to: '4.9'
                  - color: rgb(var(--rgb-amber-color))
                    from: '4.9'
                    to: '7.3'
                  - color: rgb(var(--rgb-orange-color))
                    from: '7.3'
                    to: '9.7'
                  - color: rgb(var(--rgb-red-color))
                    from: '9.7'
                    to: '12'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ #0005;\n}"
                  type: custom:bar-card
                type: vertical-stack
              title: Allergy / Asthma
            service: browser_mod.popup
        type: template
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  - cards:
    - template: person_card
      type: custom:decluttering-card
      variables:
      - entity: person.joshua
      - name: Joshua
      - media: media_player.spotify_josh
      - proximity: proximity.joshua_home
      - phone_base: pixel_7
    - template: person_card
      type: custom:decluttering-card
      variables:
      - entity: person.amy
      - name: Amy
      - media: media_player.spotify_amy
      - proximity: proximity.amy_home
      - phone_base: galaxy_s21
    - card_mod:
        style: "ha-card {\n  background:\n  {% set state = states(\"device_tracker.ascent_location\"\
          ) %}\n  {% if state == \"home\" %}\n    var(--ha-card-background, var(--card-background-color,\
          \ white));\n  {% elif state == \"not_home\" %}\n    rgba(var(--rgb-red-color),\
          \ 0.2);\n  {% else %}\n    rgba(var(--rgb-state-person-zone-color), 0.2);\n\
          \  {% endif %}\n}\n"
      cards:
      - card_mod:
          style:
            .: "ha-card {\n  background: rgba(17, 17, 17, 0.2) !important;\n  margin-left:\
              \ -10px;\n  height: 66px !important;\n}\n:host {\n  --mush-icon-size:\
              \ 55px;\n  --mush-badge-size: 22px;\n}\n"
            mushroom-shape-avatar$: "{% set timer = \"timer.subaru_remote_start\"\
              \ %}\n{% if state_attr(timer, \"finishes_at\") %}\n.picture {\n    {%\
              \ set remaining = (as_datetime(state_attr(timer, \"finishes_at\")) -\
              \ now()).total_seconds() | int %}\n    {% set duration =\n      (state_attr(timer,\
              \ \"duration\").split(\":\")[0] | int * 60 * 60)\n      + (state_attr(timer,\
              \ \"duration\").split(\":\")[1] | int * 60)\n      + (state_attr(timer,\
              \ \"duration\").split(\":\")[2] | int)\n    %}\n  background:\n    radial-gradient(var(--ha-card-background)\
              \ 60%, transparent 0%),\n    conic-gradient(rgb(var(--rgb-blue)) {{\
              \ (remaining / duration * 100)|round() }}% 0%, var(--ha-card-background)\
              \ 0% 100%);\n}\n{% endif %}\n"
        entity: device_tracker.ascent_location
        icon_type: entity-picture
        name: Ascent
        tap_action:
          action: navigate
          navigation_path: subaru
        type: custom:mushroom-person-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: 0;\n}\n"
        chips:
        - content: "{% if not is_state(entity, 'unavailable') %}\n  {{ states(entity)|round(0)\
            \ }}mi\n{% endif %}"
          entity: sensor.ascent_range
          icon: mdi:gas-station
          icon_color: "{% if not is_state(entity, 'unavailable') %}\n  {% set range\
            \ = states(entity) | int %}\n  {% if range > 200 %}\n    green\n  {% elif\
            \ range > 60 %}\n    light-green\n  {% elif range > 40 %}\n    amber\n\
            \  {% elif range > 20 %}\n    orange\n  {% else %}\n    red\n  {% endif\
            \ %}\n{% endif %}"
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    type: horizontal-stack
  - cards:
    - badge_icon: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif state_attr(entity,\
        \ \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else %}\n  mdi:numeric-{{\
        \ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.garbage_collection\"\
          , \"on\") -%}\n  {% set icon_color = \"green\" %}\n{%- elif is_state(config.entity,\
          \ \"0\") -%}\n  {% set icon_color = \"red\" %}\n  {% set icon_size = \"\
          1em\" %}\n{%- elif is_state(config.entity, \"1\") -%}\n  {% set icon_color\
          \ = \"yellow\" %}\n{%- else -%}\n  {% set icon_color = \"white\" %}\n{%-\
          \ endif -%}\nmushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-{{ icon_color\
          \ }}-color));\n  --main-color: none;\n  --badge-icon-size: {{ icon_size\
          \ }};\n}\nha-card {\n  background: none;\n  box-shadow: none;\n  width:\
          \ 110px;\n  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n\
          }\n"
      entity: sensor.garbage
      hold_action:
        action: call-service
        data:
          entity: sensor.garbage
        service: script.collection_at_curb
        target: {}
      icon: mdi:delete
      icon_color: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - badge_icon: "{% if is_state(\"input_boolean.recycling_collection\", \"on\")\
        \ %}\n  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif\
        \ state_attr(entity, \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else\
        \ %}\n  mdi:numeric-{{ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.recycling_collection\"\
          , \"on\") -%}\n  {% set icon_color = \"green\" %}\n{%- elif is_state(config.entity,\
          \ \"0\") -%}\n  {% set icon_color = \"red\" %}\n  {% set icon_size = \"\
          1em\" %}\n{%- elif is_state(config.entity, \"1\") -%}\n  {% set icon_color\
          \ = \"yellow\" %}\n{%- else -%}\n  {% set icon_color = \"white\" %}\n{%-\
          \ endif -%}\nmushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-{{ icon_color\
          \ }}-color));\n  --main-color: none;\n  --badge-icon-size: {{ icon_size\
          \ }};\n}\nha-card {\n  background: none;\n  box-shadow: none;\n  width:\
          \ 110px;\n  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n\
          }\n"
      entity: sensor.recycling
      hold_action:
        action: call-service
        data:
          entity: sensor.recycling
        service: script.collection_at_curb
        target: {}
      icon: mdi:recycle
      icon_color: "{% if is_state(\"input_boolean.recycling_collection\", \"on\")\
        \ %}\n  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - card:
        badge_icon: "{% if states(entity) | int > 0 %}\n  mdi:numeric-{{ states(entity)\
          \ }}\n{% elif states(entity) | int > 9 %}\n  mdi:numeric-9-plus\n{% endif\
          \ %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-{{config.icon_color}}-color));\n\
            \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n  background:\
            \ none;\n  box-shadow: none;\n  width: 110px;\n  margin-top: 10px;\n \
            \ margin-left: auto;\n  margin-right: auto;\n}\n"
        entity: sensor.mail_usps_mail
        icon: mdi:mailbox-up
        icon_color: blue
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                elements:
                - camera_image: camera.mail_usps
                  camera_view: live
                  style:
                    left: 50%
                    top: 50%
                    width: 100%
                  type: image
                - image: /local/mail_and_packages/overlay.png
                  style:
                    left: 50%
                    top: 50%
                    width: 101%
                  type: image
                - entity: camera.mail_usps
                  image: /local/mail_and_packages/vignette.png
                  style:
                    left: 50%
                    top: 50%
                    width: 101%
                  type: image
                entity: camera.mail_usps
                image: local/mail_and_packages/white.png
                type: picture-elements
              size: wide
              title: Mail
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: sensor.mail_usps_mail
        state_not: '0'
      type: conditional
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_usps_delivering
      - name: USPS
      - icon: fab:usps
      - icon_color: blue
      - url: https://tools.usps.com/go/TrackConfirmAction?tLabels=
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_ups_delivering
      - name: UPS
      - icon: fab:ups
      - icon_color: brown
      - url: https://www.ups.com/track?loc=en_US&tracknum=
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_fedex_delivering
      - name: FedEx
      - icon: fab:fedex
      - icon_color: purple
      - url: https://www.fedex.com/fedextrack/?trknbr=
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  width: 110px;\n\
              \  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n\
              }\n"
            mushroom-shape-icon$: "ha-icon {\n  {%- if is_state(config.entity, \"\
              on\") -%}\n  --icon-animation: shake 400ms ease-in-out infinite, drum\
              \ 2s ease infinite;\n  transform-origin: 50% 110%;\n  {% endif %}\n\
              }\n@keyframes shake {\n  0%, 100% { transform: translate(0, 0) rotate(0);\
              \ }\n  20%  { transform: translate(0.4px, -0.4px) rotate(-4deg); }\n\
              \  40%  { transform: translate(-0.4px, 0.4px) rotate(4deg); }\n  60%\
              \  { transform: translate(0.4px, 0.4px) rotate(-4deg); }\n  80%  { transform:\
              \ translate(-0.4px, -0.4px) rotate(4deg); }\n}\n@keyframes drum {\n\
              \  50%  { clip-path: polygon(0 0, 0 100%, 35% 100%, 34% 68%, 60% 41%,\
              \ 71% 56%, 65% 74%, 47% 79%, 32% 69%, 35% 100%, 100% 100%, 100% 0);\
              \ }\n}\n"
        entity: input_boolean.washer
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:washing-machine\n{%- else\
          \ -%}\n  mdi:washing-machine-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  blue\n{%- else -%}\n \
          \ disabled\n{%- endif -%}"
        layout: vertical
        primary: ''
        secondary: ''
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.washer
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  width: 110px;\n\
              \  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n\
              }\n"
            mushroom-shape-icon$: "ha-icon {\n  {%- if is_state(config.entity, \"\
              on\") -%}\n  --icon-animation: shake 400ms ease-in-out infinite, drum\
              \ 1s infinite;\n  transform-origin: 50% 65%;\n  {% endif %}\n}\n@keyframes\
              \ shake {\n  0%, 100% { transform: rotate(4deg); }\n  50%  { transform:\
              \ rotate(-4deg); }\n}\n@keyframes drum {\n  50%  { clip-path: polygon(0\
              \ 0, 0 100%, 35% 100%, 36% 74%, 31% 43%, 61% 40%, 71% 69%, 62% 78%,\
              \ 36% 73%, 35% 100%, 100% 100%, 100% 0); }\n}\n"
        entity: input_boolean.dryer
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:tumble-dryer\n{%- else -%}\n\
          \  mdi:tumble-dryer-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  orange\n{%- else -%}\n\
          \  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.dryer
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  width: 110px;\n\
              \  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n\
              }\n"
            mushroom-shape-icon$: "{% set timer = \"timer.dishwasher_run_time\" %}\n\
              {%- if is_state(config.entity, \"Washing\") -%}\n  {% set icon_color\
              \ = \"cyan\" %}\n{%- elif is_state(config.entity, \"Draining\") -%}\n\
              \  {% set icon_color = \"brown\" %}\n{%- elif is_state(config.entity,\
              \ \"Rinsing\") -%}\n  {% set icon_color = \"blue\" %}\n{%- elif is_state(config.entity,\
              \ \"Drying\") -%}\n  {% set icon_color = \"red\" %}\n{%- elif is_state(config.entity,\
              \ \"Clean\") -%}\n  {% set icon_color = \"lime\" %}\n{%- else -%}\n\
              \  {% set icon_color = \"grey\" %}\n{%- endif -%}\nha-icon {\n  {%-\
              \ if not is_state(config.entity, \"Off\") -%}\n  --icon-animation: bounce\
              \ 1.5s ease-in-out infinite, wash 1s ease-in-out infinite;\n  transform-origin:\
              \ 50% 75%;\n  {% endif %}\n}\n{% if state_attr(timer, \"finishes_at\"\
              ) %}\n.shape {\n    {% set remaining = (as_datetime(state_attr(timer,\
              \ \"finishes_at\")) - now()).total_seconds() | int %}\n    {% set duration\
              \ =\n      (state_attr(timer, \"duration\").split(\":\")[0] | int *\
              \ 60 * 60)\n      + (state_attr(timer, \"duration\").split(\":\")[1]\
              \ | int * 60)\n      + (state_attr(timer, \"duration\").split(\":\"\
              )[2] | int)\n    %}\n  background:\n    radial-gradient(var(--ha-card-background)\
              \ 60%, transparent 0%),\n    conic-gradient(rgb(var(--rgb-{{ icon_color\
              \ }})) {{ ((duration - remaining) / duration * 100)|round() }}% 0%,\
              \ var(--ha-card-background) 0% 100%);\n}\n.shape:after {\n  content:\
              \ \"\";\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  border-radius:\
              \ 50%;\n  background: rgba(var(--rgb-{{ icon_color }}), 0.2);\n}\n{%\
              \ endif %}\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {transform:\
              \ translateY(0); } \n  40% { transform: translateY(-1.2px) rotate(5deg);\
              \ } \n  60% { transform: translateY(-1.1px) rotate(-4deg); } \n} \n\
              @keyframes wash {\n  50%  { clip-path: polygon(0 0, 0 100%, 35% 100%,\
              \ 36% 74%, 31% 43%, 61% 40%, 71% 69%, 62% 78%, 36% 73%, 35% 100%, 100%\
              \ 100%, 100% 0); }\n}\n"
        entity: input_select.dishwasher_status
        icon: "{%- if not is_state(entity, \"Off\") -%}\n  mdi:dishwasher\n{%- else\
          \ -%}\n  mdi:dishwasher-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"Washing\") -%}\n  cyan\n{%- elif is_state(entity,\
          \ \"Draining\") -%}\n  brown\n{%- elif is_state(entity, \"Rinsing\") -%}\n\
          \  blue\n{%- elif is_state(entity, \"Drying\") -%}\n  red\n{%- elif is_state(entity,\
          \ \"Clean\") -%}\n  lime\n{%- else -%}\n  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_select.dishwasher_status
        state_not: 'Off'
      type: conditional
    columns: 5
    square: false
    type: grid
  - cards:
    - title: Rooms
      type: custom:mushroom-title-card
    - cards:
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Living Room
        - entity: group.lights_living_room
        - temperature: sensor.home_temperature
        - icon: mdi:sofa-single
        - icon_color: orange
        - path: living
        - chips:
          - entity: media_player.living_room_universal
            icon: "{% set app = state_attr(entity, \"source\") %} {% if app == \"\
              com.plexapp.android\" %}\n  {% set media_type = state_attr(entity, \"\
              media_content_type\") %}\n  {% if media_type == \"tvshow\" %}\n    mdi:television\n\
              \  {% elif media_type == \"movie\" %}\n    mdi:movie-open\n  {% elif\
              \ media_type == \"music\" %}\n    mdi:music\n  {% elif media_type ==\
              \ \"playlist\" %}\n    mdi:music\n  {% else %}\n    mdi:plex\n  {% endif\
              \ %}\n{% elif app == \"com.netflix.ninja\" %}\n  mdi:netflix\n{% elif\
              \ app == \"com.amazon.amazonvideo.livingroom\" %}\n  fab:amazon\n{%\
              \ elif app == \"com.hulu.livingroomplus\" %}\n  mdi:hulu\n{% elif app\
              \ == \"com.google.android.youtube.tv\" %}\n  mdi:youtube\n{% elif app\
              \ == \"com.spotify.tv.android\" %}\n  mdi:spotify\n{% elif app == \"\
              tv.twitch.android.viewer\" %}\n  mdi:twitch\n{% elif app == \"com.crunchyroll.crunchyroid\"\
              \ %}\n  fapro:crunchyroll\n{% elif app == \"com.google.android.youtube.tvkids\"\
              \ %}\n  fapro:youtube_kids\n{% elif app == \"org.pbskids.video\" %}\n\
              \  fapro:pbs_kids\n{% elif app == \"com.disney.datg.videoplatforms.android.watchdc\"\
              \ %}\n  fapro:disney_now\n{% else %}\n  mdi:motion-play-outline\n{%\
              \ endif %}"
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
              \ == \"off\" %}\n  disabled\n{% else %}\n  white\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    cards:
                    - template: universal_media
                      type: custom:decluttering-card
                      variables:
                      - entity: media_player.living_room_universal
                      - name: Living Room Media
                    - card:
                        entity: media_player.cast_living_room
                        hide:
                          power: true
                          volume: true
                        info: scroll
                        name: Cast
                        type: custom:mini-media-player
                      conditions:
                      - entity: sensor.living_room_shield_source
                        state_not: Plex
                      type: conditional
                    type: vertical-stack
                service: browser_mod.popup
            type: template
          - entity: fan.living_room
            icon: mdi:fan
            icon_color: "{% if is_state(entity, 'on') %}\n  {% if is_state_attr(entity,\
              \ 'percentage', 25) %}\n  green\n  {% elif is_state_attr(entity, 'percentage',\
              \ 50) %}\n  yellow\n  {% elif is_state_attr(entity, 'percentage', 75)\
              \ %}\n  orange\n  {% elif is_state_attr(entity, 'percentage', 100) %}\n\
              \  red\n  {% endif %}\n{% else %}\n  disabled\n{% endif %}"
            style: "ha-card {\n  {% if is_state(config.entity, 'on') %}\n  animation:\
              \ rotation linear infinite;\n    {% if is_state_attr(config.entity,\
              \ 'percentage', 25) %}\n    animation-duration: 1.33333s;\n    {% elif\
              \ is_state_attr(config.entity, 'percentage', 50) %}\n    animation-duration:\
              \ 0.942809s;\n    {% elif is_state_attr(config.entity, 'percentage',\
              \ 75) %}\n    animation-duration: 0.7698s;\n    {% elif is_state_attr(config.entity,\
              \ 'percentage', 100) %}\n    animation-duration: 0.666667s;\n    {%\
              \ endif %}\n  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform:\
              \ rotate(360deg);\n  }\n}\n"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    entity: fan.living_room
                    icon_animation: true
                    layout: horizontal
                    name: Fan
                    show_percentage_control: true
                    type: custom:mushroom-fan-card
                service: browser_mod.popup
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_living_room
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_living_room
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_living_room
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Living Room Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.home_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Family Room
        - entity: group.lights_family_room
        - temperature: sensor.family_room_temperature
        - icon: mdi:gamepad-circle
        - icon_color: yellow
        - path: family
        - chips:
          - chip:
              entity: binary_sensor.athos_connected
              icon: mdi:desktop-tower
              icon_color: lime
              tap_action:
                action: none
              type: template
            conditions:
            - entity: binary_sensor.athos_connected
              state: 'on'
            type: conditional
          - chip:
              entity: binary_sensor.quest_interactive
              icon: fapro:meta
              icon_color: blue
              tap_action:
                action: none
              type: template
            conditions:
            - entity: binary_sensor.quest_interactive
              state: 'on'
            type: conditional
          - entity: select.family_room_activities
            icon: "{% set state = states(entity) %}\n{% if state == \"Computer\" %}\n\
              \  mdi:desktop-tower\n{% elif state == \"PS3\" %}\n  fapro:ps3\n{% elif\
              \ state == \"PS4\" %}\n  fapro:ps4\n{% elif state == \"XBox\" %}\n \
              \ mdi:microsoft-xbox\n{% else %}\n  mdi:gamepad-variant\n{% endif %}"
            icon_color: "{% set state = states(entity) %}\n{% if state == \"Computer\"\
              \ %}\n  teal\n{% elif state == \"PS3\" %}\n  cyan\n{% elif state ==\
              \ \"PS4\" %}\n  blue\n{% elif state == \"XBox\" %}\n  green\n{% else\
              \ %}\n  disabled\n{% endif %}"
            tap_action:
              action: none
            type: template
          - entity: media_player.family_room_universal
            icon: "{% set app = state_attr(entity, \"source\") %} {% if app == \"\
              com.plexapp.android\" %}\n  {% set media_type = state_attr(entity, \"\
              media_content_type\") %}\n  {% if media_type == \"tvshow\" %}\n    mdi:television\n\
              \  {% elif media_type == \"movie\" %}\n    mdi:movie-open\n  {% elif\
              \ media_type == \"music\" %}\n    mdi:music\n  {% elif media_type ==\
              \ \"playlist\" %}\n    mdi:music\n  {% else %}\n    mdi:plex\n  {% endif\
              \ %}\n{% elif app == \"com.netflix.ninja\" %}\n  mdi:netflix\n{% elif\
              \ app == \"com.amazon.amazonvideo.livingroom\" %}\n  fab:amazon\n{%\
              \ elif app == \"com.hulu.livingroomplus\" %}\n  mdi:hulu\n{% elif app\
              \ == \"com.google.android.youtube.tv\" %}\n  mdi:youtube\n{% elif app\
              \ == \"com.spotify.tv.android\" %}\n  mdi:spotify\n{% elif app == \"\
              tv.twitch.android.viewer\" %}\n  mdi:twitch\n{% elif app == \"com.crunchyroll.crunchyroid\"\
              \ %}\n  fapro:crunchyroll\n{% elif app == \"com.google.android.youtube.tvkids\"\
              \ %}\n  fapro:youtube_kids\n{% elif app == \"org.pbskids.video\" %}\n\
              \  fapro:pbs_kids\n{% elif app == \"com.disney.datg.videoplatforms.android.watchdc\"\
              \ %}\n  fapro:disney_now\n{% else %}\n  mdi:motion-play-outline\n{%\
              \ endif %}"
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
              \ == \"off\" %}\n  disabled\n{% else %}\n  white\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    cards:
                    - template: universal_media
                      type: custom:decluttering-card
                      variables:
                      - entity: media_player.family_room_universal
                      - name: Family Room Media
                    - card:
                        entity: media_player.cast_family_room
                        hide:
                          power: true
                          volume: true
                        info: scroll
                        name: Cast
                        type: custom:mini-media-player
                      conditions:
                      - entity: sensor.family_room_shield_source
                        state_not: Plex
                      type: conditional
                    type: vertical-stack
                service: browser_mod.popup
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_family_room
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_family_room
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_family_room
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Family Room Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.family_room_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Office
        - entity: group.lights_office
        - temperature: sensor.office_temperature
        - icon: mdi:chair-rolling
        - icon_color: blue
        - path: office
        - chips:
          - chip:
              entity: binary_sensor.erebus_connected
              icon: mdi:desktop-tower
              icon_color: blue
              tap_action:
                action: none
              type: template
            conditions:
            - entity: binary_sensor.erebus_connected
              state: 'on'
            type: conditional
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_office
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_office
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_office
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Office Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.office_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Kitchen
        - entity: group.lights_kitchen
        - temperature: sensor.kitchen_temperature
        - icon: mdi:fridge-variant
        - icon_color: lime
        - path: kitchen
        - chips:
          - chip:
              entity: light.magicmirror
              icon: mdi:mirror-rectangle
              icon_color: blue
              tap_action:
                action: none
              type: template
            conditions:
            - entity: light.magicmirror
              state: 'on'
            type: conditional
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_kitchen
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_kitchen
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_kitchen
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Kitchen Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.kitchen_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Master Bedroom
        - entity: group.lights_master_bedroom
        - temperature: sensor.master_bedroom_temperature
        - icon: mdi:bed-king
        - icon_color: deep-purple
        - path: master
        - chips:
          - entity: media_player.master_bedroom_universal
            icon: "{% set app = state_attr(entity, \"source\") %} {% if app == \"\
              com.plexapp.android\" %}\n  {% set media_type = state_attr(entity, \"\
              media_content_type\") %}\n  {% if media_type == \"tvshow\" %}\n    mdi:television\n\
              \  {% elif media_type == \"movie\" %}\n    mdi:movie-open\n  {% elif\
              \ media_type == \"music\" %}\n    mdi:music\n  {% elif media_type ==\
              \ \"playlist\" %}\n    mdi:music\n  {% else %}\n    mdi:plex\n  {% endif\
              \ %}\n{% elif app == \"com.netflix.ninja\" %}\n  mdi:netflix\n{% elif\
              \ app == \"com.amazon.amazonvideo.livingroom\" %}\n  fab:amazon\n{%\
              \ elif app == \"com.hulu.livingroomplus\" %}\n  mdi:hulu\n{% elif app\
              \ == \"com.google.android.youtube.tv\" %}\n  mdi:youtube\n{% elif app\
              \ == \"com.spotify.tv.android\" %}\n  mdi:spotify\n{% elif app == \"\
              tv.twitch.android.viewer\" %}\n  mdi:twitch\n{% elif app == \"com.crunchyroll.crunchyroid\"\
              \ %}\n  fapro:crunchyroll\n{% elif app == \"com.google.android.youtube.tvkids\"\
              \ %}\n  fapro:youtube_kids\n{% elif app == \"org.pbskids.video\" %}\n\
              \  fapro:pbs_kids\n{% elif app == \"com.disney.datg.videoplatforms.android.watchdc\"\
              \ %}\n  fapro:disney_now\n{% else %}\n  mdi:motion-play-outline\n{%\
              \ endif %}"
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
              \ == \"off\" %}\n  disabled\n{% else %}\n  white\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    cards:
                    - template: universal_media
                      type: custom:decluttering-card
                      variables:
                      - entity: media_player.master_bedroom_universal
                      - name: Master Bedroom Media
                    - card:
                        entity: media_player.cast_master_bedroom
                        hide:
                          power: true
                          volume: true
                        info: scroll
                        name: Cast
                        type: custom:mini-media-player
                      conditions:
                      - entity: sensor.master_bedroom_shield_source
                        state_not: Plex
                      type: conditional
                    type: vertical-stack
                service: browser_mod.popup
            type: template
          - entity: fan.master_bedroom
            icon: mdi:fan
            icon_color: "{% if is_state(entity, 'on') %}\n  {% if is_state_attr(entity,\
              \ 'percentage', 25) %}\n  green\n  {% elif is_state_attr(entity, 'percentage',\
              \ 50) %}\n  yellow\n  {% elif is_state_attr(entity, 'percentage', 75)\
              \ %}\n  orange\n  {% elif is_state_attr(entity, 'percentage', 100) %}\n\
              \  red\n  {% endif %}\n{% else %}\n  disabled\n{% endif %}"
            style: "ha-card {\n  {% if is_state(config.entity, 'on') %}\n  animation:\
              \ rotation linear infinite;\n    {% if is_state_attr(config.entity,\
              \ 'percentage', 25) %}\n    animation-duration: 1.33333s;\n    {% elif\
              \ is_state_attr(config.entity, 'percentage', 50) %}\n    animation-duration:\
              \ 0.942809s;\n    {% elif is_state_attr(config.entity, 'percentage',\
              \ 75) %}\n    animation-duration: 0.7698s;\n    {% elif is_state_attr(config.entity,\
              \ 'percentage', 100) %}\n    animation-duration: 0.666667s;\n    {%\
              \ endif %}\n  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform:\
              \ rotate(360deg);\n  }\n}\n"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    entity: fan.master_bedroom
                    icon_animation: true
                    layout: horizontal
                    name: Fan
                    show_percentage_control: true
                    type: custom:mushroom-fan-card
                service: browser_mod.popup
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_master_bedroom
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_master_bedroom
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_master_bedroom
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Master Bedroom Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.master_bedroom_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Ethan
        - entity: group.lights_ethan
        - temperature: sensor.ethan_temperature
        - icon: mdi:robot
        - icon_color: green
        - path: ethan
        - chips:
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_ethan
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_ethan
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_ethan
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Ethan's Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.ethan_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Emma
        - entity: group.lights_emma
        - temperature: sensor.emma_temperature
        - icon: mdi:unicorn-variant
        - icon_color: purple
        - path: emma
        - chips:
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_emma
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_emma
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_emma
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Emma's Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.emma_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Guest
        - entity: light.guest_room
        - temperature: sensor.guest_room_temperature
        - icon: mdi:account
        - icon_color: cyan
        - path: guest-room
        - chips:
          - entity: light.guest_room
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: none
            type: template
          - entity: binary_sensor.guest_room_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Garage
        - entity: light.garage
        - temperature: sensor.garage_multisensor_air_temperature
        - icon: mdi:garage-variant
        - icon_color: blue-grey
        - path: garage
        - chips:
          - chip:
              card_mod:
                style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                  \ phase 1.5s ease-out infinite;\n}\n"
              icon: mdi:garage-open-variant
              icon_color: red
              tap_action:
                action: none
              type: template
            conditions:
            - entity: cover.garage_door
              state: open
            type: conditional
          - entity: light.garage
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: none
            type: template
          - entity: binary_sensor.garage_occupancy
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Outside
        - entity: group.lights_outside
        - temperature: sensor.openweathermap_temperature
        - icon: mdi:spa
        - icon_color: light-green
        - path: outside
        - chips:
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: rgb(var(--rgb-amber));\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.lights_outside
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card:
                      cards: []
                      layout_type: masonry
                      type: custom:layout-card
                    filter:
                      exclude: []
                      include:
                      - entity_id: group.lights_outside
                        options:
                          card_mod:
                            style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                              \ 0.1);\n}\n"
                          layout: horizontal
                          type: custom:mushroom-light-card
                      - group: group.lights_outside
                        options:
                          card_mod:
                            style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                          layout: horizontal
                          show_brightness_control: true
                          show_color_control: true
                          show_color_temp_control: true
                          type: custom:mushroom-light-card
                    type: custom:auto-entities
                  title: Outside Lights
                service: browser_mod.popup
            type: template
          - entity: binary_sensor.doorbell_motion
            icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
            tap_action:
              action: none
            type: template
      - template: room_card
        type: custom:decluttering-card
        variables:
        - primary: Utility
        - entity: ''
        - temperature: sensor.water_main_air_temperature
        - icon: mdi:progress-wrench
        - icon_color: brown
        - path: utility
        - chips:
          - chip:
              card_mod:
                style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                  \ phase 1.5s ease-out infinite;\n}\n"
              icon: mdi:valve-closed
              icon_color: red
              tap_action:
                action: none
              type: template
            conditions:
            - entity: switch.water_main
              state: 'off'
            type: conditional
          - chip:
              card_mod:
                style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                  \ phase 1.5s ease-out infinite;\n}\n"
              icon: mdi:water
              icon_color: blue
              tap_action:
                action: none
              type: template
            conditions:
            - entity: binary_sensor.water_leak_detected
              state: 'on'
            type: conditional
          - icon: "{% for id in range(1,8) %}\n  {% set entity_id = \"switch.rachio_zone_\"\
              \ ~ id %}\n  {% if is_state(entity_id, \"on\") %}\n    mdi:numeric-{{\
              \ id }}-circle\n  {% endif %}\n{% endfor %}"
            icon_color: light-blue
            tap_action:
              action: none
            type: template
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - card:
      cards:
      - title: XMas
        type: custom:mushroom-title-card
      - cards:
        - entity: light.xmas_tree
          hold_action:
            action: toggle
          icon: mdi:pine-tree
          name: Tree
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_wled_popup
                  type: custom:decluttering-card
                  variables:
                  - light: light.xmas_tree
                  - effect: select.xmas_tree_effect
                title: Tree
              service: browser_mod.popup
          type: custom:mushroom-light-card
        - entity: light.wled_mario_star
          hold_action:
            action: toggle
          icon: mdi:star-face
          name: Star
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_wled_popup
                  type: custom:decluttering-card
                  variables:
                  - light: light.wled_mario_star
                  - effect: select.mario_star_effect
                title: Star
              service: browser_mod.popup
          type: custom:mushroom-light-card
        - entity: switch.xmas_light
          icon: mdi:string-lights
          name: Outside
          type: custom:mushroom-light-card
        columns: 3
        square: false
        type: grid
      type: vertical-stack
    conditions:
    - entity: binary_sensor.is_xmas
      state: 'on'
    type: conditional
  icon: mdi:home-assistant
  layout:
    max_cols: 2
  path: main
  theme: Backend-selected
  title: Main
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Living Room
    - icon: mdi:sofa-single
    - icon_color: orange
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.home_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.home_temperature
        type: entity
      - entity: sensor.home_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_living_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.hallway_light
        name: Hallway
        type: custom:mushroom-light-card
      - entity: switch.front_entry_light
        name: Entry
        type: custom:mushroom-light-card
      - entity: switch.garage_entry_light
        name: Garage Entry
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: fan.living_room
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.living_room_universal
                  - shield: media_player.living_room_shield
                title: Living Room Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: remote.living_room
        icon: mdi:motion-play-outline
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Shield TV\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data:
            activity: Shield TV
          service: remote.turn_on
          target:
            entity_id: remote.living_room
        type: custom:mushroom-template-card
      - card:
          entity: remote.living_room
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: remote.turn_off
            target:
              entity_id: remote.living_room
          type: custom:mushroom-template-card
        conditions:
        - entity: remote.living_room
          state: 'on'
        type: conditional
      columns: 2
      square: false
      type: grid
    - card:
        template: universal_media
        type: custom:decluttering-card
        variables:
        - entity: media_player.living_room_universal
      conditions:
      - entity: remote.living_room
        state_not: 'off'
      type: conditional
    - entity: media_player.cast_living_room
      hide:
        power: true
        volume: true
      info: scroll
      name: Cast
      type: custom:mini-media-player
    - entity: media_player.living_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      tts:
        platform: google_cloud
      type: custom:mini-media-player
    type: vertical-stack
  icon: mdi:sofa-single
  layout:
    max_cols: 2
  path: living
  theme: Backend-selected
  title: Living
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Family Room
    - icon: mdi:gamepad-circle
    - icon_color: yellow
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.family_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.family_room_temperature
        type: entity
      - entity: binary_sensor.quest_interactive
        icon: fapro:meta
        icon_color: blue
        name: Quest
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_family_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.stair_light
        name: Stairs
        type: custom:mushroom-light-card
      - entity: script.family_room_game_light_mode
        icon: mdi:light-flood-up
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  amber\n{%- else -%}\n\
          \  grey\n{%- endif -%}"
        primary: Game Lighting
        secondary: Set lighting for Games
        tap_action:
          action: call-service
          service: script.family_room_game_light_mode
          target: {}
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.family_room_universal
                  - shield: media_player.family_room_shield
                title: Family Room Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: remote.family_room
        icon: mdi:motion-play-outline
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Shield TV\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data:
            activity: Shield TV
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: mdi:desktop-tower
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Computer\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PC
        tap_action:
          action: call-service
          data:
            activity: Computer
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: fapro:ps4
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"PS4\") -%}\n\
          \  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PS4
        tap_action:
          action: call-service
          data:
            activity: PS4
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: fapro:ps3
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"PS3\") -%}\n\
          \  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PS3
        tap_action:
          action: call-service
          data:
            activity: PS3
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: mdi:microsoft-xbox
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"XBox\")\
          \ -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: XBox
        tap_action:
          action: call-service
          data:
            activity: XBox
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - card:
          entity: remote.family_room
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: remote.turn_off
            target:
              entity_id: remote.family_room
          type: custom:mushroom-template-card
        conditions:
        - entity: remote.family_room
          state: 'on'
        type: conditional
      columns: 3
      square: false
      type: grid
    - card:
        template: universal_media
        type: custom:decluttering-card
        variables:
        - entity: media_player.family_room_universal
      conditions:
      - entity: sensor.family_room_denon_source
        state: Shield
      type: conditional
    - card:
        artwork: cover
        entity: media_player.playstation_4
        hide:
          controls: true
          mute: true
          power: true
          volume: true
        info: scroll
        type: custom:mini-media-player
      conditions:
      - entity: sensor.family_room_denon_source
        state: PS4
      type: conditional
    - card:
        entity: media_player.denon_avr_s760h
        hide:
          controls: true
          power: true
          sound_mode: false
          source: true
        icon: mdi:audio-video
        shortcuts:
          attribute: source
          buttons:
          - icon: mdi:motion-play-outline
            id: Shield
            type: source
          - icon: mdi:desktop-tower
            id: Computer
            type: source
          - icon: fapro:ps4
            id: PS4
            type: source
          - icon: fapro:ps3
            id: PS3
            type: source
          - icon: mdi:microsoft-xbox
            id: XBox
            type: source
          columns: 5
        type: custom:mini-media-player
      conditions:
      - entity: sensor.family_room_denon_source
        state_not: 'off'
      type: conditional
    - entity: media_player.cast_family_room
      hide:
        power: true
        volume: true
      info: scroll
      name: Cast
      type: custom:mini-media-player
    - entity: media_player.family_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      tts:
        platform: google_cloud
      type: custom:mini-media-player
    type: vertical-stack
  - cards:
    - title: Dreamscreen
      type: custom:mushroom-title-card
    - cards:
      - entity: dreamscreen.family_room
        icon: mdi:television
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 1) -%}\n  purple\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Video
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 1
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:music-note
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 2) -%}\n  blue\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Music
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 2
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:lightbulb-on
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 3) -%}\n  amber\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Ambient
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 3
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      type: horizontal-stack
    - card:
        entity: dreamscreen.family_room
        icon: mdi:power
        icon_color: red
        primary: Power
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 0
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      conditions:
      - entity: dreamscreen.family_room
        state: 'on'
      type: conditional
    - card:
        entities:
        - input_select.dreamscreen_family_room_scene
        type: entities
      conditions:
      - entity: sensor.ds_family_room_mode
        state: Ambient
      type: conditional
    type: vertical-stack
  icon: mdi:gamepad-circle
  layout:
    max_cols: 2
  path: family
  theme: Backend-selected
  title: Family
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Office
    - icon: mdi:chair-rolling
    - icon_color: blue
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.office_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.office_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: purple
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_office
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.office_light
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_light
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_desk_led
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_desk_led
              - effect: select.office_desk_led_effect
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: switch.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - entity: media_player.office_speaker
    hide:
      power: true
    icon: mdi:dots-horizontal-circle
    info: scroll
    name: Google Home
    tts:
      platform: google_cloud
    type: custom:mini-media-player
  icon: mdi:chair-rolling
  layout:
    max_cols: 2
  path: office
  theme: Backend-selected
  title: Office
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Kitchen
    - icon: mdi:fridge-variant
    - icon_color: lime
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.kitchen_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.kitchen_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_kitchen
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.dining_room_light
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:fridge-variant
  layout:
    max_cols: 2
  path: kitchen
  theme: Backend-selected
  title: Kitchen
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Master Bedroom
    - icon: mdi:bed-king
    - icon_color: deep-purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.master_bedroom_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.master_bedroom_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_master_bedroom
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - entity: fan.master_bedroom
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.master_bedroom_universal
                  - shield: media_player.master_bedroom_shield
                title: Master Bedroom Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: remote.master_bedroom
        icon: mdi:motion-play-outline
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Shield TV\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data:
            activity: Shield TV
          service: remote.turn_on
          target:
            entity_id: remote.master_bedroom
        type: custom:mushroom-template-card
      - card:
          entity: remote.master_bedroom
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: remote.turn_off
            target:
              entity_id: remote.master_bedroom
          type: custom:mushroom-template-card
        conditions:
        - entity: remote.master_bedroom
          state: 'on'
        type: conditional
      columns: 2
      square: false
      type: grid
    - card:
        template: universal_media
        type: custom:decluttering-card
        variables:
        - entity: media_player.master_bedroom_universal
        - buttons:
          - icon: mdi:plex
            id: com.plexapp.android
            name: Plex
            type: source
          - icon: mdi:netflix
            id: com.netflix.ninja
            name: Netflix
            type: source
          - icon: fab:amazon
            id: com.amazon.amazonvideo.livingroom
            name: Prime
            type: source
          - icon: mdi:youtube
            id: com.google.android.youtube.tv
            name: YouTube
            type: source
          - icon: mdi:spotify
            id: com.spotify.tv.android
            name: Spotify
            type: source
          - icon: mdi:twitch
            id: tv.twitch.android.viewer
            name: Twitch
            type: source
          - icon: fapro:crunchyroll
            id: com.crunchyroll.crunchyroid
            name: Crunchyroll
            type: source
          - icon: mdi:apps
            id: com.google.android.tvlauncher
            name: Home
            type: source
      conditions:
      - entity: remote.master_bedroom
        state_not: 'off'
      type: conditional
    - entity: media_player.cast_master_bedroom
      hide:
        power: true
        volume: true
      info: scroll
      name: Cast
      type: custom:mini-media-player
    type: vertical-stack
  icon: mdi:bed-king
  layout:
    max_cols: 2
  path: master
  theme: Backend-selected
  title: Master
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ethan
    - icon: mdi:robot
    - icon_color: green
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.ethan_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.ethan_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_ethan
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.ethans_lamp
      name: Lamp
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:robot
  layout:
    max_cols: 2
  path: ethan
  theme: Backend-selected
  title: Ethan
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Emma
    - icon: mdi:unicorn-variant
    - icon_color: purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.emma_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.emma_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_emma
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:unicorn-variant
  layout:
    max_cols: 2
  path: emma
  theme: Backend-selected
  title: Emma
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Guest
    - icon: mdi:account
    - icon_color: cyan
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.guest_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.guest_room_temperature
        type: entity
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.guest_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:account
  layout:
    max_cols: 2
  path: guest-room
  theme: Backend-selected
  title: Guest Room
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Garage
    - icon: mdi:garage-variant
    - icon_color: blue-grey
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.garage_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.garage_multisensor_air_temperature
        type: entity
      - entity: sensor.garage_multisensor_humidity
        type: entity
      - entity: sensor.garage_multisensor_illuminance
        type: entity
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.garage
      name: Light
      type: custom:mushroom-light-card
    type: vertical-stack
  - entity: cover.garage_door
    layout: horizontal
    show_buttons_control: true
    tap_action:
      action: more-info
    type: custom:mushroom-cover-card
  - card_mod:
      style: "ha-card {\n  height: 85px;\n}\n"
    cards:
    - entity: binary_sensor.opengarage_vehicle_present
      icon: fapro:subaru
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- else -%}\n  red\n\
        {%- endif -%}"
      primary: Ascent {{ "not" if not is_state(entity, "on") }} in Garage
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - alignment: end
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-spacing: 0;\n  --chip-avatar-padding: 0.2375em;\n  top: -20px\n\
          }\n"
      chips:
      - entity: sensor.opengarage_distance
        icon: mdi:arrow-collapse-vertical
        type: entity
      - entity: sensor.opengarage_rssi
        type: entity
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  icon: mdi:garage-variant
  layout:
    max_cols: 2
  path: garage
  theme: Backend-selected
  title: Garage
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Outside
    - icon: mdi:spa
    - icon_color: light-green
    - chips:
      - entity: sensor.openweathermap_temperature
        type: entity
      - entity: sensor.openweathermap_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_outside
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.outside_side_light
        name: Side
        type: custom:mushroom-light-card
      - entity: switch.outside_back_light
        name: Back
        type: custom:mushroom-light-card
      - entity: switch.xmas_light
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:spa
  layout:
    max_cols: 2
  path: outside
  theme: Backend-selected
  title: Outside
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Utility
    - icon: mdi:progress-wrench
    - icon_color: brown
    - chips:
      - entity: sensor.water_main_air_temperature
        type: entity
  - cards:
    - title: Water
      type: custom:mushroom-title-card
    - card:
        type: vertical-stack
      card_param: cards
      filter:
        exclude:
        - entity_id: binary_sensor.water_leak_detected
        - state: 'off'
        - state: unavailable
        - state: unknown
        include:
        - attributes:
            device_class: moisture
          entity_id: binary_sensor.*leak*
          options:
            type: custom:mushroom-entity-card
      sort:
        method: state
      type: custom:auto-entities
    - entity: switch.water_main
      hold_action:
        action: toggle
      icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:valve-open\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  mdi:valve-closed\n{%- else -%}\n  mdi:valve\n{%- endif -%}"
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  red\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: Water Main Valve
      secondary: "{%- if is_state(entity, \"on\") -%}\n  Press and Hold to close\n\
        {%- elif is_state(entity, \"off\") -%}\n  Press and Hold to open\n{%- endif\
        \ -%}"
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - animation:
        state: 'on'
      decimal: 1
      entities:
      - entity: sensor.salt_level
        name: Water Softener Salt Level
      name: Water Softener Salt Level
      positions:
        indicator: inside
      severity:
      - color: rgb(var(--rgb-red-color))
        from: 0
        to: 20
      - color: rgb(var(--rgb-orange-color))
        from: 20
        to: 40
      - color: rgb(var(--rgb-amber-color))
        from: 40
        to: 60
      - color: rgb(var(--rgb-light-green-color))
        from: 60
        to: 80
      - color: rgb(var(--rgb-green-color))
        from: 80
        to: 100
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - title: Sprinklers
      type: custom:mushroom-title-card
    - cards:
      - entity: switch.rachio_zone_1
        hold_action:
          action: toggle
        name: 1 | Front North
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_2
        hold_action:
          action: toggle
        name: 2 | Front Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_3
        hold_action:
          action: toggle
        name: 3 | North Fence
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_4
        hold_action:
          action: toggle
        name: 4 | Back Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_5
        hold_action:
          action: toggle
        name: 5 | Back South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_6
        hold_action:
          action: toggle
        name: 6 | Front South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_7
        hold_action:
          action: toggle
        name: 7 | Flower Beds
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_standby_mode
        hold_action:
          action: toggle
        icon_color: amber
        name: Standby
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:progress-wrench
  layout:
    max_cols: 2
  path: utility
  theme: Backend-selected
  title: Utility
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ascent
    - secondary: Press and Hold to Activate Actions
    - icon: fapro:subaru
    - icon_color: blue
    - chips:
      - entity: sensor.ascent_odometer
        type: entity
      - entity: sensor.ascent_avg_fuel_consumption
        type: entity
  - animation:
      state: 'on'
    decimal: 1
    entities:
    - entity: sensor.ascent_range
    height: 24px
    max: 345
    name: Range
    positions:
      icon: inside
      indicator: inside
    severity:
    - color: rgb(var(--rgb-red-color))
      from: 0
      to: 20
    - color: rgb(var(--rgb-orange-color))
      from: 20
      to: 40
    - color: rgb(var(--rgb-amber-color))
      from: 40
      to: 60
    - color: rgb(var(--rgb-light-green-color))
      from: 60
      to: 200
    - color: rgb(var(--rgb-green-color))
      from: 200
      to: 400
    style: "ha-card {\n  background: none;\n}\n#states {\n  padding: 8px 2px;\n}\n\
      bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}\nbar-card-backgroundbar\
      \ {\n  background-color: rgba(17, 17, 17, 1);\n}"
    type: custom:bar-card
  - cards:
    - title: Actions
      type: custom:mushroom-title-card
    - cards:
      - entity: script.subaru_remote_start
        hold_action:
          action: call-service
          data: {}
          service: script.turn_on
          target:
            entity_id: script.subaru_remote_start
        icon: mdi:key-wireless
        icon_color: amber
        primary: Start Car
        secondary: Open the Garage and Start the Ascent
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - bar_background: rgba(var(--rgb-grey-color), 50%)
        bar_direction: rtl
        compressed: true
        entities:
        - entity: timer.subaru_remote_start
          name: Timer
        filter: true
        invert: true
        type: custom:timer-bar-card
      type: custom:vertical-stack-in-card
    - entities:
      - select.ascent_climate_preset
      type: entities
    - cards:
      - entity: lock.ascent_door_locks
        hold_action:
          action: call-service
          service: lock.lock
          target:
            entity_id: lock.ascent_door_locks
        icon: mdi:lock
        icon_color: grey
        primary: Lock
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: lock.ascent_door_locks
        hold_action:
          action: call-service
          service: lock.unlock
          target:
            entity_id: lock.ascent_door_locks
        icon: mdi:lock-open
        icon_color: grey
        primary: Unlock
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_remote_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_remote_start
        icon: mdi:key-wireless
        icon_color: grey
        primary: Remote Start
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_remote_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_remote_stop
        icon: mdi:stop-circle-outline
        icon_color: grey
        primary: Remote Stop
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_lights_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_lights_start
        icon: mdi:lightbulb-on
        icon_color: grey
        primary: Flash Lights
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_lights_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_lights_stop
        icon: mdi:lightbulb-off
        icon_color: grey
        primary: Stop Flash Lights
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_horn_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_horn_start
        icon: mdi:volume-high
        icon_color: grey
        primary: Sound Horn
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_horn_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_horn_stop
        icon: mdi:volume-off
        icon_color: grey
        primary: Stop Horn
        tap_action:
          action: none
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Location
      type: custom:mushroom-title-card
    - cards:
      - entity: device_tracker.ascent_location
        icon_type: entity-picture
        name: Location
        primary_info: state
        secondary_info: none
        type: custom:mushroom-person-card
      - entity: binary_sensor.opengarage_vehicle_present
        icon: fapro:subaru
        icon_color: '{{ iif(is_state(entity, "on"), "green", "red") }}'
        primary: '{{ iif(is_state(entity, "on"), "In Garage", "Not in Garage") }}'
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    - aspect_ratio: '16:9'
      dark_mode: true
      default_zoom: 12
      entities:
      - entity: device_tracker.ascent_location
      hours_to_show: 4
      type: map
    type: vertical-stack
  - card:
      cards:
      - title: Doors / Windows
        type: custom:mushroom-title-card
      - card:
          columns: 1
          square: false
          type: grid
        card_param: cards
        filter:
          exclude:
          - state: 'off'
          - state: unavailable
          include:
          - entity_id: binary_sensor.ascent_*_door
            options:
              type: custom:mushroom-entity-card
          - entity_id: binary_sensor.ascent_*_window
            options:
              type: custom:mushroom-entity-card
        type: custom:auto-entities
      type: vertical-stack
    conditions:
    - entity: binary_sensor.ascent_doors_windows
      state: 'on'
    type: conditional
  - cards:
    - title: Tire Pressure
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.ascent_tire_pressure_fl
        max: 40
        min: 25
        name: Front Left
        needle: true
        segments:
        - color: rgb(var(--rgb-red-color))
          from: 25
        - color: rgb(var(--rgb-yellow-color))
          from: 28
        - color: rgb(var(--rgb-green-color))
          from: 30
        - color: rgb(var(--rgb-yellow-color))
          from: 35
        - color: rgb(var(--rgb-red-color))
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_fr
        max: 40
        min: 25
        name: Front Right
        needle: true
        segments:
        - color: rgb(var(--rgb-red-color))
          from: 25
        - color: rgb(var(--rgb-yellow-color))
          from: 28
        - color: rgb(var(--rgb-green-color))
          from: 30
        - color: rgb(var(--rgb-yellow-color))
          from: 35
        - color: rgb(var(--rgb-red-color))
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_rl
        max: 40
        min: 25
        name: Rear Left
        needle: true
        segments:
        - color: rgb(var(--rgb-red-color))
          from: 25
        - color: rgb(var(--rgb-yellow-color))
          from: 28
        - color: rgb(var(--rgb-green-color))
          from: 30
        - color: rgb(var(--rgb-yellow-color))
          from: 35
        - color: rgb(var(--rgb-red-color))
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_rr
        max: 40
        min: 25
        name: Rear Right
        needle: true
        segments:
        - color: rgb(var(--rgb-red-color))
          from: 25
        - color: rgb(var(--rgb-yellow-color))
          from: 28
        - color: rgb(var(--rgb-green-color))
          from: 30
        - color: rgb(var(--rgb-yellow-color))
          from: 35
        - color: rgb(var(--rgb-red-color))
          from: 37
        type: gauge
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Update Data
      type: custom:mushroom-title-card
    - cards:
      - entity: button.ascent_refresh
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_refresh
        icon: mdi:refresh
        icon_color: grey
        primary: Refresh
        secondary: Get from server
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_locate
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_locate
        icon: mdi:car-connected
        icon_color: grey
        primary: Poll
        secondary: Get instant data
        tap_action:
          action: none
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: fapro:subaru
  layout:
    max_cols: 2
  path: subaru
  theme: Backend-selected
  title: Subaru
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Computers
    - secondary: Press and Hold to Activate Actions
    - icon: mdi:desktop-tower
    - icon_color: grey
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ardena
      - subtitle: R5-5600X | RTX 3080 | 750W
      - chips:
        - card_mod:
            style:
              .: "ha-card {\n  {% if is_state('switch.computer_exhaust_fan', 'on')\
                \ %}\n  animation: rotation 1.5s linear infinite;\n  {% endif %}\n\
                }\n@keyframes rotation {\n  100% {\n    transform: rotate(-360deg);\n\
                \  }\n}\n"
          entity: switch.computer_exhaust_fan
          icon: mdi:fan
          icon_color: "{% if is_state(entity, 'on') %}\n  green\n{% else %}\n  disabled\n\
            {% endif %}"
          type: template
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.ardena_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.ardena_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: ardena
    - card:
        entity: media_player.ardena
        hide:
          power: true
          source: true
        icon: mdi:desktop-tower
        info: scroll
        name: Ardena
        type: custom:mini-media-player
        volume_stateless: true
      conditions:
      - entity: media_player.ardena
        state_not: unavailable
      - entity: media_player.ardena
        state_not: 'off'
      type: conditional
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: binary_sensor.ardena_connected
      - name: Ardena Up-Time
      - icon: mdi:connection
      - dropdown: input_boolean.dropdown_computer_ardena
      - graph_1_name: CPU
      - graph_1_icon: mdi:cpu-64-bit
      - graph_1_entities:
        - color: rgb(var(--rgb-amber-color))
          entity: sensor.ardena_cpu_load
          name: Usage
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-lime-color))
          entity: sensor.ardena_cpu_clock_speed
          name: Speed
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_2_name: GPU
      - graph_2_icon: mdi:expansion-card
      - graph_2_entities:
        - color: rgb(var(--rgb-green-color))
          entity: sensor.ardena_gpu_load
          name: Load
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-pink-color))
          entity: sensor.ardena_gpu_temperature
          name: Temperature
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_3_name: Storage
      - graph_3_icon: mdi:harddisk
      - graph_3_entities:
        - attribute: UsedSpacePercentage
          color: rgb(var(--rgb-blue-color))
          entity: sensor.ardena_storage_c
          name: Win10
          show_points: false
          show_state: true
          unit: '%'
      - graph_4_name: RAM
      - graph_4_icon: mdi:memory
      - graph_4_entities:
        - color: rgb(var(--rgb-purple-color))
          entity: sensor.ardena_memory_usage
          name: Usage
          show_points: false
          show_state: true
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Erebus
      - subtitle: R5-5600X | RX 580 | 650W
      - card_mod:
          style:
            .: "ha-card {\n  transform: translateY(30%);\n}\n"
        chips:
        - chip:
            content_info: none
            entity: binary_sensor.erebus_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.erebus_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.erebus_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.erebus_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: erebus
    - card:
        entity: media_player.erebus
        hide:
          power: true
          source: true
        icon: mdi:desktop-tower
        info: scroll
        name: Erebus
        type: custom:mini-media-player
        volume_stateless: true
      conditions:
      - entity: media_player.erebus
        state_not: unavailable
      - entity: media_player.erebus
        state_not: 'off'
      type: conditional
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: binary_sensor.erebus_connected
      - name: Erebus Up-Time
      - icon: mdi:connection
      - dropdown: input_boolean.dropdown_computer_erebus
      - graph_1_name: CPU
      - graph_1_icon: mdi:cpu-64-bit
      - graph_1_entities:
        - color: rgb(var(--rgb-amber-color))
          entity: sensor.erebus_cpu_load
          name: Usage
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-lime-color))
          entity: sensor.erebus_cpu_clock_speed
          name: Speed
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_3_name: Storage
      - graph_3_icon: mdi:harddisk
      - graph_3_entities:
        - attribute: UsedSpacePercentage
          color: rgb(var(--rgb-blue-color))
          entity: sensor.erebus_storage_c
          name: Win11
          show_points: false
          show_state: true
          unit: '%'
        - attribute: UsedSpacePercentage
          color: rgb(var(--rgb-cyan-color))
          entity: sensor.erebus_storage_b
          name: Backup
          show_points: false
          show_state: true
          unit: '%'
      - graph_4_name: RAM
      - graph_4_icon: mdi:memory
      - graph_4_entities:
        - color: rgb(var(--rgb-purple-color))
          entity: sensor.erebus_memory_usage
          name: Usage
          show_points: false
          show_state: true
    type: vertical-stack
  - cards:
    - subtitle: Virtual Reality Headset
      title: Quest 2
      type: custom:mushroom-title-card
    - animation:
        state: 'on'
      decimal: 0
      entities:
      - entity: sensor.quest_battery_level
      name: Quest 2 Battery Level
      positions:
        indicator: inside
      severity:
      - color: rgb(var(--rgb-red-color))
        from: 0
        to: 10
      - color: rgb(var(--rgb-orange-color))
        from: 10
        to: 30
      - color: rgb(var(--rgb-amber-color))
        from: 30
        to: 50
      - color: rgb(var(--rgb-light-green-color))
        from: 50
        to: 80
      - color: rgb(var(--rgb-green-color))
        from: 80
        to: 100
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}"
      type: custom:bar-card
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: binary_sensor.quest_interactive
      - name: Quest 2 Interactive
      - icon: fapro:meta
      - dropdown: input_boolean.dropdown_computer_quest
      - graph_1_name: WiFi Speed
      - graph_1_icon: mdi:wifi-arrow-left-right
      - graph_1_entities:
        - color: rgb(var(--rgb-green-color))
          entity: sensor.quest_wifi_link_speed
          show_points: false
          show_state: false
      - graph_2_name: WiFi Signal
      - graph_2_icon: mdi:wifi
      - graph_2_entities:
        - color: rgb(var(--rgb-yellow-color))
          entity: sensor.quest_wifi_signal_strength
          show_points: false
          show_state: false
      - graph_3_name: Storage
      - graph_3_icon: mdi:sd
      - graph_3_entities:
        - color: rgb(var(--rgb-blue-color))
          entity: sensor.quest_internal_storage
          name: Storage
          show_points: false
          show_state: true
      - graph_4_name: Battery Temp
      - graph_4_icon: mdi:battery-alert
      - graph_4_entities:
        - color: rgb(var(--rgb-red-color))
          entity: sensor.quest_battery_temperature
          name: Battery Temp
          show_points: false
          show_state: true
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Athos
      - subtitle: i5-6500 | GTX 1070 | 500W
      - card_mod:
          style:
            .: "ha-card {\n  transform: translateY(30%);\n}\n"
        chips:
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.athos_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.athos_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: athos
    - card:
        entity: media_player.athos
        hide:
          power: true
          source: true
        icon: mdi:desktop-tower
        info: scroll
        name: Athos
        type: custom:mini-media-player
        volume_stateless: true
      conditions:
      - entity: media_player.athos
        state_not: unavailable
      - entity: media_player.athos
        state_not: 'off'
      type: conditional
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: binary_sensor.athos_connected
      - name: Athos Up-Time
      - icon: mdi:connection
      - dropdown: input_boolean.dropdown_computer_athos
      - graph_1_name: CPU
      - graph_1_icon: mdi:cpu-64-bit
      - graph_1_entities:
        - color: rgb(var(--rgb-amber-color))
          entity: sensor.athos_cpu_load
          name: Usage
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-lime-color))
          entity: sensor.athos_cpu_clock_speed
          name: Speed
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_2_name: GPU
      - graph_2_icon: mdi:expansion-card
      - graph_2_entities:
        - color: rgb(var(--rgb-green-color))
          entity: sensor.athos_gpu_load
          name: Load
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-pink-color))
          entity: sensor.athos_gpu_temperature
          name: Temp
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_3_name: Storage
      - graph_3_icon: mdi:harddisk
      - graph_3_entities:
        - attribute: UsedSpacePercentage
          color: rgb(var(--rgb-blue-color))
          entity: sensor.athos_storage_c
          name: Win10
          show_points: false
          show_state: true
          unit: '%'
      - graph_4_name: RAM
      - graph_4_icon: mdi:memory
      - graph_4_entities:
        - color: rgb(var(--rgb-purple-color))
          entity: sensor.athos_memory_usage
          name: Usage
          show_points: false
          show_state: true
    type: vertical-stack
  - cards:
    - subtitle: Raspberry Pi 4
      title: MagicMirror
      type: custom:mushroom-title-card
    - entity: light.magicmirror
      layout: horizontal
      name: Monitor
      show_brightness_control: true
      type: custom:mushroom-light-card
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: light.magicmirror
      - name: MagicMirror Up-Time
      - icon: mdi:connection
      - dropdown: input_boolean.dropdown_computer_magicmirror
      - graph_1_name: CPU
      - graph_1_icon: mdi:cpu-64-bit
      - graph_1_entities:
        - color: rgb(var(--rgb-amber-color))
          entity: sensor.magicmirror_cpu_used
          name: Usage
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-pink-color))
          entity: sensor.magicmirror_cpu_temperature
          name: Temperature
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_2_name: RAM
      - graph_2_icon: mdi:memory
      - graph_2_entities:
        - color: rgb(var(--rgb-purple-color))
          entity: sensor.magicmirror_ram_used_percent
          name: Usage
          show_points: false
          show_state: true
      - graph_3_name: Storage
      - graph_3_icon: mdi:sd
      - graph_3_entities:
        - color: rgb(var(--rgb-blue-color))
          entity: sensor.magicmirror_disk_used_percent
          name: Storage
          show_points: false
          show_state: true
    type: vertical-stack
  - cards:
    - subtitle: Raspberry Pi 3
      title: OctoPrint
      type: custom:mushroom-title-card
    - template: uptime_card
      type: custom:decluttering-card
      variables:
      - entity: binary_sensor.octoprint_connected
      - name: OctoPrint Up-Time
      - icon: mdi:connection
      - dropdown: input_boolean.dropdown_computer_octoprint
      - graph_1_name: CPU
      - graph_1_icon: mdi:cpu-64-bit
      - graph_1_entities:
        - color: rgb(var(--rgb-amber-color))
          entity: sensor.octoprint_cpu_used
          name: Usage
          show_points: false
          show_state: true
        - color: rgb(var(--rgb-pink-color))
          entity: sensor.octoprint_cpu_temperature
          name: Temperature
          show_points: false
          show_state: true
          y_axis: secondary
      - graph_2_name: RAM
      - graph_2_icon: mdi:memory
      - graph_2_entities:
        - color: rgb(var(--rgb-purple-color))
          entity: sensor.octoprint_ram_used_percent
          name: Usage
          show_points: false
          show_state: true
      - graph_3_name: Storage
      - graph_3_icon: mdi:sd
      - graph_3_entities:
        - color: rgb(var(--rgb-blue-color))
          entity: sensor.octoprint_disk_used_percent
          name: Storage
          show_points: false
          show_state: true
    type: vertical-stack
  icon: mdi:desktop-tower
  layout:
    max_cols: 3
  path: computer
  theme: Backend-selected
  title: Computer
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Climate
    - icon: mdi:thermostat-box
    - icon_color: indigo
    - chips:
      - content: "{% if is_state(entity, \"off\") %}\n  Off\n{% else %}\n  {{ state_attr(\"\
          climate.home\", \"hvac_action\") | capitalize }}\n{% endif %}"
        entity: climate.home
        icon: mdi:thermostat-box
        icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\") %}\n\
          \  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\") %}\n\
          \  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"fan\") %}\n\
          \  amber\n{% elif is_state(entity, \"off\") %}\n  grey\n{% else %}\n  blue-grey\n\
          {% endif %}"
        tap_action:
          action: none
        type: template
  - cards:
    - card_mod:
        style: "mushroom-shape-icon {\n  {% if is_state(config.entity, 'heat_cool')\
          \ %}\n    --card-mod-icon: mdi:autorenew;\n    animation: spin 3s ease-in-out\
          \ infinite alternate;\n  {% elif is_state(config.entity, 'heat') %}\n  \
          \  --card-mod-icon: mdi:fire;\n    animation: heat 2s infinite;\n  {% elif\
          \ is_state(config.entity, 'cool') %}\n    --card-mod-icon: mdi:snowflake;\n\
          \    animation: cool 6s ease-in-out infinite;\n  {% elif is_state(config.entity,\
          \ 'dry') %}\n    --card-mod-icon: mdi:water-percent;\n    animation: dry\
          \ 1.5s linear infinite;\n  {% elif is_state(config.entity, 'fan_only') %}\n\
          \    --card-mod-icon: mdi:fan;\n    animation: spin 1s linear infinite;\n\
          \  {% else %}\n    --card-mod-icon: mdi:air-conditioner; \n  {% endif %}\n\
          \  display: flex;\n}\n@keyframes cool {\n  0%, 100% { transform: rotate(25deg);\
          \ }\n  25% { transform: rotate(-25deg); }\n  50% { transform: rotate(50deg);\
          \ }\n  75% { transform: rotate(-50deg); }\n}\n@keyframes heat {\n  0%, 100%\
          \ { --icon-color: rgba(var(--rgb-red-color), 1); }\n  10%, 90% { --icon-color:\
          \ rgba(var(--rgb-red-color), 0.8); }\n  20%, 80% { --icon-color: rgba(var(--rgb-red-color),\
          \ 0.6); }\n  30%, 70% { --icon-color: rgba(var(--rgb-red-color), 0.4); }\n\
          \  40%, 60% { --icon-color: rgba(var(--rgb-red-color), 0.2); }\n  50% {\
          \ --icon-color: rgba(var(--rgb-red-color), 0); }\n}\n@keyframes dry {\n\
          \  0%, 100% { --icon-symbol-size: 21px; }\n  10%, 90% { --icon-symbol-size:\
          \ 22px; }\n  20%, 80% { --icon-symbol-size: 23px; }\n  30%, 70% { --icon-symbol-size:\
          \ 24px; }\n  40%, 60% { --icon-symbol-size: 25px; }\n  50% { --icon-symbol-size:\
          \ 26px; }\n}\n"
      entity: climate.home
      hvac_modes:
      - heat_cool
      - heat
      - cool
      layout: horizontal
      primary_info: state
      secondary_info: last-updated
      show_temperature_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-climate-card
    - cards:
      - entity: sensor.home_temperature
        icon_color: green
        name: Inside
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.home_humidity
        icon_color: blue
        name: Humidity
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: select.ecobee_current_mode
        icon_color: purple
        name: Profile
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      columns: 3
      square: false
      type: grid
    - cardName: historycard-ecobee-mode
      graphs:
      - entities:
        - entity: sensor.ecobee_mode
        type: timeline
      header: hide
      labelAreaWidth: 0
      labelsVisible: false
      stateColors:
        Cooling: rgb(33,150,243)
        Heating: rgb(244,67,54)
        Idle: rgb(100,100,100)
      stateTextMode: auto
      tooltipShowDuration: true
      tooltipSize: slim
      type: custom:history-explorer-card
      uiLayout:
        selector: hide
        toolbar: hide
      uimode: dark
    type: custom:vertical-stack-in-card
  - cards:
    - title: Thermostat Detail
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(158,158,158)
        entity: sensor.home_temperature
        name: Indoor Temp
        yaxis_id: temp
      - attribute: target_temp_high
        color: rgb(33,150,243)
        entity: climate.home
        name: Cool Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: target_temp_low
        color: rgb(255,152,0)
        entity: climate.home
        name: Heat Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: temperature
        color: rgb(33,150,243)
        entity: climate.home
        name: Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - color: rgb(0,150,136)
        entity: sensor.home_humidity
        name: Indoor Humidity
        yaxis_id: perc
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_humidity
        name: Garage Humidity
        yaxis_id: perc
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
        decimals: 0
        id: temp
        max: ~85
        min: ~65
      - apex_config:
          tickAmount: 4
        decimals: 0
        id: perc
        max: ~50
        min: ~10
        opposite: true
    type: vertical-stack
  - cards:
    - title: Temperatures
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(255,152,0)
        entity: sensor.home_temperature
        name: Home
      - color: rgb(205,220,57)
        entity: sensor.kitchen_temperature
        name: Kitchen
      - color: rgb(103,58,183)
        entity: sensor.master_bedroom_temperature
        name: Master
      - color: rgb(76,175,80)
        entity: sensor.ethan_temperature
        name: Ethan
      - color: rgb(156,39,176)
        entity: sensor.emma_temperature
        name: Emma
      - color: rgb(255,235,59)
        entity: sensor.family_room_temperature
        name: Family Room
      - color: rgb(33,150,243)
        entity: sensor.office_temperature
        name: Office
      - color: rgb(0,188,212)
        entity: sensor.guest_room_temperature
        name: Guest Room
      - color: rgb(121,85,72)
        entity: sensor.water_main_air_temperature
        name: Utility
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_air_temperature
        name: Garage
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
        decimals: 0
        max: ~78
        min: ~65
    type: vertical-stack
  icon: mdi:thermostat-box
  layout:
    max_cols: 2
  path: climate
  theme: Backend-selected
  title: Climate
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Light Control
    - icon: mdi:lightbulb-group
    - icon_color: amber
    - chips:
      - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
          "==", "on") | list | count }}'
        entity: group.all_light_switches
        hold_action:
          action: call-service
          data: {}
          service: homeassistant.turn_off
          target:
            entity_id: group.all_light_switches
        icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "amber", "grey") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card:
                  cards: []
                  layout_type: masonry
                  type: custom:layout-card
                filter:
                  exclude: []
                  include:
                  - entity_id: group.all_light_switches
                    options:
                      card_mod:
                        style: "ha-card {\n  background: rgba(var(--rgb-state-light),\
                          \ 0.1);\n}\n"
                      layout: horizontal
                      secondary_info: none
                      tap_action:
                        action: toggle
                      type: custom:mushroom-light-card
                  - group: group.all_light_switches
                    options:
                      card_mod:
                        style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
                      layout: horizontal
                      show_brightness_control: true
                      show_color_control: true
                      show_color_temp_control: true
                      type: custom:mushroom-light-card
                sort:
                  method: friendly_name
                type: custom:auto-entities
              title: Lights
            service: browser_mod.popup
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Living Room
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_living_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Living Room
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.hallway_light
        name: Hallway
        type: custom:mushroom-light-card
      - entity: switch.front_entry_light
        name: Entry
        type: custom:mushroom-light-card
      - entity: switch.garage_entry_light
        name: Garage Entry
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Kitchen
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_kitchen
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Kitchen
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.dining_room_light
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Office
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: purple
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_office
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.office_light
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_light
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_desk_led
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_desk_led
              - effect: select.office_desk_led_effect
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: switch.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Family Room
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_family_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Family Room
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.stair_light
      name: Stairs
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Master Bedroom
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_master_bedroom
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ethan's Room
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_ethan
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.ethans_lamp
      name: Lamp
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Emma's Room
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_emma
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Outside
      - chips:
        - content: '{{ expand(state_attr(entity, "entity_id")) | selectattr("state",
            "==", "on") | list | count }} / {{ expand(state_attr(entity, "entity_id"))
            | list | count }}'
          entity: group.lights_outside
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.outside_side_light
        name: Side
        type: custom:mushroom-light-card
      - entity: switch.outside_back_light
        name: Back
        type: custom:mushroom-light-card
      - entity: switch.xmas_light
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: light.garage
      name: Garage
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:lightbulb-group
  layout:
    max_cols: 3
  path: lights
  theme: Backend-selected
  title: Lights
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Security
    - icon: mdi:shield
    - icon_color: green
    - chips:
      - content: "{%- set ns = namespace(entities=[]) -%} {%- set open_doors = expand(state_attr(\"\
          group.all_doors\", \"entity_id\")) | selectattr(\"state\", \"==\", \"on\"\
          ) | map(attribute=\"entity_id\") | list -%} {%- for entity_id in open_doors\
          \ -%}\n  {%- set ns.entities = ns.entities + [ entity_id ] -%}\n{%- endfor\
          \ -%} {%- set security = [\n  \"lock.lock_front\",\n  \"cover.garage_door\"\
          \n] -%} {%- for entity_id in security -%}\n  {%- if is_state(entity_id,\
          \ \"open\") or is_state(entity_id, \"unlocked\") -%}\n    {%- set ns.entities\
          \ = ns.entities + [ entity_id ] -%}\n  {%- endif -%}\n{%- endfor -%} {{\
          \ \"Secure\" if ns.entities | count == 0 else \"Not Secure\" }}"
        entity: lock.lock_front
        hold_action:
          action: none
        icon: "{%- set ns = namespace(entities=[]) -%} {%- set open_doors = expand(state_attr(\"\
          group.all_doors\", \"entity_id\")) | selectattr(\"state\", \"==\", \"on\"\
          ) | map(attribute=\"entity_id\") | list -%} {%- for entity_id in open_doors\
          \ -%}\n  {%- set ns.entities = ns.entities + [ entity_id ] -%}\n{%- endfor\
          \ -%} {%- set security = [\n  \"lock.lock_front\",\n  \"cover.garage_door\"\
          \n] -%} {%- for entity_id in security -%}\n  {%- if is_state(entity_id,\
          \ \"open\") or is_state(entity_id, \"unlocked\") -%}\n    {%- set ns.entities\
          \ = ns.entities + [ entity_id ] -%}\n  {%- endif -%}\n{%- endfor -%} {{\
          \ \"mdi:shield-check\" if ns.entities | count == 0 else \"mdi:shield-alert\"\
          \ }}"
        icon_color: "{%- set ns = namespace(entities=[]) -%} {%- set open_doors =\
          \ expand(state_attr(\"group.all_doors\", \"entity_id\")) | selectattr(\"\
          state\", \"==\", \"on\") | map(attribute=\"entity_id\") | list -%} {%- for\
          \ entity_id in open_doors -%}\n  {%- set ns.entities = ns.entities + [ entity_id\
          \ ] -%}\n{%- endfor -%} {%- set security = [\n  \"lock.lock_front\",\n \
          \ \"cover.garage_door\"\n] -%} {%- for entity_id in security -%}\n  {%-\
          \ if is_state(entity_id, \"open\") or is_state(entity_id, \"unlocked\")\
          \ -%}\n    {%- set ns.entities = ns.entities + [ entity_id ] -%}\n  {%-\
          \ endif -%}\n{%- endfor -%} {{ \"green\" if ns.entities | count == 0 else\
          \ \"red\" }}"
        tap_action:
          action: none
        type: template
  - cards:
    - entity: lock.lock_front
      name: Front Door
      tap_action:
        action: more-info
      type: custom:mushroom-lock-card
    - entity: cover.garage_door
      show_buttons_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-cover-card
    columns: 2
    square: false
    type: grid
  - cards:
    - title: Cameras
      type: custom:mushroom-title-card
    - cards:
      - aspect_ratio: '16:9'
        camera_view: auto
        entity: camera.emma
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - entity: camera.emma
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: vertical-stack
              size: wide
              title: Emma
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        camera_view: auto
        entity: camera.ethan
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - entity: camera.ethan
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: vertical-stack
              size: wide
              title: Ethan
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        camera_view: auto
        entity: camera.family_room
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - entity: camera.family_room
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: vertical-stack
              size: wide
              title: Family Room
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        camera_view: auto
        entity: camera.garage
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - entity: camera.garage
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: vertical-stack
              size: wide
              title: Garage
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:10'
        camera_image: camera.doorbell
        camera_view: auto
        entities:
        - binary_sensor.doorbell_ding
        - binary_sensor.doorbell_motion
        type: picture-glance
      - cards:
        - entity: sensor.doorbell_last_ding
          icon: mdi:bell-ring
          icon_color: disabled
          primary: Last Ding
          secondary: "{% set state = state_attr(\"sensor.nominal_change_history\"\
            , \"changes\")[entity] | as_datetime -%}\n{%- if state < today_at() -\
            \ timedelta(days=6) -%}\n  More than a week ago\n{%- elif state < today_at()\
            \ - timedelta(days=1) -%}\n  {{ state.timestamp() | timestamp_custom(\"\
            %A at %-I:%M %p\") }}\n{%- elif state < today_at() -%}\n  {{ state.timestamp()\
            \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
            \ relative_time(state) }} ago\n{%- endif -%}"
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - entity: sensor.doorbell_last_motion
          icon: mdi:motion-sensor
          icon_color: disabled
          primary: Last Motion
          secondary: "{% set state = state_attr(\"sensor.nominal_change_history\"\
            , \"changes\")[entity] | as_datetime -%}\n{%- if state < today_at() -\
            \ timedelta(days=6) -%}\n  More than a week ago\n{%- elif state < today_at()\
            \ - timedelta(days=1) -%}\n  {{ state.timestamp() | timestamp_custom(\"\
            %A at %-I:%M %p\") }}\n{%- elif state < today_at() -%}\n  {{ state.timestamp()\
            \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
            \ relative_time(state) }} ago\n{%- endif -%}"
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        type: vertical-stack
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Doors
      type: custom:mushroom-title-card
    - cards:
      - badge_color: "{% if is_state(\"lock.lock_front\", \"locked\") %}\n  green\n\
          {% else %}\n  red\n{% endif %}"
        badge_icon: "{% if is_state(\"lock.lock_front\", \"locked\") %}\n  mdi:lock\n\
          {% else %}\n  mdi:lock-open\n{% endif %}"
        entity: binary_sensor.front_door_is_open
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:door-open\n{%- else -%}\n\
          \  mdi:door-closed\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") and is_state(\"input_boolean.ignore_alert_doors\"\
          , \"on\") -%}\n  yellow\n{%- elif is_state(entity, \"on\") -%}\n  red\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        multiline_secondary: true
        primary: "{%- if is_state(entity, \"on\") -%}\n  Open\n{%- else -%}\n  Closed\n\
          {%- endif %}"
        secondary: "{{ state_attr(entity, \"friendly_name\") }}\n{% set last_changed\
          \ = state_attr(\"sensor.nominal_change_history\", \"changes\")[entity] |\
          \ as_datetime -%} {%- if last_changed < today_at() - timedelta(days=6) -%}\n\
          \  More than a week ago\n{%- elif last_changed < today_at() - timedelta(days=1)\
          \ -%}\n  {{ last_changed.timestamp() | timestamp_custom(\"%A at %-I:%M %p\"\
          ) }}\n{%- elif last_changed < today_at() -%}\n  {{ last_changed.timestamp()\
          \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
          \ relative_time(last_changed) }} ago\n{%- endif -%}"
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: binary_sensor.sliding_door_is_open
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:door-sliding-open\n{%- else\
          \ -%}\n  mdi:door-sliding\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") and is_state(\"input_boolean.ignore_alert_doors\"\
          , \"on\") -%}\n  yellow\n{%- elif is_state(entity, \"on\") -%}\n  red\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        multiline_secondary: true
        primary: "{%- if is_state(entity, \"on\") -%}\n  Open\n{%- else -%}\n  Closed\n\
          {%- endif %}"
        secondary: "{{ state_attr(entity, \"friendly_name\") }}\n{% set last_changed\
          \ = state_attr(\"sensor.nominal_change_history\", \"changes\")[entity] |\
          \ as_datetime -%} {%- if last_changed < today_at() - timedelta(days=6) -%}\n\
          \  More than a week ago\n{%- elif last_changed < today_at() - timedelta(days=1)\
          \ -%}\n  {{ last_changed.timestamp() | timestamp_custom(\"%A at %-I:%M %p\"\
          ) }}\n{%- elif last_changed < today_at() -%}\n  {{ last_changed.timestamp()\
          \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
          \ relative_time(last_changed) }} ago\n{%- endif -%}"
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: binary_sensor.garage_entry_door_is_open
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:door-open\n{%- else -%}\n\
          \  mdi:door-closed\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") and is_state(\"input_boolean.ignore_alert_doors\"\
          , \"on\") -%}\n  yellow\n{%- elif is_state(entity, \"on\") -%}\n  red\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        multiline_secondary: true
        primary: "{%- if is_state(entity, \"on\") -%}\n  Open\n{%- else -%}\n  Closed\n\
          {%- endif %}"
        secondary: "{{ state_attr(entity, \"friendly_name\") }}\n{% set last_changed\
          \ = state_attr(\"sensor.nominal_change_history\", \"changes\")[entity] |\
          \ as_datetime -%} {%- if last_changed < today_at() - timedelta(days=6) -%}\n\
          \  More than a week ago\n{%- elif last_changed < today_at() - timedelta(days=1)\
          \ -%}\n  {{ last_changed.timestamp() | timestamp_custom(\"%A at %-I:%M %p\"\
          ) }}\n{%- elif last_changed < today_at() -%}\n  {{ last_changed.timestamp()\
          \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
          \ relative_time(last_changed) }} ago\n{%- endif -%}"
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: binary_sensor.garage_side_door_is_open
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:door-open\n{%- else -%}\n\
          \  mdi:door-closed\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") and is_state(\"input_boolean.ignore_alert_doors\"\
          , \"on\") -%}\n  yellow\n{%- elif is_state(entity, \"on\") -%}\n  red\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        multiline_secondary: true
        primary: "{%- if is_state(entity, \"on\") -%}\n  Open\n{%- else -%}\n  Closed\n\
          {%- endif %}"
        secondary: "{{ state_attr(entity, \"friendly_name\") }}\n{% set last_changed\
          \ = state_attr(\"sensor.nominal_change_history\", \"changes\")[entity] |\
          \ as_datetime -%} {%- if last_changed < today_at() - timedelta(days=6) -%}\n\
          \  More than a week ago\n{%- elif last_changed < today_at() - timedelta(days=1)\
          \ -%}\n  {{ last_changed.timestamp() | timestamp_custom(\"%A at %-I:%M %p\"\
          ) }}\n{%- elif last_changed < today_at() -%}\n  {{ last_changed.timestamp()\
          \ | timestamp_custom(\"Yesterday at %-I:%M %p\") }}\n{%- else -%}\n  {{\
          \ relative_time(last_changed) }} ago\n{%- endif -%}"
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Occupancy
      type: custom:mushroom-title-card
    - cards:
      - entity: binary_sensor.home_occupancy
        icon_color: light-green
        name: Home
        type: custom:mushroom-entity-card
      - entity: binary_sensor.kitchen_occupancy
        icon_color: light-green
        name: Kitchen
        type: custom:mushroom-entity-card
      - entity: binary_sensor.family_room_occupancy
        icon_color: light-green
        name: Family
        type: custom:mushroom-entity-card
      - entity: binary_sensor.master_bedroom_occupancy
        icon_color: light-green
        name: Master
        type: custom:mushroom-entity-card
      - entity: binary_sensor.emma_occupancy
        icon_color: light-green
        name: Emma
        type: custom:mushroom-entity-card
      - entity: binary_sensor.ethan_occupancy
        icon_color: light-green
        name: Ethan
        type: custom:mushroom-entity-card
      - entity: binary_sensor.guest_room_occupancy
        icon_color: light-green
        name: Guest Room
        type: custom:mushroom-entity-card
      - entity: binary_sensor.office_occupancy
        icon_color: light-green
        name: Office
        type: custom:mushroom-entity-card
      - entity: binary_sensor.garage_occupancy
        icon_color: light-green
        name: Garage
        type: custom:mushroom-entity-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:shield
  layout:
    max_cols: 3
  path: security
  theme: Backend-selected
  title: Security
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Power
    - icon: mdi:transmission-tower
    - icon_color: red
    - chips:
      - entity: sensor.pv_power
        icon: mdi:solar-power-variant
        type: entity
      - entity: sensor.load_monthly
        type: entity
      - content: '{{ iif(not is_state(entity, "unavailable"), states(entity) | float(default=0))
          }}'
        entity: sensor.month_power_cost
        hold_action:
          action: none
        icon: mdi:currency-usd
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(not is_state(entity, "unavailable"), states(entity) | int(default=0)
          ~ "%") }}'
        entity: sensor.battery_state_of_charge
        hold_action:
          action: none
        icon: "{% set value = states(entity) | int %} {% if value == 100 %}\n  mdi:battery\n\
          {% elif value < 10 %}\n  mdi:battery-outline\n{% else %}\n  mdi:battery-{{\
          \ value // 10 * 10 }}\n{% endif %}"
        icon_color: "{% set value = states(entity) | int %} {% if (value >= 75) %}\n\
          \  green\n{% elif (value >= 65) %}\n  light-green\n{% elif (value >= 55)\
          \ %}\n  lime\n{% elif (value >= 45) %}\n  yellow\n{% elif (value >= 35)\
          \ %}\n  amber\n{% elif (value >= 25) %}\n  orange\n{% elif (value >= 15)\
          \ %}\n  deep-orange\n{% else %}\n  red\n{% endif %}"
        tap_action:
          action: more-info
        type: template
  - entity: sensor.device_mode
    icon: mdi:transit-connection-variant
    name: Mode
    type: entity
  - cards:
    - title: Cost
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.minute_power_cost
        name: Minute
        type: entity
      - entity: sensor.day_power_cost
        name: Day
        type: entity
      - entity: sensor.month_power_cost
        name: Month
        type: entity
      columns: 3
      square: false
      type: grid
    - entity: select.monthly_energy
      icon: mdi:transmission-tower
      icon_color: "{%- if is_state(entity, \"summer_offpeak\") -%}\n  yellow\n{%-\
        \ elif is_state(entity, \"summer_peak\") -%}\n  red\n{%- elif is_state(entity,\
        \ \"winter_offpeak\") -%}\n  blue\n{%- elif is_state(entity, \"winter_peak\"\
        ) -%}\n  deep-orange\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: "{%- if is_state(entity, \"summer_offpeak\") -%}\n  Summer Off-Peak\n\
        {%- elif is_state(entity, \"summer_peak\") -%}\n  Summer Peak\n{%- elif is_state(entity,\
        \ \"winter_offpeak\") -%}\n  Winter Off-Peak\n{%- elif is_state(entity, \"\
        winter_peak\") -%}\n  Winter Peak\n{%- else -%}\n  Huh?\n{%- endif -%}"
      secondary: '{{ states("sensor.tariff_price") }} {{ state_attr("sensor.tariff_price",
        "unit_of_measurement") }}'
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    type: vertical-stack
  - cards:
    - cards:
      - cards:
        - title: Daily Usage
          type: custom:mushroom-title-card
        - entity: sensor.grid_net_daily
          icon: mdi:transmission-tower
          icon_color: blue
          name: Net
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_in_daily
          icon: mdi:transmission-tower-import
          icon_color: amber
          name: Import
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_out_daily
          icon: mdi:transmission-tower-export
          icon_color: green
          name: Export
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.load_daily
          icon: mdi:calendar-today
          icon_color: orange
          name: Total
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - icon: mdi:chart-sankey-variant
          icon_color: pink
          primary: Sankey Chart
          secondary: Daily
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  height: 700
                  round: 1
                  sections:
                  - entities:
                    - children:
                      - sensor.load_daily
                      - sensor.battery_in_daily
                      color: rgb(var(--rgb-purple-color))
                      entity_id: sensor.grid_in_daily
                      name: Grid Import
                      remaining:
                        color: rgb(var(--rgb-grey-color))
                        name: Inverter
                    - children:
                      - sensor.load_daily
                      color: rgb(var(--rgb-pink-color))
                      entity_id: sensor.battery_out_daily
                      name: Battery
                    - children:
                      - sensor.load_daily
                      - sensor.grid_out_daily
                      color: rgb(var(--rgb-orange-color))
                      entity_id: sensor.pv_daily
                      name: Solar
                  - entities:
                    - children:
                      - sensor.home_balance_energy
                      - sensor.air_conditioner_energy
                      - sensor.basement_bedrooms_energy
                      - sensor.bedrooms_energy
                      - sensor.dishwasher_disposal_energy
                      - sensor.dryer_energy
                      - sensor.entry_living_bath_lights_energy
                      - sensor.family_room_energy
                      - sensor.fridge_kitchen_outlets_energy
                      - sensor.furnace_energy
                      - sensor.garage_outlets_energy
                      - sensor.living_room_master_bedroom_energy
                      - sensor.mechanical_energy
                      - sensor.microwave_energy
                      - sensor.range_energy
                      - sensor.theater_room_energy
                      - sensor.washer_energy
                      color: rgb(var(--rgb-cyan-color))
                      entity_id: sensor.load_daily
                      name: Total Energy Used
                      remaining:
                        color: rgb(var(--rgb-grey-color))
                        name: Other
                    - color: rgb(var(--rgb-pink-color))
                      entity_id: sensor.battery_in_daily
                      name: Battery Charge
                    - color: rgb(var(--rgb-purple-color))
                      entity_id: sensor.grid_out_daily
                      name: Grid Export
                  - entities:
                    - entity_id: sensor.home_balance_energy
                      name: Balance
                    - entity_id: sensor.air_conditioner_energy
                      name: Air Conditioner
                    - entity_id: sensor.basement_bedrooms_energy
                      name: Basement Bedrooms
                    - entity_id: sensor.bedrooms_energy
                      name: Bedrooms
                    - entity_id: sensor.dishwasher_disposal_energy
                      name: Dishwasher / Disposal
                    - entity_id: sensor.dryer_energy
                      name: Dryer
                    - entity_id: sensor.entry_living_bath_lights_energy
                      name: Entry, Living Room, Bath Lights
                    - entity_id: sensor.family_room_energy
                      name: Family Room
                    - entity_id: sensor.fridge_kitchen_outlets_energy
                      name: Fridge / Kitchen Outlets
                    - entity_id: sensor.furnace_energy
                      name: Furnace
                    - entity_id: sensor.garage_outlets_energy
                      name: Garage Outlets
                    - entity_id: sensor.living_room_master_bedroom_energy
                      name: Living / Master Bed
                    - entity_id: sensor.microwave_energy
                      name: Microwave
                    - entity_id: sensor.mechanical_energy
                      name: Utility
                    - entity_id: sensor.range_energy
                      name: Range
                    - entity_id: sensor.theater_room_energy
                      name: Theater Room
                    - entity_id: sensor.washer_energy
                      name: Washer
                  show_names: true
                  type: custom:sankey-chart
                  unit_prefix: k
                  wide: true
                size: wide
                title: Sankey Chart
              service: browser_mod.popup
          type: custom:mushroom-template-card
        type: vertical-stack
      - cards:
        - title: Monthly Usage
          type: custom:mushroom-title-card
        - entity: sensor.grid_net_monthly
          icon: mdi:transmission-tower
          icon_color: blue
          name: Net
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_in_monthly
          icon: mdi:transmission-tower-import
          icon_color: amber
          name: Import
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_out_monthly
          icon: mdi:transmission-tower-export
          icon_color: green
          name: Export
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.load_monthly
          icon: mdi:calendar-month
          icon_color: orange
          name: Total
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - icon: mdi:chart-sankey-variant
          icon_color: pink
          primary: Sankey Chart
          secondary: Monthly
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  height: 700
                  round: 1
                  sections:
                  - entities:
                    - children:
                      - sensor.load_monthly
                      - sensor.battery_in_monthly
                      color: rgb(var(--rgb-purple-color))
                      entity_id: sensor.grid_in_monthly
                      name: Grid Import
                      remaining:
                        color: rgb(var(--rgb-grey-color))
                        name: Inverter
                    - children:
                      - sensor.load_monthly
                      color: rgb(var(--rgb-pink-color))
                      entity_id: sensor.battery_out_monthly
                      name: Battery
                    - children:
                      - sensor.load_monthly
                      - sensor.grid_out_monthly
                      color: rgb(var(--rgb-orange-color))
                      entity_id: sensor.pv_monthly
                      name: Solar
                  - entities:
                    - children:
                      - sensor.home_balance_monthly
                      - sensor.air_conditioner_monthly
                      - sensor.basement_bedrooms_monthly
                      - sensor.bedrooms_monthly
                      - sensor.dishwasher_disposal_monthly
                      - sensor.dryer_monthly
                      - sensor.entry_living_bath_lights_monthly
                      - sensor.family_room_monthly
                      - sensor.fridge_kitchen_outlets_monthly
                      - sensor.furnace_monthly
                      - sensor.garage_outlets_monthly
                      - sensor.living_room_master_bedroom_monthly
                      - sensor.mechanical_monthly
                      - sensor.microwave_monthly
                      - sensor.range_monthly
                      - sensor.theater_room_monthly
                      - sensor.washer_monthly
                      color: rgb(var(--rgb-cyan-color))
                      entity_id: sensor.load_monthly
                      name: Total Energy Used
                      remaining:
                        color: rgb(var(--rgb-grey-color))
                        name: Other
                    - color: rgb(var(--rgb-pink-color))
                      entity_id: sensor.battery_in_monthly
                      name: Battery Charge
                    - color: rgb(var(--rgb-purple-color))
                      entity_id: sensor.grid_out_monthly
                      name: Grid Export
                  - entities:
                    - entity_id: sensor.home_balance_monthly
                      name: Balance
                    - entity_id: sensor.air_conditioner_monthly
                      name: Air Conditioner
                    - entity_id: sensor.basement_bedrooms_monthly
                      name: Basement Bedrooms
                    - entity_id: sensor.bedrooms_monthly
                      name: Bedrooms
                    - entity_id: sensor.dishwasher_disposal_monthly
                      name: Dishwasher / Disposal
                    - entity_id: sensor.dryer_monthly
                      name: Dryer
                    - entity_id: sensor.entry_living_bath_lights_monthly
                      name: Entry, Living Room, Bath Lights
                    - entity_id: sensor.family_room_monthly
                      name: Family Room
                    - entity_id: sensor.fridge_kitchen_outlets_monthly
                      name: Fridge / Kitchen Outlets
                    - entity_id: sensor.furnace_monthly
                      name: Furnace
                    - entity_id: sensor.garage_outlets_monthly
                      name: Garage Outlets
                    - entity_id: sensor.living_room_master_bedroom_monthly
                      name: Living / Master Bed
                    - entity_id: sensor.microwave_monthly
                      name: Microwave
                    - entity_id: sensor.mechanical_monthly
                      name: Utility
                    - entity_id: sensor.range_monthly
                      name: Range
                    - entity_id: sensor.theater_room_monthly
                      name: Theater Room
                    - entity_id: sensor.washer_monthly
                      name: Washer
                  show_names: true
                  type: custom:sankey-chart
                  unit_prefix: k
                  wide: true
                size: wide
                title: Sankey Chart
              service: browser_mod.popup
          type: custom:mushroom-template-card
        type: vertical-stack
      type: horizontal-stack
    - cards:
      - cards:
        - cards:
          - title: Yearly Usage
            type: custom:mushroom-title-card
          - entity: sensor.grid_net_yearly
            icon: mdi:transmission-tower
            icon_color: blue
            name: Net
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_in_yearly
            icon: mdi:transmission-tower-import
            icon_color: amber
            name: Import
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_out_yearly
            icon: mdi:transmission-tower-export
            icon_color: green
            name: Export
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.load_yearly
            icon: mdi:calendar-multiple
            icon_color: orange
            name: Total
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - icon: mdi:chart-sankey-variant
            icon_color: pink
            primary: Sankey Chart
            secondary: Yearly
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    height: 700
                    round: 1
                    sections:
                    - entities:
                      - children:
                        - sensor.load_yearly
                        - sensor.battery_in_yearly
                        color: rgb(var(--rgb-purple-color))
                        entity_id: sensor.grid_in_yearly
                        name: Grid Import
                        remaining:
                          color: rgb(var(--rgb-grey-color))
                          name: Inverter
                      - children:
                        - sensor.load_yearly
                        color: rgb(var(--rgb-pink-color))
                        entity_id: sensor.battery_out_yearly
                        name: Battery
                      - children:
                        - sensor.load_yearly
                        - sensor.grid_out_yearly
                        color: rgb(var(--rgb-orange-color))
                        entity_id: sensor.pv_yearly
                        name: Solar
                    - entities:
                      - color: rgb(var(--rgb-cyan-color))
                        entity_id: sensor.load_yearly
                        name: Total Energy Used
                        remaining:
                          color: rgb(var(--rgb-grey-color))
                          name: Other
                      - color: rgb(var(--rgb-pink-color))
                        entity_id: sensor.battery_in_yearly
                        name: Battery Charge
                      - color: rgb(var(--rgb-purple-color))
                        entity_id: sensor.grid_out_yearly
                        name: Grid Export
                    show_names: true
                    type: custom:sankey-chart
                    unit_prefix: k
                    wide: true
                  size: wide
                  title: Sankey Chart
                service: browser_mod.popup
            type: custom:mushroom-template-card
          type: vertical-stack
        type: horizontal-stack
      type: vertical-stack
    type: custom:swipe-card
  - cards:
    - title: Energy Distribution
      type: custom:mushroom-title-card
    - link_dashboard: true
      type: energy-distribution
    type: vertical-stack
  - cards:
    - title: Solar Generation
      type: custom:mushroom-title-card
    - animate: true
      entities:
      - entity: sensor.pv_power
        name: PV Power
      height: 60
      hours_to_show: 12
      icon: mdi:solar-power-variant
      line_color: rgb(var(--rgb-green-color))
      line_width: 2
      lower_bound: 0
      name: Current
      points_per_hour: 12
      show:
        labels: false
      type: custom:mini-graph-card
      upper_bound: 4800
    - cards:
      - entity: sensor.pv_daily
        icon: mdi:calendar-today
        name: Today
        type: entity
      - entity: sensor.pv_monthly
        icon: mdi:calendar-month
        name: This Month
        type: entity
      - entity: sensor.pv_yearly
        icon: mdi:calendar-range
        name: This Year
        type: entity
      - entity: sensor.pv_energy
        icon: mdi:calendar-multiple
        name: Lifetime
        type: entity
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Battery
      type: custom:mushroom-title-card
    - animation:
        state: 'off'
      decimal: 1
      entities:
      - entity: sensor.battery_state_of_charge
        icon: mdi:battery-high
        max: 100
        min: 0
        name: State of Charge
        severity:
        - color: rgb(var(--rgb-red-color))
          from: 0
          to: 30
        - color: rgb(var(--rgb-orange-color))
          from: 30
          to: 50
        - color: rgb(var(--rgb-amber-color))
          from: 50
          to: 70
        - color: rgb(var(--rgb-light-green-color))
          from: 70
          to: 90
        - color: rgb(var(--rgb-green-color))
          from: 90
          to: 100
      - entity: sensor.battery_voltage
        icon: mdi:sine-wave
        max: 56
        min: 44
        name: Voltage
        severity:
        - color: rgb(var(--rgb-red-color))
          from: 44
          to: 46
        - color: rgb(var(--rgb-amber-color))
          from: 46
          to: 48
        - color: rgb(var(--rgb-green-color))
          from: 48
          to: 53
        - color: rgb(var(--rgb-amber-color))
          from: 53
          to: 54
        - color: rgb(var(--rgb-red-color))
          from: 54
          to: 56
      - entity: sensor.battery_temperature
        icon: mdi:thermometer
        max: 150
        min: -10
        name: Temperature
        severity:
        - color: rgb(var(--rgb-red-color))
          from: -10
          to: -4
        - color: rgb(var(--rgb-orange-color))
          from: -4
          to: 32
        - color: rgb(var(--rgb-amber-color))
          from: 32
          to: 42
        - color: rgb(var(--rgb-green-color))
          from: 42
          to: 100
        - color: rgb(var(--rgb-orange-color))
          from: 120
          to: 130
        - color: rgb(var(--rgb-red-color))
          from: 130
          to: 150
      height: 30px
      positions:
        indicator: inside
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}"
      type: custom:bar-card
    - cards:
      - entity: sensor.battery_power_in
        icon: mdi:battery-arrow-up
        name: Power In
        type: entity
      - entity: sensor.battery_current
        icon: mdi:battery-plus
        name: Current
        type: entity
      - entity: sensor.battery_power_out
        icon: mdi:battery-arrow-down
        name: Power Out
        type: entity
      - entity: sensor.battery_net_daily
        icon: mdi:calendar-today
        name: Daily
        type: entity
      - entity: sensor.battery_net_monthly
        icon: mdi:calendar-month
        name: Monthly
        type: entity
      - entity: sensor.battery_net_yearly
        icon: mdi:calendar-multiple
        name: Yearly
        type: entity
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - subtitle: ''
      title: Realtime Power
      type: custom:mushroom-title-card
    - subtitle: System
      title: ''
      type: custom:mushroom-title-card
    - animation:
        state: 'off'
      decimal: 1
      entities:
      - entity: sensor.grid_power
        icon: mdi:transmission-tower
        min: -4800
        name: Grid Power
        severity:
        - color: rgb(var(--rgb-light-blue-color))
          from: -4800
          to: -2400
        - color: rgb(var(--rgb-blue-color))
          from: -2399
          to: 0
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 9600
        - color: rgb(var(--rgb-light-green-color))
          from: 9600
          to: 19200
        - color: rgb(var(--rgb-amber-color))
          from: 19200
          to: 28800
        - color: rgb(var(--rgb-orange-color))
          from: 28800
          to: 38400
        - color: rgb(var(--rgb-red-color))
          from: 38400
          to: 48000
      - entity: sensor.load_power
        icon: mdi:power-plug
        name: Load Power
      - entity: sensor.pv_power
        icon: mdi:solar-power-variant
        max: 4800
        name: Solar
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 960
        - color: rgb(var(--rgb-light-green-color))
          from: 960
          to: 1920
        - color: rgb(var(--rgb-amber-color))
          from: 1920
          to: 2880
        - color: rgb(var(--rgb-orange-color))
          from: 2880
          to: 3840
        - color: rgb(var(--rgb-red-color))
          from: 3840
          to: 4800
      - entity: sensor.battery_power
        icon: mdi:battery-high
        max: 14400
        min: -14400
        name: Battery
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 960
        - color: rgb(var(--rgb-light-green-color))
          from: 960
          to: 1920
        - color: rgb(var(--rgb-amber-color))
          from: 1920
          to: 2880
        - color: rgb(var(--rgb-orange-color))
          from: 2880
          to: 3840
        - color: rgb(var(--rgb-red-color))
          from: 3840
          to: 4800
      height: 30px
      max: 48000
      min: 0
      positions:
        indicator: inside
      severity:
      - color: rgb(var(--rgb-green-color))
        from: 0
        to: 9600
      - color: rgb(var(--rgb-light-green-color))
        from: 9600
        to: 19200
      - color: rgb(var(--rgb-amber-color))
        from: 19200
        to: 28800
      - color: rgb(var(--rgb-orange-color))
        from: 28800
        to: 38400
      - color: rgb(var(--rgb-red-color))
        from: 38400
        to: 48000
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}"
      type: custom:bar-card
    - subtitle: Circuits
      title: ''
      type: custom:mushroom-title-card
    - animation:
        state: 'off'
      decimal: 1
      entities:
      - entity: sensor.home_balance_power
        icon: mdi:home-analytics
        max: 9600
        name: Home Balance
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 1920
        - color: rgb(var(--rgb-light-green-color))
          from: 1920
          to: 3840
        - color: rgb(var(--rgb-amber-color))
          from: 3840
          to: 5760
        - color: rgb(var(--rgb-orange-color))
          from: 5760
          to: 7680
        - color: rgb(var(--rgb-red-color))
          from: 7680
          to: 9600
      - entity: sensor.air_conditioner_power
        icon: mdi:air-conditioner
        max: 7200
        name: Air Conditioner
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 1440
        - color: rgb(var(--rgb-light-green-color))
          from: 1440
          to: 2880
        - color: rgb(var(--rgb-amber-color))
          from: 2880
          to: 4320
        - color: rgb(var(--rgb-orange-color))
          from: 4320
          to: 5760
        - color: rgb(var(--rgb-red-color))
          from: 5760
          to: 7200
      - entity: sensor.basement_bedrooms_power
        icon: mdi:home-floor-0
        name: Basement Bedrooms
      - entity: sensor.bedrooms_power
        icon: mdi:home-floor-1
        name: Bedrooms
      - entity: sensor.dishwasher_disposal_power
        icon: mdi:dishwasher
        name: Dishwasher / Disposal
      - entity: sensor.dryer_power
        icon: mdi:tumble-dryer
        max: 7200
        name: Dryer
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 1440
        - color: rgb(var(--rgb-light-green-color))
          from: 1440
          to: 2880
        - color: rgb(var(--rgb-amber-color))
          from: 2880
          to: 4320
        - color: rgb(var(--rgb-orange-color))
          from: 4320
          to: 5760
        - color: rgb(var(--rgb-red-color))
          from: 5760
          to: 7200
      - entity: sensor.family_room_power
        icon: mdi:gamepad-circle
        name: Family Room
      - entity: sensor.fridge_kitchen_outlets_power
        icon: mdi:fridge-variant
        name: Fridge / Kitchen Outlets
      - entity: sensor.furnace_power
        icon: mdi:hvac
        name: Furance
      - entity: sensor.entry_living_bath_lights_power
        icon: mdi:lightbulb-group
        max: 1800
        name: Entry, Living Room, Bath Lights
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 360
        - color: rgb(var(--rgb-light-green-color))
          from: 360
          to: 720
        - color: rgb(var(--rgb-amber-color))
          from: 720
          to: 1080
        - color: rgb(var(--rgb-orange-color))
          from: 1080
          to: 1440
        - color: rgb(var(--rgb-red-color))
          from: 1440
          to: 1800
      - entity: sensor.garage_outlets_power
        icon: mdi:garage-variant
        name: Garage Outlets
      - entity: sensor.living_room_master_bedroom_power
        icon: mdi:sofa-single
        name: Living / Master Bed
      - entity: sensor.microwave_power
        icon: mdi:microwave
        name: Microwave
      - entity: sensor.mechanical_power
        icon: mdi:progress-wrench
        max: 1800
        name: Utility
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 360
        - color: rgb(var(--rgb-light-green-color))
          from: 360
          to: 720
        - color: rgb(var(--rgb-amber-color))
          from: 720
          to: 1080
        - color: rgb(var(--rgb-orange-color))
          from: 1080
          to: 1440
        - color: rgb(var(--rgb-red-color))
          from: 1440
          to: 1800
      - entity: sensor.range_power
        icon: mdi:stove
        max: 9600
        name: Range
        severity:
        - color: rgb(var(--rgb-green-color))
          from: 0
          to: 1920
        - color: rgb(var(--rgb-light-green-color))
          from: 1920
          to: 3840
        - color: rgb(var(--rgb-amber-color))
          from: 3840
          to: 5760
        - color: rgb(var(--rgb-orange-color))
          from: 5760
          to: 7680
        - color: rgb(var(--rgb-red-color))
          from: 7680
          to: 9600
      - entity: sensor.theater_room_power
        icon: mdi:theater
        name: Theater Room
      - entity: sensor.washer_power
        icon: mdi:washing-machine
        name: Washer
      height: 30px
      max: 2400
      min: 0
      positions:
        indicator: inside
      severity:
      - color: rgb(var(--rgb-green-color))
        from: 0
        to: 480
      - color: rgb(var(--rgb-light-green-color))
        from: 480
        to: 960
      - color: rgb(var(--rgb-amber-color))
        from: 960
        to: 1440
      - color: rgb(var(--rgb-orange-color))
        from: 1440
        to: 1920
      - color: rgb(var(--rgb-red-color))
        from: 1920
        to: 2400
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px #0005;\n}"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - title: Voltage
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.phase_a_voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.phase_b_voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      type: horizontal-stack
    type: vertical-stack
  icon: mdi:transmission-tower
  layout:
    max_cols: 2
  path: power
  theme: Backend-selected
  title: Power
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Testing
    - icon: mdi:test-tube
    - icon_color: disabled
  icon: mdi:test-tube
  layout:
    max_cols: 2
  path: test
  theme: Backend-selected
  title: Test
  type: custom:masonry-layout
