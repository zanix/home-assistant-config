decluttering_templates:
  camera_card:
    card:
      aspect_ratio: '16:9'
      entity: '[[camera]]'
      show_name: false
      show_state: false
      tap_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              cameras:
              - camera_entity: '[[camera]]'
                go2rtc:
                  modes:
                  - webrtc
                  - mse
                  stream: '[[stream]]'
                live_provider: go2rtc
              dimensions:
                aspect_ratio_mode: dynamic
              live:
                auto_unmute: all
                draggable: false
                preload: true
              media_viewer:
                transition_effect: slide
              menu:
                buttons:
                  cameras:
                    enabled: false
                  download:
                    enabled: false
                  frigate:
                    enabled: false
                  fullscreen:
                    alignment: opposing
                    priority: 40
                  media_player:
                    enabled: false
                  microphone:
                    alignment: opposing
                    enabled: true
                    type: toggle
                  mute:
                    alignment: opposing
                    enabled: true
                  play:
                    alignment: opposing
                    enabled: true
                    priority: 45
                style: outside
              performance:
                profile: high
              timeline:
                controls:
                  thumbnails:
                    mode: below
              type: custom:frigate-card
            size: fullscreen
            title: '[[name]]'
          service: browser_mod.popup
      type: picture-entity
  chip_header:
    card:
      cards:
      - cards:
        - card_mod:
            style: "ha-card  {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-border-width: 0;\n  --chip-icon-size: 1em;\n}\n"
          chips:
          - icon: mdi:chevron-left
            tap_action:
              action: navigate
              navigation_path: '[[back_path]]'
            type: template
          type: custom:mushroom-chips-card
        - card_mod:
            style: "ha-card {\n  transition: all 0s;\n  background-color: var(--primary-background-color)\
              \ !important;\n  border-radius: var(--ha-card-border-radius, 12px) !important;\n\
              \  --chip-box-shadow: none;\n  --chip-background: none;\n  --chip-border-width:\
              \ 0;\n  --chip-spacing: 0;\n}\n"
          chips: '[[chips]]'
          type: custom:mushroom-chips-card
        layout:
          grid-template-columns: 55px auto
          grid-template-rows: auto
          margin: 0
          padding: 5px
        layout_type: custom:grid-layout
        type: custom:layout-card
      - card_mod:
          style: "ha-card {\n  transition: all 0s;\n  background: none;\n  box-shadow:\
            \ none;\n  padding: 0px 16px 8px !important;\n  margin-top: -10px !important;\n\
            \n  /* Make card non-responsive to select and pointer */\n  user-select:\
            \ none;\n  pointer-events: none;\n}\n:host {\n  --mush-icon-size: 54px;\n\
            \  --mush-card-primary-font-size: 3rem;\n  margin-left: -10px !important;\n\
            }\n"
        fill_container: true
        hold_action:
          action: none
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: '[[secondary]]'
        tap_action:
          action: none
        type: custom:mushroom-template-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - secondary: null
    - icon: mdi:select-place
    - back_path: main
    - chips: []
  computer_apps:
    card:
      cards:
      - entity: sensor.[[computer]]_app_bigbox
        hold_action:
          action: call-service
          data:
            command: '"C:\Users\PC\AppData\Local\Programs\LaunchBox\Core\BigBox.exe"'
            entity:
            - media_player.[[computer]]
          service: script.hass_agent_launch
        icon: fapro:bigbox
        icon_color: '{{ iif(int(states(entity), 0) > 0, "green", "grey") }}'
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: sensor.[[computer]]_app_steam
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files (x86)\Steam\Steam.exe"'
            entity:
            - media_player.[[computer]]
          service: script.hass_agent_launch
        icon: mdi:steam
        icon_color: '{{ iif(int(states(entity), 0) > 0, "green", "grey") }}'
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: sensor.[[computer]]_app_eadesktop
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files\Electronic Arts\EA Desktop\EA Desktop\EALauncher.exe"'
            entity:
            - media_player.[[computer]]
          service: script.hass_agent_launch
        icon: mdi:origin
        icon_color: '{{ iif(int(states(entity), 0) > 0, "green", "grey") }}'
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: sensor.[[computer]]_app_epicgames
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files (x86)\Epic Games\Launcher\Portal\Binaries\Win32\EpicGamesLauncher.exe"'
            entity:
            - media_player.[[computer]]
          service: script.hass_agent_launch
        icon: fapro:epic_games
        icon_color: '{{ iif(int(states(entity), 0) > 0, "green", "grey") }}'
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: sensor.[[computer]]_app_chrome
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files\Google\Chrome\Application\chrome.exe"'
            entity:
            - media_player.[[computer]]
          service: script.hass_agent_launch
        icon: mdi:google-chrome
        icon_color: '{{ iif(int(states(entity), 0) > 0, "green", "grey") }}'
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      horizontal: true
      type: custom:vertical-stack-in-card
  computer_power:
    card:
      cards:
      - card_mod:
          style: "{% if is_state(\"binary_sensor.[[computer]]_connected\", \"on\"\
            ) %}\nha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n{% endif\
            \ %}\n"
        entity: switch.[[computer]]
        hold_action:
          action: call-service
          service: switch.toggle
          target:
            entity_id: switch.[[computer]]
        icon: "{% if is_state(\"binary_sensor.[[computer]]_connected\", \"on\") %}\n\
          \  mdi:power\n{% else %}\n  mdi:power-off\n{% endif %}"
        icon_color: "{% if is_state(\"binary_sensor.[[computer]]_connected\", \"on\"\
          ) %}\n  green\n{% else %}\n  red\n{% endif %}"
        primary: "{% if is_state(\"binary_sensor.[[computer]]_connected\", \"off\"\
          ) %}\n  Power\n{% endif %}"
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_lock
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_lock
          icon: "{% if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) %}\n  mdi:lock\n{% else %}\n  mdi:lock-open\n{% endif %}"
          icon_color: "{% if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) %}\n  red\n{% elif is_state(\"sensor.[[computer]]_session_state\", \"\
            Unlocked\") %}\n  green\n{% else %}\n  grey\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_logoff
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_logoff
          icon: mdi:logout
          icon_color: grey
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_sleep
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_sleep
          icon: mdi:sleep
          icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_restart
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_restart
          icon: mdi:reload
          icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      horizontal: true
      type: custom:vertical-stack-in-card
  door_card:
    card:
      card_mod:
        style:
          mushroom-shape-icon$: "{% if int(states(\"[[battery_entity]]\"), 0) <= 60\
            \ %}\n{% from \"util.jinja\" import battery_color %}\n.shape {\n  /* Radial\
            \ progress bar */\n  background:\n    radial-gradient(var(--card-background-color)\
            \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--{{ battery_color(\"\
            [[battery_entity]]\") }}-color) {{ states(\"[[battery_entity]]\") }}%\
            \ 0%, var(--card-background-color) 0% 100%\n  );\n}\n.shape:after {\n\
            \  /* Add back icon shape */\n  content: \"\";\n  height: 100%;\n  width:\
            \ 100%;\n  position: absolute;\n  border-radius: var(--icon-border-radius);\n\
            \  background: var(--shape-color);\n}\n{% endif %}\n"
      entity: '[[entity]]'
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            entity: '[[battery_entity]]'
          service: browser_mod.more_info
      icon: '[[icon]]{{ iif(is_state(entity, "on"), "-open", "") }}'
      icon_color: '{{ iif(is_state(entity, "on"), "red", "green") }}'
      multiline_secondary: true
      primary: '[[name]]'
      secondary: '{% from "util.jinja" import custom_timedelta %} {{ iif(is_state(entity,
        "on"), "Open", "Closed") }}

        {{ custom_timedelta(entity) }}'
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
  four_graphs:
    card:
      cards:
      - animate: true
        entities: '[[graph_1_entities]]'
        font_size: 75
        hours_to_show: 1
        icon: '[[graph_1_icon]]'
        line_width: 8
        name: '[[graph_1_name]]'
        points_per_hour: 30
        show:
          labels: false
          labels_secondary: false
        type: custom:mini-graph-card
      - animate: true
        entities: '[[graph_2_entities]]'
        font_size: 75
        hours_to_show: 1
        icon: '[[graph_2_icon]]'
        line_width: 8
        name: '[[graph_2_name]]'
        points_per_hour: 30
        show:
          labels: false
          labels_secondary: false
        type: custom:mini-graph-card
      - animate: true
        entities: '[[graph_3_entities]]'
        font_size: 75
        hours_to_show: 1
        icon: '[[graph_3_icon]]'
        line_width: 8
        name: '[[graph_3_name]]'
        points_per_hour: 30
        show:
          labels: false
          labels_secondary: false
        type: custom:mini-graph-card
      - animate: true
        entities: '[[graph_4_entities]]'
        font_size: 75
        hours_to_show: 1
        icon: '[[graph_4_icon]]'
        line_width: 8
        name: '[[graph_4_name]]'
        points_per_hour: 30
        show:
          labels: false
          labels_secondary: false
        type: custom:mini-graph-card
      columns: 2
      square: false
      type: grid
    default:
    - graph_1_name: None
    - graph_1_icon: None
    - graph_1_entities: []
    - graph_2_name: None
    - graph_2_icon: None
    - graph_2_entities: []
    - graph_3_name: None
    - graph_3_icon: None
    - graph_3_entities: []
    - graph_4_name: None
    - graph_4_icon: None
    - graph_4_entities: []
  light_group_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
          \ 0;\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  {% if is_state(config.entity, \"on\") %}\n  background:\
            \ rgba(var(--rgb-state-light), 0.2);\n  {% endif %}\n}\n"
        entity: '[[entity]]'
        secondary_info: none
        tap_action:
          action: toggle
        type: custom:mushroom-light-card
      - card:
          cards: []
          layout_type: masonry
          type: custom:layout-card
        filter:
          include:
          - group: '[[entity]]'
            options:
              card_mod:
                style: "ha-card {\n  transition: all 0s;\n  padding: 4px 12px !important;\n\
                  \  border-width: 0;\n}\n"
              layout: horizontal
              show_brightness_control: true
              show_color_control: true
              show_color_temp_control: true
              type: custom:mushroom-light-card
        sort:
          attribute: friendly_name
        type: custom:auto-entities
      type: custom:vertical-stack-in-card
  light_wb_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
          \ 0;\n}\n"
      cards:
      - card_mod:
          style: ":host {\n  --mush-icon-size: 90px;\n}\n"
        entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
      - entity: '[[light]]'
        icon: mdi:white-balance-sunny
        layout: horizontal
        name: Temperature
        secondary_info: none
        show_color_temp_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
      type: custom:vertical-stack-in-card
  light_wled_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
          \ 0;\n}\n"
      cards:
      - card_mod:
          style: ":host {\n  --mush-icon-size: 90px;\n}\n"
        entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - card:
          colors:
          - rgb_color:
            - 255
            - 255
            - 255
          - rgb_color:
            - 255
            - 0
            - 0
          - rgb_color:
            - 255
            - 0
            - 100
          - rgb_color:
            - 255
            - 116
            - 64
          - rgb_color:
            - 255
            - 165
            - 0
          - rgb_color:
            - 255
            - 255
            - 0
          - rgb_color:
            - 8
            - 224
            - 9
          - rgb_color:
            - 0
            - 255
            - 0
          - rgb_color:
            - 153
            - 255
            - 0
          - rgb_color:
            - 29
            - 187
            - 255
          - rgb_color:
            - 0
            - 255
            - 255
          - rgb_color:
            - 169
            - 3
            - 255
          - rgb_color:
            - 255
            - 0
            - 255
          entity: '[[light]]'
          justify: around
          type: custom:rgb-light-card
        style: "ha-card {\n  padding: 20px;\n}\n"
        type: custom:mod-card
      - subtitle: Effects
        type: custom:mushroom-title-card
      - card_mod:
          style:
            mushroom-select-option-control$:
              mushroom-select$:
                mwc-menu$:
                  mwc-list$: ".mdc-deprecated-list {\n  --height-multiplier: 1.12;\n\
                    \  --select-visible-items: 5;\n  height: calc(var(--select-visible-items)\
                    \ * var(--height-multiplier) * var(--select-height));\n}\n"
                  mwc-menu-surface$: ".mdc-menu-surface {\n  --scrollbar-width: 8px;\n\
                    }\n.mdc-menu-surface::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n\
                    }\n.mdc-menu-surface::-webkit-scrollbar-thumb {\n  background:\
                    \ var(--mdc-theme-primary);\n  border-radius: calc(var(--scrollbar-width)\
                    \ / 2);\n}\n"
        entity: '[[effect]]'
        layout: horizontal
        name: Effect
        secondary_info: none
        type: custom:mushroom-select-card
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        fill_container: false
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
      - entity: '[[light]]'
        icon: mdi:palette
        layout: horizontal
        name: Color
        secondary_info: none
        show_color_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
      type: custom:vertical-stack-in-card
  media_card:
    card:
      card_mod:
        style:
          .: "ha-card {\n  background: none;\n  --ha-card-border-width: 0;\n  transform:\
            \ translate3d(0,0,0);\n  -webkit-transform: translate3d(0,0,0);\n}\nha-card:before\
            \ {\n  transform: translate3d(0,0,0);\n  -webkit-transform: translate3d(0,0,0);\n\
            \  content: \"\";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\
            \n  animation: gradient 40s ease infinite;\n\n  background:\n  {%- if\
            \ not states(\"[[entity]]\") in [\"off\", \"unknown\", \"unavailable\"\
            , \"idle\"] and state_attr(\"[[entity]]\", \"entity_picture\") -%}\n \
            \   url( '{{ state_attr('[[entity]]', \"entity_picture\") }}') center\
            \ no-repeat\n  {%- elif not states('[[entity]]') in [\"off\", \"unknown\"\
            , \"unavailable\"] -%}\n    url('/local/backgrounds/waveform2.jpg') center\
            \ no-repeat\n  {%- else -%}\n    var(--ha-card-background, var(--card-background-color,\
            \ #fff))\n  {%- endif -%};\n  background-size: 500% 500%;\n  filter: blur(100px)\
            \ saturate(200%);\n}\n@keyframes gradient {\n  0% { background-position:\
            \ 0% 50%; }\n  25% { background-position: 50% 0%; }\n  50% { background-position:\
            \ 100% 50%; }\n  75% { background-position: 50% 100%; }\n  100% { background-position:\
            \ 0% 50%; }\n"
          expander-card$: "/*.header-overlay {\n  right: initial;\n  left: 0;\n}*/\n\
            .ripple {\n  border-radius: var(--ha-dialog-border-radius);\n}\n"
      cards:
      - card_mod:
          style: "ha_card {\n  --ha-card-border-width: 0;\n}\n"
        cards:
        - card:
            cards:
            - alignment: end
              card_mod:
                style:
                  .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled), 0.15);\n\
                    \  --ha-card-box-shadow: none;\n  --chip-box-shadow: 0 0 13px\
                    \ -4px rgba(17,35,52,1);\n  --chip-border-radius: 12px;\n  --chip-height:\
                    \ 35px;\n  --chip-padding: 10px;\n  --chip-spacing: 18px;\n}\n\
                    .chip-container * {\n  margin-bottom: var(--chip-spacing) !important;\n\
                    }\n"
              chips:
              - content: "{% if state_attr(entity, \"volume_level\") %}\n  {{ (state_attr(entity,\
                  \ \"volume_level\") * 100) | round(0) }}%\n{% endif %}"
                entity: '[[entity]]'
                icon: "{% if state_attr(entity, \"is_volume_muted\") %}\n  mdi:volume-mute\n\
                  {% else %}\n  mdi:volume-source\n{% endif %}"
                tap_action:
                  action: call-service
                  data:
                    media_player: '[[entity]]'
                  service: script.media_player_mute
                type: template
              type: custom:mushroom-chips-card
            - card_mod:
                style: ":host {\n  --mush-rgb-state-media-player: var(--rgb-accent-color);\n\
                  }\nha-card {\n  --control-height: 10px;\n  transform: translate3d(0,0,0);\n\
                  \  -webkit-transform: translate3d(0,0,0);\n  background: transparent;\n\
                  \  border: none !important;\n  box-shadow: none;\n}\n"
              entity: '[[entity]]'
              icon_type: none
              primary_info: none
              secondary_info: none
              type: custom:mushroom-media-player-card
              volume_controls:
              - volume_set
            - card:
                alignment: center
                card_mod:
                  style:
                    .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled),\
                      \ 0.15);\n  --ha-card-box-shadow: none;\n  --chip-box-shadow:\
                      \ 0 0 13px -4px rgba(17,35,52,1);\n  --chip-border-radius: 12px;\n\
                      \  --chip-height: 35px;\n  --chip-padding: 10px;\n  --chip-spacing:\
                      \ 18px;\n}\n.chip-container * {\n  margin-bottom: var(--chip-spacing)\
                      \ !important;\n}\n"
                chips:
                - entity: '[[entity]]'
                  icon: mdi:volume-minus
                  tap_action:
                    action: call-service
                    service: media_player.volume_down
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: mdi:volume-plus
                  tap_action:
                    action: call-service
                    service: media_player.volume_up
                    target:
                      entity_id: '[[entity]]'
                  type: template
                type: custom:mushroom-chips-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: idle
              - entity: '[[entity]]'
                state_not: standby
              type: conditional
            layout:
              grid-template-columns: 85px auto 105px
              grid-template-rows: auto
              margin: 0
              padding: 5px
            layout_type: custom:grid-layout
            type: custom:layout-card
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: unknown
          - entity: '[[entity]]'
            state_not: 'off'
          type: conditional
        - card:
            artwork: none
            card_mod:
              style:
                mmp-shortcuts$: ".mmp-shortcuts__button {\n  --mmp-button-color: rgba(189,\
                  \ 189, 189, 0.15);\n  box-shadow: 0 0 13px -4px rgba(17,35,52,1);\n\
                  \  border-radius: 12px;\n}\n"
            entity: '[[entity]]'
            group: true
            hide:
              controls: true
              icon: true
              info: true
              name: true
              power: true
              progress: true
              source: true
              volume: true
            shortcuts:
              attribute: sound_mode
              buttons: '[[sound_buttons]]'
              columns: 3
            type: custom:mini-media-player
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: unknown
          type: conditional
        - card:
            artwork: none
            card_mod:
              style:
                mmp-shortcuts$: ".mmp-shortcuts__button {\n  --mmp-button-color: rgba(189,\
                  \ 189, 189, 0.15);\n  box-shadow: 0 0 13px -4px rgba(17,35,52,1);\n\
                  \  border-radius: 12px;\n}\n"
            entity: '[[entity]]'
            group: true
            hide:
              controls: true
              icon: true
              info: true
              name: true
              power: true
              progress: true
              source: true
              volume: true
            shortcuts:
              attribute: source
              buttons: '[[buttons]]'
              columns: 3
            type: custom:mini-media-player
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: unknown
          type: conditional
        child-padding: 0.5em
        expanded: '[[expanded]]'
        gap: 0em
        overlay-margin: 0
        padding: 0em
        title-card:
          cards:
          - card:
              card_mod:
                style: "ha-card:before {\n  transform: translate3d(0,0,0);\n  -webkit-transform:\
                  \ translate3d(0,0,0);\n  content: \"\";\n\n  {%- set app_name =\
                  \ state_attr(\"[[entity]]\", \"source\") | lower -%}\n  {%- set\
                  \ app_list = [\n    \"amazon\",\n    \"crunchyroll\",\n    \"disneynow\"\
                  ,\n    \"netflix\",\n    \"pbs kids\",\n    \"smarttube\",\n   \
                  \ \"spotify\",\n    \"youtube\",\n    \"youtube kids\"\n  ] %}\n\
                  \n  background:\n  {%- if app_name in app_list -%}\n    url('/local/logos/{{\
                  \ app_name | lower | replace(\" \", \"-\") }}.png') center no-repeat\n\
                  \  {%- elif not states(config.entity) in [\"off\", \"unknown\",\
                  \ \"unavailable\", \"idle\"] and state_attr(config.entity, \"entity_picture\"\
                  ) -%}\n    url('{{ state_attr(config.entity, \"entity_picture\"\
                  ) }}') center no-repeat\n  {%- elif \"spotify\" in config.entity\
                  \ -%}\n    url('/local/logos/spotify.png') center no-repeat\n  {%-\
                  \ else -%}\n    url('/local/logos/idle-media-player.png') center\
                  \ no-repeat\n  {%- endif -%};\n  background-size: contain;\n\n \
                  \ border-radius: var(--control-border-radius);\n  {% set media_type\
                  \ = state_attr(config.entity, 'media_content_type') %}\n  {% if\
                  \ media_type in ['tvshow'] %}\n    aspect-ratio: 16 / 9;\n    margin:\
                  \ 0px 0px 0px -45px;\n    margin-top: 1px;\n  {% elif media_type\
                  \ == 'movie' %}\n    aspect-ratio: 2 / 3;\n  {% else %}\n    aspect-ratio:\
                  \ 1 / 1;\n    width: 99%;\n  {% endif %}\n}\nha-card {\n  transform:\
                  \ translate3d(0,0,0);\n  -webkit-transform: translate3d(0,0,0);\n\
                  \  border-radius: 30px;\n  overflow: visible !important;\n  box-shadow:\
                  \ none !important;\n  background-color: transparent;\n  border:\
                  \ none !important;\n}\n"
              entity: '[[entity]]'
              fill_container: false
              icon_type: none
              primary_info: none
              secondary_info: none
              show_volume_level: false
              type: custom:mushroom-media-player-card
              use_media_artwork: false
              use_media_info: false
            conditions:
            - entity: '[[entity]]'
              state_not: unavailable
            - entity: '[[entity]]'
              state_not: unknown
            type: conditional
          - cards:
            - alignment: center
              card_mod:
                style:
                  .: "ha-card {\n  --ha-card-box-shadow: none;\n}\nh1 {\n  text-shadow:\
                    \ 0 0 5px rgba(17,35,52,1);\n}\nh2 {\n  color: var(--primary-text-color)\
                    \ !important;\n  text-shadow: 0 0 5px rgba(17,35,52,1);\n}\n"
              title: "{% set entity = \"[[entity]]\" %} {% if states(entity) in [\"\
                playing\", \"paused\", \"standby\"] %}\n  {{ states(entity) | title\
                \ }}\n{% endif %}"
              type: custom:mushroom-title-card
            - card:
                alignment: center
                card_mod:
                  style:
                    .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled),\
                      \ 0.15);\n  --ha-card-box-shadow: none;\n  --chip-box-shadow:\
                      \ 0 0 13px -4px rgba(17,35,52,1);\n  --chip-border-radius: 12px;\n\
                      \  --chip-height: 35px;\n  --chip-padding: 10px;\n  --chip-spacing:\
                      \ 18px;\n}\n.chip-container * {\n  margin-bottom: var(--chip-spacing)\
                      \ !important;\n}\n"
                chips:
                - entity: '[[entity]]'
                  icon: mdi:skip-backward
                  tap_action:
                    action: call-service
                    service: media_player.media_previous_track
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: '{{ is_state(entity, "playing") | iif("mdi:pause", "mdi:play")
                    }}'
                  tap_action:
                    action: call-service
                    service: media_player.media_play_pause
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: mdi:skip-forward
                  tap_action:
                    action: call-service
                    service: media_player.media_next_track
                    target:
                      entity_id: '[[entity]]'
                  type: template
                type: custom:mushroom-chips-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: 'off'
              - entity: '[[entity]]'
                state_not: standby
              type: conditional
            - card:
                alignment: center
                card_mod:
                  style:
                    .: "ha-card {\n  --ha-card-box-shadow: none;\n}\nh1 {\n  text-shadow:\
                      \ 0 0 5px rgba(17,35,52,1);\n}\nh2 {\n  color: var(--primary-text-color)\
                      \ !important;\n  text-shadow: 0 0 5px rgba(17,35,52,1);\n}\n"
                subtitle: "{%- set episode = \"\" -%}\n{%- if state_attr(\"[[entity]]\"\
                  , \"media_season\")\n  and state_attr(\"[[entity]]\", \"media_episode\"\
                  ) -%}\n  {%- set episode =  \"S\" ~ state_attr(\"[[entity]]\", \"\
                  media_season\") | default(\"\", true)\n    ~ \"E\" ~ state_attr(\"\
                  [[entity]]\", \"media_episode\") | default(\"\", true) -%}\n{%-\
                  \ endif -%}\n{{ [\n  state_attr(\"[[entity]]\", \"media_title\"\
                  ) | default(\"\", true) | trim,\n  state_attr(\"[[entity]]\", \"\
                  media_artist\") | default(\"\", true) | trim,\n  episode,\n  state_attr(\"\
                  [[entity]]\", \"media_series_title\") | default(\"\", true) | trim\n\
                  \  ] | reject(\"==\", \"\") | list | join(\" - \")\n}}"
                type: custom:mushroom-title-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: idle
              type: conditional
            type: vertical-stack
          columns: 2
          square: false
          type: grid
        title-card-button-overlay: true
        title-card-padding: 0em
        type: custom:expander-card
      - card_mod:
          style:
            .: "ha-card {\n  --mmp-progress-height: 10px !important;\n  --paper-progress-container-color:\
              \ transparent;\n  --paper-progress-active-color: var(--mmp-accent-color);\n\
              \  --ha-card-border-width: 0;\n  height: var(--mmp-progress-height);\n\
              }\n"
        entity: '[[entity]]'
        group: true
        hide:
          controls: true
          icon: true
          info: true
          name: true
          power: true
          source: true
          state_label: true
          volume: true
        type: custom:mini-media-player
      type: custom:vertical-stack-in-card
    default:
    - expanded: false
    - buttons:
      - icon: mdi:plex
        id: Plex
        name: Plex
        type: source
      - icon: fab:amazon
        id: Amazon
        name: Prime
        type: source
      - icon: mdi:youtube
        id: SmartTube
        name: SmartTube
        type: source
      - icon: mdi:spotify
        id: Spotify
        name: Spotify
        type: source
      - icon: mdi:twitch
        id: Twitch
        name: Twitch
        type: source
      - icon: fapro:crunchyroll
        id: Crunchyroll
        name: Crunchyroll
        type: source
      - icon: fapro:youtube_kids
        id: YouTube Kids
        name: YT Kids
        type: source
      - icon: fapro:pbs_kids
        id: PBS Kids
        name: PBS Kids
        type: source
      - icon: fapro:disney_now
        id: DisneyNow
        name: DisneyNow
        type: source
      - icon: mdi:apps
        id: Home
        name: Home
        type: source
    - sound_buttons: []
  package_delivery:
    card:
      card:
        badge_icon: "{% if int(states(entity), 0) > 9 %}\n  mdi:numeric-9-plus\n{%\
          \ elif int(states(entity), 0) > 0 %}\n  mdi:numeric-{{ states(entity) }}\n\
          {% else %}\n  mdi:numeric-0\n{% endif %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-[[icon_color]]));\n\
            \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n  background:\
            \ none;\n  box-shadow: none;\n  border: 0;\n  margin-top: 10px;\n}\n"
        entity: '[[entity]]'
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                    \ 0;\n}\n"
                cards:
                - entity: '[[entity]]'
                  icon: '[[icon]]'
                  icon_color: '[[icon_color]]'
                  primary: '[[name]]'
                  secondary: '{{ states(entity) }} {{ iif(states(entity) | default(0)
                    | int == 1, "package", "packages") }}'
                  tap_action:
                    action: more-info
                  type: custom:mushroom-template-card
                - subtitle: Tracking Numbers
                  type: custom:mushroom-title-card
                - content: "{%- set orders = state_attr(\"[[entity]]\", \"tracking_#\"\
                    ) -%} {%- if state_attr(\"[[entity]]\", \"order\") -%}\n  {%-\
                    \ set orders = state_attr(\"[[entity]]\", \"order\") -%}\n{%-\
                    \ endif -%} {% for number in orders -%}\n  <ha-icon icon=\"mdi:package-variant-closed\"\
                    ></ha-icon> [{{ number }}]({{ \"[[url]]\" | replace(\"##TRACK_ID##\"\
                    , number) }})\n{% endfor %}"
                  type: markdown
                type: custom:vertical-stack-in-card
              title: '[[name]] Tracking'
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: '[[entity]]'
        state_not: '0'
      - entity: '[[entity]]'
        state_not: unavailable
      type: conditional
  person_card:
    card:
      card_mod:
        style: "{% set state = states(\"[[person]]\") %}\nha-card {\n  {% if state\
          \ == \"not_home\" %}\n    background: rgba(244, 67, 54, 0.2)\n  {% elif\
          \ state in [\"unknown\", \"unavailable\"] %}\n    background: rgba(189,\
          \ 189, 189, 0.2)\n  {% elif state != \"home\" %}\n    background: rgba(33,\
          \ 150, 243, 0.2)\n  {% endif %};\n}\n"
      cards:
      - card_mod:
          style:
            .: "ha-card {\n  transition: all 0s;\n  padding-bottom: 0 !important;\n\
              }\nmushroom-state-info {\n  z-index: 1;\n}\nmushroom-shape-avatar {\n\
              \  position: absolute;\n  top: -30px;\n  left: -10px;\n}\nmushroom-state-info\
              \ {\n  padding-left: 50px;\n  z-index: 1;\n}\n{% set state = states(config.entity)\
              \ %}\n:host {\n  --mush-icon-size: 4.84em;\n  {% if not is_state(config.entity,\
              \ \"home\") %}\n  --ha-card-background:\n    {% if state == \"not_home\"\
              \ %}\n      rgba(244, 67, 54, 0.05)\n    {% elif state in [\"unknown\"\
              , \"unavailable\"] %}\n      rgba(189, 189, 189, 0.05)\n    {% elif\
              \ state != \"home\" %}\n      rgba(33, 150, 243, 0.05)\n    {% endif\
              \ %};\n  {% endif %}\n}\n"
        entity: '[[person]]'
        icon_type: entity-picture
        name: '[[name]]'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  box-shadow: none;\n  --ha-card-border-width: 0;\n\
                        \n  /* Increase icon size */\n  --icon-size: 72px;\n\n  /*\
                        \ Center card */\n  margin: auto;\n  width: fit-content;\n\
                        \n  /* Add padding to bottom of card */\n  padding: 0px 0px\
                        \ var(--mush-title-spacing, 12px) 0px !important;\n\n  /*\
                        \ Make card non-responsive to select and pointer */\n  user-select:\
                        \ none;\n  pointer-events: none;\n\n  transition: all 0s;\n\
                        }\n:host {\n  /* Define Person State colors. Can be added\
                        \ to theme */\n  --state-person-home: var(--green-color);\n\
                        \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
                        \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\
                        \n  /* Set Person State color */\n  --state-person:\n  {%\
                        \ if is_state(config.entity, ['home', 'not_home', 'unknown'])\
                        \ %}\n    var(--state-person-{{ states(config.entity) | replace('_',\
                        \ '-') }})\n  {% else %}\n    var(--state-person-zone)\n \
                        \ {% endif %};\n\n  /* Match styling to Mushroom Title */\n\
                        \  --mush-card-primary-font-size: var(--mush-title-font-size,\
                        \ 24px);\n  --mush-card-primary-font-weight: var(--mush-title-font-weight,\
                        \ normal);\n  --mush-card-primary-line-height: var(--ush-title-line-height,\
                        \ 1.2);\n  --mush-card-secondary-font-size: var(--mush-title-font-size,\
                        \ 16px);\n  --mush-card-secondary-font-weight: var(--mush-title-font-weight,\
                        \ normal);\n  --mush-card-secondary-line-height: var(--mush-title-line-height,\
                        \ 1.2);\n}\n"
                      mushroom-shape-avatar$: ".picture {\n  /* Style shadow around\
                        \ avatar */\n  background-color: var(--state-person);\n  box-shadow:\
                        \ 0 0 4px 2px var(--state-person);\n  margin-right: var(--mush-title-spacing,\
                        \ 12px);\n}\n"
                  entity: '[[person]]'
                  hold_action:
                    action: none
                  icon_type: entity-picture
                  layout: horizontal
                  primary_info: state
                  secondary_info: last-changed
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - cardName: historycard-[[person]]
                  card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  box-shadow: none;\n}\n"
                  graphs:
                  - entities:
                    - entity: '[[person]]'
                      process: "( state == \"home\" ) ? \"Home\"\n  : ( state == \"\
                        not_home\" ) ? \"Away\"\n  : state"
                    title: Timeline
                    type: timeline
                  header: hide
                  labelAreaWidth: 0
                  labelsVisible: false
                  stateColors:
                    Away: rgb(57,64,70)
                    Home: rgb(0,138,23)
                  stateTextMode: auto
                  tooltipShowDuration: true
                  tooltipSize: slim
                  type: custom:history-explorer-card
                  uiLayout:
                    selector: hide
                - cards:
                  - card_mod:
                      style:
                        .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                          \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                          \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                          \  margin: auto;\n\n  /* Make card non-responsive to select\
                          \ and pointer */\n  user-select: none;\n  pointer-events:\
                          \ none;\n}\n"
                    double_tap_action:
                      action: none
                    entity: '[[proximity]]'
                    hold_action:
                      action: none
                    icon: "{% if is_state_attr(entity, \"dir_of_travel\", \"towards\"\
                      ) %}\n  mdi:map-marker-left\n{% elif is_state_attr(entity, \"\
                      dir_of_travel\", \"away_from\") %}\n  mdi:map-marker-right\n\
                      {% else %}\n  mdi:map-marker-path\n{% endif %}"
                    icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"\
                      towards\") %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\"\
                      , \"away_from\") %}\n  orange\n{% else %}\n  grey\n{% endif\
                      \ %}"
                    layout: vertical
                    primary: "{% if is_state(\"[[person]]\", \"home\") %}\n  Home\n\
                      {% elif is_state(\"[[person]]\", \"not_home\") %}\n  Away\n\
                      {% else %}\n  {{ states(\"[[person]]\") }}\n{% endif %}"
                    secondary: '{{ ((states(entity) | float) / 5280) | round(1) }}
                      mi'
                    tap_action:
                      action: none
                    type: custom:mushroom-template-card
                  - badge_color: '{{ ''red'' if int(states(entity), 0) < 10 else ''light-blue''
                      }}'
                    badge_icon: "{% set charge = \"sensor.[[phone_base]]_battery_state\"\
                      \ %} {% set type = \"sensor.[[phone_base]]_charger_type\" %}\
                      \ {% if is_state(charge, \"charging\") and is_state(type, \"\
                      wireless\") %}\n  mdi:access-point\n{% elif is_state(charge,\
                      \ \"charging\") %}\n  mdi:lightning-bolt\n{% elif int(states(entity),\
                      \ 0) < 10 %}\n  mdi:exclamation-thick\n{% endif %}"
                    card_mod:
                      style:
                        .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                          \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                          \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                          \  margin: auto;\n}\nha-state-icon {\n  /* Icon charging\
                          \ animation */\n  {{ 'animation: charge 3s linear infinite;'\
                          \ if is_state(\"sensor.[[phone_base]]_battery_state\", \"\
                          charging\") }}\n}\n@keyframes charge {\n  0%, 80% { clip-path:\
                          \ inset(0 0 0 0); }\n  10% { clip-path: polygon(0% 0%, 0%\
                          \ 100%, 34% 100%, 34% 26%, 67% 26%, 67% 84%, 34% 84%, 34%\
                          \ 100%, 100% 100%, 100% 0%); }\n  20% { clip-path: polygon(0%\
                          \ 0%, 0% 100%, 34% 100%, 34% 26%, 67% 26%, 67% 74%, 34%\
                          \ 74%, 34% 100%, 100% 100%, 100% 0%); }\n  30% { clip-path:\
                          \ polygon(0% 0%, 0% 100%, 34% 100%, 34% 26%, 67% 26%, 67%\
                          \ 64%, 34% 64%, 34% 100%, 100% 100%, 100% 0%); }\n  40%\
                          \ { clip-path: polygon(0% 0%, 0% 100%, 34% 100%, 34% 26%,\
                          \ 67% 26%, 67% 54%, 34% 54%, 34% 100%, 100% 100%, 100% 0%);\
                          \ }\n  50% { clip-path: polygon(0% 0%, 0% 100%, 34% 100%,\
                          \ 34% 26%, 67% 26%, 67% 44%, 34% 44%, 34% 100%, 100% 100%,\
                          \ 100% 0%); }\n  60% { clip-path: polygon(0% 0%, 0% 100%,\
                          \ 34% 100%, 34% 26%, 67% 26%, 67% 34%, 34% 34%, 34% 100%,\
                          \ 100% 100%, 100% 0%); }\n  70% { clip-path: polygon(0%\
                          \ 0%, 0% 100%, 34% 100%, 34% 26%, 67% 26%, 67% 24%, 34%\
                          \ 24%, 34% 100%, 100% 100%, 100% 0%); }\n}\n"
                        mushroom-shape-icon$: ".shape {\n  /* Radial progress bar\
                          \ */\n  background:\n    radial-gradient(var(--card-background-color)\
                          \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--icon-color)\
                          \ {{ states(config.entity) }}% 0%, var(--card-background-color)\
                          \ 0% 100%\n  );\n}\n.shape:after {\n  /* Add back icon shape\
                          \ */\n  content: \"\";\n  height: 100%;\n  width: 100%;\n\
                          \  position: absolute;\n  border-radius: var(--icon-border-radius);\n\
                          \  background: var(--shape-color);\n}\n"
                    double_tap_action:
                      action: none
                    entity: sensor.[[phone_base]]_battery_level
                    hold_action:
                      action: none
                    icon: '{% from "util.jinja" import battery_icon %} {{ battery_icon(entity)
                      }}'
                    icon_color: "{% from \"util.jinja\" import battery_color %} {%\
                      \ if is_state(\"sensor.[[phone_base]]_battery_state\", \"charging\"\
                      ) %}\n  light-blue\n{% else %}\n  {{ battery_color(entity) }}\n\
                      {% endif %}"
                    layout: vertical
                    primary: '{{ states(entity) }}%'
                    secondary: '{{ states("sensor.[[phone_base]]_battery_state") |
                      replace(''_'', '' '') | title }}

                      '
                    tap_action:
                      action: more-info
                    type: custom:mushroom-template-card
                  - card_mod:
                      style: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                        \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                        \  margin: auto;\n}\n"
                    double_tap_action:
                      action: none
                    entity: sensor.[[phone_base]]_wifi_signal_strength
                    hold_action:
                      action: none
                    icon: '{% from "util.jinja" import wifi_icon %} {{ wifi_icon(entity,
                      "sensor.[[phone_base]]_wifi_connection") }}'
                    icon_color: cyan
                    layout: vertical
                    primary: '{{ states("sensor.[[phone_base]]_wifi_connection") }}'
                    secondary: "{% set signal_level = int(states(entity), 0) %} {%\
                      \ if signal_level != -1 %}\n  {{ signal_level }} dBm\n{% endif\
                      \ %}"
                    tap_action:
                      action: more-info
                    type: custom:mushroom-template-card
                  type: horizontal-stack
                - alignment: center
                  card_mod:
                    style: "ha-card {\n  /* Style Chip like Mushroom button */\n \
                      \ --chip-background: rgba(var(--rgb-red), 0.2);\n  --chip-border-radius:\
                      \ var(--mush-control-border-radius, 12px);\n  --chip-height:\
                      \ var(--mush-control-height, 42px);\n  --chip-box-shadow: none;\n\
                      \  user-select: none;\n}\nha-card:active {\n  /* Add effect\
                      \ to give feedback on button press */\n  --chip-background:\
                      \ rgba(var(--rgb-red), 0.4);\n}\n"
                  chips:
                  - content: Find Phone
                    hold_action:
                      action: call-service
                      confirmation:
                        text: Cancel find phone?
                      data:
                        message: clear_notification
                        tag: find-phone
                        who: '{{ "[[name]]" | lower }}'
                      service: script.notify_mobile
                    icon: mdi:target
                    icon_color: red
                    tap_action:
                      action: call-service
                      confirmation:
                        text: Are you sure you want to ring this device?
                      data:
                        channel: alarm_stream
                        importance: high
                        message: Ringing phone...
                        tag: find-phone
                        title: Find Phone
                        who: '{{ "[[name]]" | lower }}'
                      service: script.notify_mobile
                      target: {}
                    type: template
                  type: custom:mushroom-chips-card
                - card_mod:
                    style: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                      \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                      \ 0;\n\n  /* Make card non-responsive to select and pointer\
                      \ */\n  user-select: none;\n  pointer-events: none;\n}\n"
                  double_tap_action:
                    action: none
                  entity: sensor.[[phone_base]]_geocoded_location
                  hold_action:
                    action: none
                  name: Location
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - aspect_ratio: '4:3'
                  auto_fit: true
                  card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling without affecting\
                        \ child elements */\n  box-shadow: none;\n  border-width:\
                        \ 0;\n  border-radius: 0px 0px var(--ha-card-border-radius,\
                        \ 12px) var(--ha-card-border-radius, 12px);\n  transition:\
                        \ all 0s;\n}\n:host {\n  /* Define Person State colors. Can\
                        \ be added to theme */\n  --state-person-home: var(--green-color);\n\
                        \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
                        \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\
                        \n  /* Set person state color */\n  --state-person:\n  {%\
                        \ if is_state(config.entities[0].entity, ['home', 'not_home',\
                        \ 'unknown']) %}\n    var(--state-person-{{ states(config.entities[0].entity)\
                        \ | replace('_', '-') }})\n  {% else %}\n    var(--state-person-zone)\n\
                        \  {% endif %};\n}\nha-icon-button {\n  /* Position center\
                        \ button */\n  bottom: 12px;\n  left: 12px !important;\n \
                        \ top: auto !important;\n\n  /* Style center button to match\
                        \ Chip */\n  color: var(--deep-orange-color) !important;\n\
                        \  background: color-mix(in srgb, var(--deep-orange-color)\
                        \ 20%, transparent);\n  border-radius: var(--mush-chip-border-radius,\
                        \ 19px);\n  border: var(--ha-card-border-width, 1px) solid\
                        \ var(--ha-card-border-color, var(--divider-color, #e0e0e0))\
                        \ !important;\n}\n"
                      ha-icon-button $ mwc-icon-button $: "button {\n  /* Size center\
                        \ button to match Chip */\n  height: var(--mush-chip-height,\
                        \ 36px) !important;\n  width: var(--mush-chip-height, 36px)\
                        \ !important;\n  --mdc-icon-size: 22px;\n}\n"
                      ha-map $: "path:first-child {\n  /* Style accuracy radius */\n\
                        \  stroke: var(--state-person);\n  fill: color-mix(in srgb,\
                        \ var(--state-person) 50%, transparent);\n  stroke-width:\
                        \ 0px;\n}\npath:nth-child(even) {\n  /* Styling for waypoints\
                        \ */\n  stroke: var(--purple-color);\n  fill: var(--purple-color);\n\
                        \  stroke-width: 4px;\n}\npath:nth-child(odd):not(:first-child)\
                        \ {\n  /* Styling for lines */\n  stroke: var(--purple-color);\n\
                        \  stroke-width: 4px;\n}\n.leaflet-control-attribution {\n\
                        \  /* Style attribution text */\n  background: rgba(var(--rgb-card-background-color),\
                        \ 0.4) !important;\n  font-size: 10px;\n}\n.leaflet-container\
                        \ a {\n  /* Set color of zoom icons & attribution text */\n\
                        \  color: var(--secondary-text-color);\n}\n.leaflet-control-zoom-in,\n\
                        .leaflet-control-zoom-out {\n  /* Style zoom buttons like\
                        \ Chips */\n  border-radius: var(--mush-chip-border-radius,\
                        \ 19px) !important;\n  padding: 3px;\n  background: rgb(var(--rgb-secondary-text-color),\
                        \ 0.2) !important;\n  margin: 8px 12px 0px;\n  border: var(--ha-card-border-width,\
                        \ 1px) solid var(--ha-card-border-color, var(--divider-color,\
                        \ #e0e0e0)) !important;\n}\n.leaflet-top {\n  /* Move zoom\
                        \ buttons to bottom of map */\n  bottom: 0px !important;\n\
                        }\n.leaflet-control-zoom {\n  /* Allow buttons to be moved\
                        \ */\n  position: absolute !important;\n\n  /* Adjust spacing\
                        \ for border */\n  bottom: calc(2 * var(--ha-card-border-width,\
                        \ 1px) + 56px);\n\n  /* Remove extra margin */\n  margin:\
                        \ 0px !important;\n\n  /* Remove zoom control border */\n\
                        \  border: none !important;\n}\n"
                      ha-map $ ha-entity-marker $: ".marker {\n  /* Style person marker\
                        \ & adjust position to avoid blocking waypoints */\n  border:\
                        \ 3px solid var(--state-person) !important;\n  border-radius:\
                        \ 50% 50% 50% 0px !important;\n  transform: rotate(-45deg)\
                        \ translate(50%, -50%);\n  overflow: visible !important;\n\
                        \  background: var(--state-person) !important;\n}\n.entity-picture\
                        \ {\n  /* Correct orientation of person avatar */\n  transform:\
                        \ rotate(45deg);\n  border-radius: 50%;\n}\n"
                  entities:
                  - entity: '[[person]]'
                  hours_to_show: 1
                  type: map
                type: vertical-stack
              title: '[[name]]'
            service: browser_mod.popup
        type: custom:mushroom-entity-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: rgba(var(--rgb-disabled),\
            \ 0.1);\n  --chip-border-width: 0;\n  --chip-spacing: 1px;\n}\n"
        chips:
        - chip:
            double_tap_action:
              action: none
            entity: '[[proximity]]'
            hold_action:
              action: none
            icon: "{% if int(states(entity), 0) >= 400 %}\n  {% set icon = \"map-marker-distance\"\
              \ %}\n  {% if is_state_attr(entity, \"dir_of_travel\", \"towards\")\
              \ %}\n    mdi:map-marker-left\n  {% elif is_state_attr(entity, \"dir_of_travel\"\
              , \"away_from\") %}\n    mdi:map-marker-right\n  {% else %}\n    mdi:map-marker-distance\n\
              \  {% endif %}\n{% endif %}"
            icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"towards\"\
              ) %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\", \"away_from\"\
              ) %}\n  orange\n{% else %}\n  grey\n{% endif %}"
            layout: vertical
            tap_action:
              action: none
            type: template
          conditions:
          - entity: '[[person]]'
            state_not: home
          type: conditional
        - chip:
            entity: '[[media]]'
            icon: mdi:spotify
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
              \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
              ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  card_mod:
                    style:
                      .: "div.container {\n  padding: 0 !important;\n}\n"
                  content:
                    template: media_card
                    type: custom:decluttering-card
                    variables:
                    - entity: '[[media]]'
                    - buttons: []
                  title: Spotify ([[name]])
                service: browser_mod.popup
            type: template
          conditions:
          - entity: '[[media]]'
            state_not: unavailable
          type: conditional
        - entity: sensor.[[phone_base]]_wifi_signal_strength
          icon: '{% from "util.jinja" import wifi_icon %}

            {{ wifi_icon(entity, "sensor.[[phone_base]]_wifi_connection") }}'
          icon_color: blue
          tap_action:
            action: more-info
          type: template
        - entity: sensor.[[phone_base]]_battery_level
          icon: '{% from "util.jinja" import cell_battery_icon %}

            {{ cell_battery_icon(entity, "sensor.[[phone_base]]_battery_state", "sensor.[[phone_base]]_charger_type")
            }}'
          icon_color: "{% from \"util.jinja\" import battery_color %} {% if is_state(\"\
            sensor.[[phone_base]]_battery_state\", \"charging\") %}\n  light-blue\n\
            {% else %}\n  {{ battery_color(entity) }}\n{% endif %}"
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
  room_card:
    card:
      card_mod:
        style: "ha-card {\n  {% if is_state(\"[[entity]]\", \"on\") %}\n    background:\
          \ rgba([[icon_color]], 0.2);\n  {% endif %}\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  transition: all 0s;\n  padding-bottom: 0 !important;\n\
            }\nmushroom-shape-icon {\n  position: absolute;\n  top: -57px;\n  left:\
            \ -40px;\n}\nmushroom-state-info {\n  padding-left: 34px;\n  z-index:\
            \ 1;\n}\n:host {\n  --mush-icon-size: 2.84em;\n  --mush-icon-symbol-size:\
            \ 1em;\n{% if is_state(config.entity, \"on\") %}\n  --ha-card-background:\
            \ rgba([[icon_color]], 0.05);\n{% endif %}\n}\n"
        entity: '[[entity]]'
        fill_container: true
        hold_action:
          action: toggle
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: "{%- if has_value(\"[[temperature]]\") -%}\n  {{ states(\"[[temperature]]\"\
          , rounded=True, with_unit=True) }}\n{%- endif -%}\n"
        tap_action:
          action: navigate
          navigation_path: '[[path]]'
        type: custom:mushroom-template-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: rgba(var(--rgb-disabled),\
            \ 0.1);\n  --chip-border-width: 0;\n  --chip-spacing: 1px;\n}\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - entity: light.all_lights
    - icon: mdi:home-assistant
    - icon_color: disabled
    - path: main
    - chips: []
  shield_remote:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
          \ 0;\n}\n"
      cards:
      - elements:
        - entity: '[[shield]]'
          icon: mdi:power
          state_color: true
          style:
            left: 85%
            padding: 10px
            top: 6%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            data:
              command: POWER
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: state-icon
        - icon: mdi:chevron-up
          style:
            left: 50%
            padding: 0 5px
            top: 26%
            transform: translate(-50%, -50%) scale(600%, 300%)
          tap_action:
            action: call-service
            data:
              command: DPAD_UP
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-down
          style:
            left: 50%
            padding: 0 5px
            top: 58%
            transform: translate(-50%, -50%) scale(600%, 300%)
          tap_action:
            action: call-service
            data:
              command: DPAD_DOWN
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-left
          style:
            left: 21%
            padding: 3px 5px
            top: 41%
            transform: translate(-50%, -50%) scale(300%, 600%)
          tap_action:
            action: call-service
            data:
              command: DPAD_LEFT
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-right
          style:
            left: 79%
            padding: 3px 5px
            top: 41%
            transform: translate(-50%, -50%) scale(300%, 600%)
          tap_action:
            action: call-service
            data:
              command: DPAD_RIGHT
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:square-rounded-outline
          style:
            left: 50%
            top: 41%
            transform: translate(-50%, -50%) scale(750%)
          tap_action:
            action: call-service
            data:
              command: DPAD_CENTER
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - hold_action:
            action: call-service
            data:
              command: HOME
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          icon: mdi:menu
          style:
            left: 15.5%
            padding: 10px
            top: 80%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            data:
              command: MENU
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:play-pause
          style:
            left: 15.5%
            padding: 10px
            top: 91%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            data:
              command: MEDIA_PLAY_PAUSE
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-left
          style:
            left: 50%
            padding: 5px 6px 6px
            top: 85%
            transform: translate(-50%, -50%) scale(800%)
          tap_action:
            action: call-service
            data:
              command: BACK
            service: remote.send_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:plus
          style:
            left: 84.5%
            padding: 10px
            top: 80%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            service: media_player.volume_up
            target:
              entity_id: '[[universal]]'
          type: icon
        - hold_action:
            action: call-service
            service: media_player.volume_mute
            target:
              entity_id: '[[universal]]'
          icon: mdi:minus
          style:
            left: 84.5%
            padding: 10px
            top: 91%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            service: media_player.volume_down
            target:
              entity_id: '[[universal]]'
          type: icon
        image: /local/backgrounds/tv-remote.png?raw=true
        type: picture-elements
      type: custom:vertical-stack-in-card
  title_chips:
    card:
      cards:
      - title: '[[title]]'
        type: custom:mushroom-title-card
        view_layout:
          grid-area: title
      - card_mod:
          style:
            .: "h2 {\n  transition: all 0s;\n  padding: 0 16px 12px;\n}\n.header {\n\
              \  transition: all 0s;\n  --title-padding: 0;\n}\n"
        subtitle: '[[subtitle]]'
        type: custom:mushroom-title-card
        view_layout:
          grid-area: subtitle
      - alignment: end
        card_mod:
          style: "ha-card {\n  transition: all 0s;\n  transform: translateY(30%);\n\
            }\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
        view_layout:
          grid-area: chips
      layout:
        grid-template-areas: '"title chips"

          "subtitle subtitle"

          '
        grid-template-columns: auto 1fr
        margin: -4px 0 -4px 0
      layout_type: custom:grid-layout
      type: custom:layout-card
    default:
    - title: Title
    - subtitle: ''
    - chips: []
  uptime_card:
    card:
      alias:
        ko: '[[alias_ko]]'
        ok: '[[alias_ok]]'
      alignment:
        header: left
        icon_first: true
        status: spaced
      bar:
        amount: '[[amount]]'
        height: 20
        round: 0
        spacing: 1
      color:
        half: var(--blue-grey-color)
        ko: var(--disabled-color)
        none: var(--black-color)
        ok: var(--green-color)
      entity: '[[entity]]'
      hours_to_show: '[[hours]]'
      icon: '[[icon]]'
      icon_adaptive_color: true
      init:
        animation: raise
      ko: '[[ko]]'
      ko_icon: mdi:exclamation-thick
      name: '[[name]]'
      ok: '[[ok]]'
      show:
        average: true
        footer: true
        header: true
        icon: true
        status: true
        timeline: true
        title: true
      tap_action:
        action: more-info
      title_adaptive_color: true
      tooltip:
        animation: true
        hour24: false
      type: custom:uptime-card
      update_interval: 30
    default:
    - name: Uptime
    - icon: mdi:cloud-arrow-up-outline
    - ok: 'on'
    - ko: 'off'
    - hours: 72
    - amount: 72
    - alias_ok: Online
    - alias_ko: Offline
  windows_updates_list:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none\n}\n"
      content: '{%- set software = "sensor.[[computer]]_windows_updates_available_[[type]]_updates"
        -%}

        ### {{ "[[type]]" | capitalize }} Updates: {{ states(software) }}

        {% for item in state_attr(software, "WindowsUpdates") %} __{{ item.Title }}__
        <blockquote> {{ item.Description }}<br> <a href="{{ item.SupportUrl }}">Support
        Link</a>{% if item.KbArticleIDs %} | <a href="https://catalog.update.microsoft.com/Search.aspx?q={{
        item.KbArticleIDs[0] }}">KB Article</a>{% endif %} </blockquote> {% endfor
        %}'
      type: markdown
kiosk_mode:
  mobile_settings:
    hide_header: true
    ignore_entity_settings: true
title: Mechanix
views:
- badges: []
  cards:
  - cards:
    - cards:
      - card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-border-width: 0;\n  --chip-icon-size: 1em;\n}\n"
        chips:
        - type: menu
        type: custom:mushroom-chips-card
      - card_mod:
          style: "ha-card {\n  background-color: var(--primary-background-color);\n\
            \  border-radius: var(--ha-card-border-radius, 12px);\n  /*box-shadow:\
            \ var(--ha-card-box-shadow, none);*/\n  border-width: 0;\n}\n"
        cards:
        - alignment: justify
          card_mod:
            style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-border-width: 0;\n  --chip-spacing: 0;\n}\n"
          chips:
          - content: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "Secure", "Not Secure") }}'
            entity: lock.front_door
            icon: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "mdi:shield-check", "mdi:shield-alert") }}'
            icon_color: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "green", "red") }}'
            tap_action:
              action: navigate
              navigation_path: security
            type: template
          - content: '{{ states("sensor.ecobee_current_temperature", with_unit=True)
              }}'
            entity: climate.ecobee
            icon: mdi:thermostat-box
            icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\"\
              ) %}\n  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\"\
              ) %}\n  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"\
              fan\") %}\n  amber\n{% elif is_state(entity, \"off\") %}\n  disabled\n\
              {% else %}\n  blue-grey\n{% endif %}"
            tap_action:
              action: navigate
              navigation_path: climate
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: light.all_lights
            hold_action:
              action: call-service
              service: light.turn_off
              target:
                entity_id: light.all_lights
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: navigate
              navigation_path: lights
            type: template
          - content: "{% if has_value(entity) %}\n  {% set power = int(states(entity),\
              \ 0) | abs %}\n  {% if power > 1000 %}\n    {{ (power | float * 0.001)\
              \ | round(2) }} kWh\n  {% else %}\n    {{ power }} W\n  {% endif %}\n\
              {% endif %}"
            entity: sensor.sol_ark_grid_power
            icon: "{% if has_value(entity) %}\n  {% if int(states(entity), 0) < 0\
              \ %}\n    mdi:transmission-tower-export\n  {% else %}\n    mdi:transmission-tower-import\n\
              \  {% endif %}\n{% else %}\n  mdi:transmission-tower-off\n{% endif %}"
            icon_color: "{% if has_value(entity) %}\n  {% if int(states(entity), 0)\
              \ < 0 %}\n    lime\n  {% else %}\n    deep-orange\n  {% endif %}\n{%\
              \ else %}\n  disabled\n{% endif %}"
            tap_action:
              action: navigate
              navigation_path: power
            type: template
          type: custom:mushroom-chips-card
        - alignment: justify
          card_mod:
            style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-border-width: 0;\n  --chip-spacing: 0;\n}\n"
          chips:
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr(\"state\", \"==\", \"\
                  on\") | list | count }}\";\n  position: absolute;\n  color: var(--teal-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: binary_sensor.computers
            icon: mdi:desktop-tower
            icon_color: '{{ "teal" if is_state(entity, "on") else "disabled" }}'
            tap_action:
              action: navigate
              navigation_path: computer
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: var(--cyan-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: binary_sensor.all_doors
            icon: '{{ iif(is_state(entity, "on"), "mdi:door-open", "mdi:door") }}'
            icon_color: '{{ iif(is_state(entity, "on"), "cyan", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                        \ 0;\n}\n"
                    cards:
                    - card:
                        cards: []
                        layout_type: masonry
                        type: custom:layout-card
                      filter:
                        exclude: []
                        include:
                        - group: binary_sensor.all_doors
                          options:
                            card_mod:
                              style: "ha-card {\n  transition: all 0s;\n  padding:\
                                \ 4px 12px !important;\n  border-width: 0;\n}\n"
                            hold_action:
                              action: none
                            layout: horizontal
                            secondary_info: last-changed
                            tap_action:
                              action: none
                            type: custom:mushroom-entity-card
                      show_empty: false
                      sort:
                        method: friendly_name
                      type: custom:auto-entities
                    type: custom:vertical-stack-in-card
                  title: All Doors
                service: browser_mod.popup
            type: template
          - content: "{% if is_state(entity, \"on\") and has_value(\"sensor.octoprint_layer_progress\"\
              ) %}\n  {{ progress }}\n{% endif %}"
            entity: switch.octoprint_psu
            hold_action:
              action: none
            icon: mdi:printer-3d
            icon_color: '{{ iif(is_state(entity, "on"), "green", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                        \ 0;\n}\n"
                    cards:
                    - entity: switch.octoprint_psu
                      hold_action:
                        action: toggle
                      icon: "{% if is_state(entity, \"on\") %}\n  mdi:power\n{% else\
                        \ %}\n  mdi:power-off\n{% endif %}"
                      icon_color: "{% if is_state(entity, \"on\") %}\n  green\n{%\
                        \ else %}\n  grey\n{% endif %}"
                      primary: Power
                      secondary: "{% if is_state(entity, \"on\") %}\n  Press and hold\
                        \ to power off\n{% else %}\n  Press and hold to power on\n\
                        {% endif %}"
                      type: custom:mushroom-template-card
                    - camera_view: live
                      entity: camera.octoprint
                      show_name: false
                      show_state: false
                      type: picture-entity
                    - card:
                        cards:
                        - cards:
                          - card_mod:
                              style:
                                .: "ha-card {\n  background: none;\n  box-shadow:\
                                  \ none;\n  border: 0;\n  margin-top: 10px;\n}\n"
                                mushroom-shape-icon$: ".shape {\n  {% if is_state(config.entity,\
                                  \ \"on\") %}\n  --shape-animation: ping 2s infinite;\n\
                                  \  {% else %}\n  box-shadow: 0 0 1px 15px rgba(var(--rgb-grey),\
                                  \ 0.1) !important;\n  {% endif %}\n}\n@keyframes\
                                  \ ping {\n  0% { box-shadow: 0 0 1px 15px rgba(var(--rgb-yellow),\
                                  \ 0.7); }\n  100% { box-shadow: 0 0 1px 15px transparent;\
                                  \ }\n}\n"
                            entity: switch.octoprint_pause_print
                            hold_action:
                              action: toggle
                            icon: "{% if is_state(entity, \"on\") %}\n  mdi:play\n\
                              {% else %}\n  mdi:pause\n{% endif %}"
                            icon_color: "{% if is_state(entity, \"on\") %}\n  yellow\n\
                              {% else %}\n  grey\n{% endif %}"
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style:
                                .: "ha-card {\n  background: none;\n  box-shadow:\
                                  \ none;\n  border: 0;\n  margin-top: 10px;\n}\n"
                                mushroom-shape-icon$: ".shape {\n  box-shadow: 0 0\
                                  \ 1px 15px rgba(var(--rgb-{{ config.icon_color }}),\
                                  \ 0.1) !important;\n}\n"
                            entity: button.octoprint_cancel_print
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_cancel_print
                            icon: mdi:cancel
                            icon_color: amber
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style:
                                .: "ha-card {\n  background: none;\n  box-shadow:\
                                  \ none;\n  border: 0;\n  margin-top: 10px;\n}\n"
                                mushroom-shape-icon$: ".shape {\n  box-shadow: 0 0\
                                  \ 1px 15px rgba(var(--rgb-{{ config.icon_color }}),\
                                  \ 0.1) !important;\n}\n"
                            entity: button.octoprint_emergency_stop
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_emergency_stop
                            icon: mdi:alert-octagon
                            icon_color: pink
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style:
                                .: "ha-card {\n  background: none;\n  box-shadow:\
                                  \ none;\n  border: 0;\n  margin-top: 10px;\n}\n"
                                mushroom-shape-icon$: ".shape {\n  box-shadow: 0 0\
                                  \ 1px 15px rgba(var(--rgb-{{ config.icon_color }}),\
                                  \ 0.1) !important;\n}\n"
                            entity: button.octoprint_shutdown_system
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_shutdown_system
                            icon: mdi:power
                            icon_color: orange
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          type: horizontal-stack
                        - cards:
                          - cards:
                            - entity: sensor.octoprint_print_status
                              icon: mdi:printer-3d-nozzle
                              icon_color: green
                              name: Status
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            - entity: sensor.octoprint_print_time_left_format
                              icon_color: light-blue
                              name: Est. Finish Time
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            - entity: sensor.octoprint_layer_progress
                              icon_color: lime
                              name: Layer
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            type: vertical-stack
                          - card_mod:
                              style: "ha-card {\n  height: 225px;\n}\n"
                            cards:
                            - apex_config:
                                chart:
                                  height: 250px
                                fill:
                                  gradient:
                                    inverseColors: false
                                    opacityFrom: 1
                                    opacityTo: 1
                                    shade: light
                                    shadeIntensity: 0.3
                                    stops:
                                    - 0
                                    - 50
                                    - 55
                                    - 90
                                    type: horizontal
                                  type: gradient
                                legend:
                                  show: false
                                plotOptions:
                                  radialBar:
                                    dataLabels:
                                      name:
                                        show: false
                                      value:
                                        show: false
                                    hollow:
                                      size: 80%
                                    track:
                                      margin: 0
                                      strokeWidth: 80%
                              chart_type: radialBar
                              header:
                                show: false
                              series:
                              - color: rgb(3, 169, 244)
                                entity: sensor.octoprint_print_progress
                                name: Job Progress
                                show:
                                  legend_value: false
                              type: custom:apexcharts-card
                            - card_mod:
                                style: "ha-card {\n  border-radius: 50%;\n  background:\
                                  \ none;\n  margin-top: -175px;\n  width: 140px;\n\
                                  \  margin-left: auto;\n  margin-right: auto;\n}\n"
                              entity: sensor.octoprint_print_progress
                              icon_color: light-blue
                              layout: vertical
                              name: Job Progress
                              primary_info: state
                              secondary_info: name
                              type: custom:mushroom-entity-card
                            type: custom:vertical-stack-in-card
                          layout:
                            grid-template-columns: 197px auto
                            margin: -4px -4px -8px -4px
                          layout_type: custom:grid-layout
                          type: custom:layout-card
                        - subtitle: Print Info
                          type: custom:mushroom-title-card
                        - cards:
                          - entity: sensor.octoprint_print_file
                            name: File
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_print_file_size
                            name: Print File Size
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_filament_cost
                            name: Filament Cost
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_filament_length
                            name: Filament Length
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          columns: 2
                          square: false
                          type: grid
                        - subtitle: Temperature
                          type: custom:mushroom-title-card
                        - all_series_config:
                            curve: stepline
                            extend_to: now
                            float_precision: 2
                            stroke_width: 3
                          apex_config:
                            chart:
                              toolbar:
                                show: false
                            grid:
                              borderColor: '#7B7B7B'
                            legend:
                              show: false
                            tooltip:
                              shared: true
                            xaxis:
                              tooltip:
                                enabled: false
                          brush:
                            apex_config:
                              chart:
                                foreColor: '#7B7B7B'
                                toolbar:
                                  show: false
                              grid:
                                borderColor: '#7B7B7B'
                              xaxis:
                                tooltip:
                                  enabled: false
                            selection_span: 1h
                          card_mod:
                            style: "ha-card {\n  padding: 0px;\n  border: none;\n\
                              \  box-shadow: none;\n  margin-bottom: -15px;\n}\n.apexcharts-tooltip-series-group\
                              \ {\n  padding-top: 0px !important;\n  padding-bottom:\
                              \ 0px !important;\n  margin-top: 0px !important;\n \
                              \ margin-bottom: 0px !important;\n  display: none;\n\
                              \  text-align: left;\n  justify-content: left;\n  align-items:\
                              \ center;\n}\n"
                          experimental:
                            brush: true
                          header:
                            colorize_states: true
                            show: true
                            show_states: true
                          series:
                          - color: rgb(244,67,54)
                            entity: sensor.octoprint_tool_0_temperature
                            name: Nozzle
                            show:
                              in_brush: true
                          - color: rgb(3,169,244)
                            entity: sensor.octoprint_bed_temperature
                            name: Bed
                            show:
                              in_brush: true
                          - color: rgb(255,235,59)
                            entity: sensor.octoprint_tool_0_target
                            name: Nozzle Target
                            opacity: 0.2
                            stroke_width: 1
                            type: area
                          - color: rgb(233,30,99)
                            entity: sensor.octoprint_bed_target
                            name: Bed Target
                            opacity: 0.2
                            stroke_width: 1
                            type: area
                          type: custom:apexcharts-card
                        type: vertical-stack
                      conditions:
                      - entity: binary_sensor.octoprint_connected
                        state: 'on'
                      type: conditional
                    type: custom:vertical-stack-in-card
                  title: 3D Printer
                service: browser_mod.popup
            type: template
          - content: "{% if has_value(entity) %}\n  {{ states(\"sensor.meater_probe_internal\"\
              ) }} °F\n  {% if has_value(\"sensor.meater_probe_remaining_time\") \
              \ %}\n    {% set t = (states(\"sensor.meater_probe_remaining_time\"\
              ) | as_datetime - now()).total_seconds() %}\n    | {{ t | timestamp_custom('%-H\
              \ hr %-M min' if t > 3600 else '%-M min', false) }}\n  {% endif %}\n\
              {% endif %}"
            entity: sensor.meater_probe_cook_state
            icon: mdi:food-drumstick
            icon_color: '{{ has_value(entity) | iif("brown", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                        \ 0;\n}\n"
                    cards:
                    - entity: sensor.meater_probe_cooking
                      icon: mdi:food-steak
                      name: Cooking
                      primary_info: state
                      secondary_info: name
                      type: custom:mushroom-entity-card
                    - cards:
                      - entity: sensor.meater_probe_elapsed_time
                        name: Elapsed Time
                        primary_info: state
                        secondary_info: name
                        type: custom:mushroom-entity-card
                      - entity: sensor.meater_probe_remaining_time
                        name: Remaining Time
                        primary_info: state
                        secondary_info: name
                        type: custom:mushroom-entity-card
                      columns: 2
                      square: false
                      type: grid
                    - subtitle: Temperature
                      type: custom:mushroom-title-card
                    - all_series_config:
                        curve: stepline
                        extend_to: now
                        float_precision: 2
                      apex_config:
                        chart:
                          foreColor: '#7B7B7B'
                          toolbar:
                            show: false
                        grid:
                          borderColor: '#7B7B7B'
                        xaxis:
                          tooltip:
                            enabled: false
                      brush:
                        apex_config:
                          chart:
                            foreColor: '#7B7B7B'
                            toolbar:
                              show: false
                          grid:
                            borderColor: '#7B7B7B'
                          xaxis:
                            tooltip:
                              enabled: false
                        selection_span: 1h
                      experimental:
                        brush: true
                      header:
                        colorize_states: true
                        show: true
                        show_states: true
                      series:
                      - color: rgb(33,150,243)
                        entity: sensor.meater_probe_internal
                        name: Internal
                        show:
                          in_brush: true
                        stroke_width: 4
                      - color: rgb(139,195,74)
                        entity: sensor.meater_probe_ambient
                        name: Ambient
                        stroke_width: 4
                      - color: rgb(233,30,99)
                        entity: sensor.meater_probe_target
                        name: Target
                        opacity: 0.2
                        stroke_width: 1
                        type: area
                      type: custom:apexcharts-card
                    type: custom:vertical-stack-in-card
                  title: Meater
                service: browser_mod.popup
            type: template
          - chip:
              content: '{{ states(entity) }}'
              entity: sensor.low_battery_devices
              icon: mdi:battery-alert
              icon_color: red
              tap_action:
                action: fire-dom-event
                browser_mod:
                  data:
                    content:
                      card_mod:
                        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                          \ 0;\n}\n"
                      cards:
                      - card:
                          cards: []
                          layout_type: masonry
                          type: custom:layout-card
                        filter:
                          exclude: []
                          include:
                          - group: sensor.low_battery_devices
                            options:
                              badge_color: red
                              badge_icon: "{% if int(states(entity), 0) <= 15 %}\n\
                                \  mdi:exclamation-thick\n{% endif %}"
                              card_mod:
                                style: "ha-card {\n  padding: 4px 12px !important;\n\
                                  }\n"
                              icon: '{% from "util.jinja" import battery_icon %} {{
                                battery_icon(entity) }}

                                '
                              icon_color: '{% from "util.jinja" import battery_color
                                %} {{ battery_color(entity) }}'
                              layout: horizontal
                              primary: '{{ states(entity) }}%'
                              secondary: '{{ state_attr(entity, "friendly_name") |
                                title }}'
                              tap_action:
                                action: more-info
                              type: custom:mushroom-template-card
                        sort:
                          method: friendly_name
                        type: custom:auto-entities
                      type: custom:vertical-stack-in-card
                    title: Low Batteries
                  service: browser_mod.popup
              type: template
            conditions:
            - entity: sensor.low_battery_devices
              state_not: '0'
            type: conditional
          - chip:
              content: '{{ states(entity) }}'
              entity: sensor.updates
              icon: mdi:package-up
              icon_color: red
              tap_action:
                action: fire-dom-event
                browser_mod:
                  data:
                    content:
                      card_mod:
                        style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                          \ 0;\n}\n"
                      cards:
                      - card:
                          card_mod:
                            style: "ha-card {\n  border-style: none;\n  background:\
                              \ none;\n}\ndiv.card-content {\n  padding: 0px;\n}\n"
                          type: entities
                        filter:
                          template: "{%- for dev in expand(states | selectattr('domain',\
                            \ '==', 'update') | selectattr('state', '==', 'on')) %}\n\
                            \  {{-\n    { 'type': 'custom:mushroom-update-card',\n\
                            \      'entity': dev.entity_id,\n      'show_buttons_control':\
                            \ true,\n      'layout': 'horizontal'\n    }\n  }},\n\
                            {%- endfor %}\n"
                        type: custom:auto-entities
                      type: custom:vertical-stack-in-card
                    title: Available Updates
                  service: browser_mod.popup
              type: template
            conditions:
            - entity: sensor.updates
              state_not: '0'
            type: conditional
          type: custom:mushroom-chips-card
        type: custom:vertical-stack-in-card
      layout:
        grid-template-columns: 55px auto
        grid-template-rows: auto
        margin: 0
        padding: 5px
      layout_type: custom:grid-layout
      type: custom:layout-card
    - alignment: justify
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-border-width: 0;\n  --chip-spacing: 0;\n}\n"
      chips:
      - entity: weather.owm_daily
        show_conditions: true
        show_temperature: true
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                    \ 0;\n}\n"
                cards:
                - card_config_version: 8
                  entity_apparent_temp: sensor.owm_daily_feels_like_temperature
                  entity_extended: sensor.forecast
                  entity_forecast_icon: weather.owm_daily
                  entity_forecast_icon_1: weather.owm_daily
                  entity_forecast_max: sensor.owm_daily_forecast_temperature
                  entity_forecast_max_1: weather.owm_daily
                  entity_forecast_min: sensor.owm_daily_forecast_temperature_low
                  entity_forecast_min_1: weather.owm_daily
                  entity_humidity: sensor.owm_daily_humidity
                  entity_pop: sensor.owm_daily_forecast_precipitation_probability
                  entity_pop_1: weather.owm_daily
                  entity_pos: sensor.owm_daily_forecast_precipitation
                  entity_pos_1: weather.owm_daily
                  entity_pressure: sensor.owm_daily_pressure
                  entity_summary: weather.owm_daily
                  entity_summary_1: weather.owm_daily
                  entity_sun: sun.sun
                  entity_temperature: weather.owm_daily
                  entity_uv_alert_summary: sensor.owm_daily_uv_index
                  entity_visibility: sensor.owm_daily_visibility
                  entity_wind_bearing: sensor.owm_daily_wind_bearing
                  entity_wind_speed: sensor.owm_daily_wind_speed
                  option_time_format: 12hour
                  section_order:
                  - overview
                  - extended
                  - slots
                  - daily_forecast
                  slot_l1: forecast_max
                  slot_l2: forecast_min
                  slot_l3: wind
                  slot_l4: pressure
                  slot_l5: sun_next
                  slot_l6: remove
                  slot_l7: remove
                  slot_l8: remove
                  slot_r1: popforecast
                  slot_r2: humidity
                  slot_r3: uv_summary
                  slot_r4: visibility
                  slot_r5: sun_following
                  slot_r6: remove
                  slot_r7: remove
                  slot_r8: remove
                  type: custom:platinum-weather-card
                - cards:
                  - card_mod:
                      style: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                        \ 0px;\n}\n"
                    entity: weather.owm_hourly
                    icon_color: blue
                    type: custom:mushroom-entity-card
                  - card_mod:
                      style:
                        .: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                          \ 0px;\n  margin: -8px -4px -4px -16px;\n}\n"
                        weather-bar$: ".main {\n  --mush-rgb-red: 244, 67, 54;\n \
                          \ --mush-rgb-pink: 233, 30, 99;\n  --mush-rgb-purple: 156,\
                          \ 39, 176;\n  --mush-rgb-deep-purple: 103, 58, 183;\n  --mush-rgb-indigo:\
                          \ 63, 81, 181;\n  --mush-rgb-blue: 33, 150, 243;\n  --mush-rgb-light-blue:\
                          \ 3, 169, 244;\n  --mush-rgb-cyan: 0, 188, 212;\n  --mush-rgb-teal:\
                          \ 0, 150, 136;\n  --mush-rgb-green: 76, 175, 80;\n  --mush-rgb-light-green:\
                          \ 139, 195, 74;\n  --mush-rgb-lime: 205, 220, 57;\n  --mush-rgb-yellow:\
                          \ 255, 235, 59;\n  --mush-rgb-amber: 255, 193, 7;\n  --mush-rgb-orange:\
                          \ 255, 152, 0;\n  --mush-rgb-deep-orange: 255, 87, 34;\n\
                          \  --mush-rgb-brown: 121, 85, 72;\n  --mush-rgb-grey: 158,\
                          \ 158, 158;\n  --mush-rgb-blue-grey: 96, 125, 139;\n  --mush-rgb-black:\
                          \ 0, 0, 0;\n  --mush-rgb-white: 255, 255, 255;\n\n  --color-clear-night:\
                          \ rgba(var(--mush-rgb-black), 0.2) !important;\n  --color-cloudy:\
                          \ rgba(var(--mush-rgb-grey), 0.2) !important;\n  --color-fog:\
                          \ var(--color-cloudy);\n  --color-hail: rgba(var(--mush-rgb-indigo),\
                          \ 0.2) !important;\n  --color-lightning: var(--color-rainy);\n\
                          \  --color-lightning-rainy: var(--color-rainy);\n  --color-partlycloudy:\
                          \ rgba(var(--mush-rgb-blue), 0.2) !important;\n  --color-pouring:\
                          \ var(--color-rainy);\n  --color-rainy: rgba(var(--mush-rgb-indigo),\
                          \ 0.2) !important;\n  --color-snowy: rgba(var(--mush-rgb-white),\
                          \ 0.2) !important;\n  --color-snowy-rainy: var(--color-partlycloudy);\n\
                          \  --color-sunny: rgba(var(--mush-rgb-yellow), 0.2) !important;\n\
                          \  --color-windy: var(--color-sunny);\n  --color-windy-variant:\
                          \ var(--color-sunny);\n  --color-exceptional: rgba(var(--mush-rgb-amber),\
                          \ 0.2) !important;\n}\n.bar > div {\n  height: 42px !important;\n\
                          }\n.bar > div:first-child {\n  border-top-left-radius: var(--ha-card-border-radius)\
                          \ !important;\n  border-bottom-left-radius: var(--ha-card-border-radius)\
                          \ !important;\n}\n.bar > div:last-child {\n  border-top-right-radius:\
                          \ var(--ha-card-border-radius) !important;\n  border-bottom-right-radius:\
                          \ var(--ha-card-border-radius) !important;\n}\n.bar > div\
                          \ > span {\n  text-shadow: none !important;\n  color: rgb(var(--primary-text-color));\n\
                          \  font-size: 14px;\n  font-weight: bold;\n}\n.axes > div\
                          \ > .bar-block-bottom > .hour {\n  font-size: 12px;\n  font-weight:\
                          \ bolder;\n}\n.axes > div > .bar-block-bottom > .temperature\
                          \ {\n  font-size: 12px;\n  font-weight: bolder;\n}\n.axes\
                          \ {\n  margin-top: 10px !important;\n}\n"
                    entity: weather.owm_hourly
                    icons: true
                    label_spacing: '2'
                    name: ' '
                    num_segments: '12'
                    type: custom:hourly-weather
                  layout:
                    grid-template-columns: 66px auto
                    margin: -4px -4px -12px -4px;
                  layout_type: custom:grid-layout
                  type: custom:layout-card
                - type: iframe
                  url: https://embed.windy.com/embed2.html?lat=43.241&lon=-112.143&zoom=7&level=surface&overlay=wind&menu=&message=true&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=43.490&detailLon=-112.040&metricWind=mph&metricTemp=%C2%B0F&radarRange=-1
                - type: custom:horizon-card
                type: custom:vertical-stack-in-card
              title: Weather
            service: browser_mod.popup
        type: weather
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.airnow_air_quality_index
        icon: '{{ iif(has_value(entity), "mdi:blur", "mdi:blur-off") }}'
        icon_color: "{% if has_value(entity) %}\n  {% set level = states(entity) |\
          \ float(default=0) %}\n  {% if level >= 300 %}\n    red\n  {% elif level\
          \ >= 200 %}\n    purple\n  {% elif level >= 150 %}\n    pink\n  {% elif\
          \ level >= 100 %}\n    orange\n  {% elif level >= 50 %}\n    yellow\n  {%\
          \ elif level >= 0 %}\n    green\n  {% endif %}\n{% else %}\n  disabled\n\
          {% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                    \ 0;\n}\n"
                cards:
                - double_tap_action:
                    action: none
                  entity: sensor.airnow_air_quality_index
                  fill_container: false
                  hold_action:
                    action: none
                  multiline_secondary: true
                  primary: 'AQI: {{ state_attr(entity, "description") }}'
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.airnow_air_quality_index
                    max: 400
                    min: 0
                    severity:
                    - color: var(--green-color)
                      from: '0'
                      to: '50'
                    - color: var(--yellow-color)
                      from: '50'
                      to: '100'
                    - color: var(--orange-color)
                      from: '100'
                      to: '150'
                    - color: var(--red-color)
                      from: '150'
                      to: '200'
                    - color: var(--purple-color)
                      from: '200'
                      to: '300'
                    - color: var(--pink-color)
                      from: '300'
                      to: '400'
                  - entity: sensor.airnow_pm2_5
                    max: 100
                    min: 0
                    severity:
                    - color: var(--green-color)
                      from: '0'
                      to: '12'
                    - color: var(--yellow-color)
                      from: '12'
                      to: '35'
                    - color: var(--orange-color)
                      from: '35'
                      to: '50'
                    - color: var(--red-color)
                      from: '50'
                      to: '100'
                  positions:
                    indicator: inside
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                type: custom:vertical-stack-in-card
              title: Air Quality
            service: browser_mod.popup
        type: template
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.allergy_index_today
        icon: mdi:flower-pollen
        icon_color: "{% set level = states(entity) | float(default=0) %}\n{% if level\
          \ >= 9.7 %}\n  red\n{% elif level >= 7.3 %}\n  orange\n{% elif level >=\
          \ 4.9 %}\n  yellow\n{% elif level >= 2.5 %}\n  lime\n{% else %}\n  green\n\
          {% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none;\n  --ha-card-border-width:\
                    \ 0;\n}\n"
                cards:
                - title: Allergens
                  type: custom:mushroom-title-card
                - card_mod:
                    style: "ha-card {\n  /* Make card non-responsive to select and\
                      \ pointer */\n  user-select: none;\n  pointer-events: none;\n\
                      }\n"
                  double_tap_action:
                    action: none
                  entity: sensor.allergy_index_today
                  hold_action:
                    action: none
                  multiline_secondary: true
                  secondary: "{%- set ns = namespace(allergens=[]) -%} {%- for id\
                    \ in range(1, 4) -%}\n  {%- set attr = \"allergen_name_\" ~ id\
                    \ -%}\n  {%- if not state_attr(entity, attr) in [\"unknown\",\
                    \ \"unavailable\", None] -%}\n    {%- set ns.allergens = ns.allergens\
                    \ + [ state_attr(entity, attr) ] -%}\n  {%- endif -%}\n{%- endfor\
                    \ -%} {{ ns.allergens | join(\", \") }}\n{{ state_attr(\"sensor.allergy_index_forecasted_average\"\
                    , \"outlook\") | default(\"\", true) }}"
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - subtitle: Allergy
                  title: Forecast
                  type: custom:mushroom-title-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.allergy_index_today
                  - entity: sensor.allergy_index_tomorrow
                  - entity: sensor.allergy_index_forecasted_average
                  max: 12
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: var(--green-color)
                    from: '0'
                    to: '2.5'
                  - color: var(--light-green-color)
                    from: '2.5'
                    to: '4.9'
                  - color: var(--amber-color)
                    from: '4.9'
                    to: '7.3'
                  - color: var(--orange-color)
                    from: '7.3'
                    to: '9.7'
                  - color: var(--red-color)
                    from: '9.7'
                    to: '12'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                - subtitle: Asthma
                  type: custom:mushroom-title-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.asthma_index_today
                  - entity: sensor.asthma_index_tomorrow
                  - entity: sensor.asthma_index_forecasted_average
                  max: 12
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: var(--green-color)
                    from: '0'
                    to: '2.5'
                  - color: var(--light-green-color)
                    from: '2.5'
                    to: '4.9'
                  - color: var(--amber-color)
                    from: '4.9'
                    to: '7.3'
                  - color: var(--orange-color)
                    from: '7.3'
                    to: '9.7'
                  - color: var(--red-color)
                    from: '9.7'
                    to: '12'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                - subtitle: Cold
                  type: custom:mushroom-title-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.cold_flu_index_today
                  - entity: sensor.cold_flu_forecasted_average
                  max: 12
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: var(--green-color)
                    from: '0'
                    to: '2.5'
                  - color: var(--light-green-color)
                    from: '2.5'
                    to: '4.9'
                  - color: var(--amber-color)
                    from: '4.9'
                    to: '7.3'
                  - color: var(--orange-color)
                    from: '7.3'
                    to: '9.7'
                  - color: var(--red-color)
                    from: '9.7'
                    to: '12'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                type: custom:vertical-stack-in-card
              title: Allergy / Asthma
            service: browser_mod.popup
        type: template
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  - cards:
    - template: person_card
      type: custom:decluttering-card
      variables:
      - person: person.joshua
      - name: Joshua
      - media: media_player.spotify_joshua
      - proximity: proximity.joshua_home
      - phone_base: pixel_8_josh
    - template: person_card
      type: custom:decluttering-card
      variables:
      - person: person.amy
      - name: Amy
      - media: media_player.spotify_amy
      - proximity: proximity.amy_home
      - phone_base: pixel_8_amy
    type: horizontal-stack
  - cards:
    - badge_icon: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif state_attr(entity,\
        \ \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else %}\n  mdi:numeric-{{\
        \ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style:
          .: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.garbage_collection\"\
            , \"on\") -%}\n  {% set icon_color = \"rgb-green-color\" %}\n{%- elif\
            \ is_state(config.entity, \"0\") -%}\n  {% set icon_color = \"rgb-red-color\"\
            \ %}\n  {% set icon_size = \"1em\" %}\n{%- elif is_state(config.entity,\
            \ \"1\") -%}\n  {% set icon_color = \"rgb-yellow-color\" %}\n{%- else\
            \ -%}\n  {% set icon_color = \"primary-text-color\" %}\n{%- endif -%}\n\
            mushroom-badge-icon {\n  --icon-color: rgb(var(--{{ icon_color }}));\n\
            \  --main-color: none;\n  --badge-icon-size: {{ icon_size }};\n}\nha-card\
            \ {\n  background: none;\n  box-shadow: none;\n  border: 0;\n  margin-top:\
            \ 10px;\n}\n"
          mushroom-shape-icon$: ".shape {\n  {%- if is_state(\"input_boolean.garbage_collection\"\
            , \"off\") and is_state(config.entity, \"0\") -%}\n  --shape-animation:\
            \ ping 2s infinite;\n  {%- endif -%}\n}\n@keyframes ping {\n  0% { box-shadow:\
            \ 0 0 1px 1px rgba(var(--rgb-red), 0.7); }\n  100% { box-shadow: 0 0 5px\
            \ 15px transparent; }\n}\n"
      entity: sensor.garbage_collection
      hold_action:
        action: call-service
        data:
          entity: sensor.garbage_collection
        service: script.collection_at_curb
        target: {}
      icon: mdi:trash-can
      icon_color: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - badge_icon: "{% if is_state(\"input_boolean.recycle_collection\", \"on\") %}\n\
        \  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif state_attr(entity,\
        \ \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else %}\n  mdi:numeric-{{\
        \ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style:
          .: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.recycle_collection\"\
            , \"on\") -%}\n  {% set icon_color = \"rgb-green-color\" %}\n{%- elif\
            \ is_state(config.entity, \"0\") -%}\n  {% set icon_color = \"rgb-red-color\"\
            \ %}\n  {% set icon_size = \"1em\" %}\n{%- elif is_state(config.entity,\
            \ \"1\") -%}\n  {% set icon_color = \"rgb-yellow-color\" %}\n{%- else\
            \ -%}\n  {% set icon_color = \"primary-text-color\" %}\n{%- endif -%}\n\
            mushroom-badge-icon {\n  --icon-color: rgb(var(--{{ icon_color }}));\n\
            \  --main-color: none;\n  --badge-icon-size: {{ icon_size }};\n}\nha-card\
            \ {\n  background: none;\n  box-shadow: none;\n  border: 0;\n  margin-top:\
            \ 10px;\n}\n"
          mushroom-shape-icon$: ".shape {\n  {%- if is_state(\"input_boolean.recycle_collection\"\
            , \"off\") and is_state(config.entity, \"0\") -%}\n  --shape-animation:\
            \ ping 2s infinite;\n  {%- endif -%}\n}\n@keyframes ping {\n  0% { box-shadow:\
            \ 0 0 1px 1px rgba(var(--rgb-red), 0.7); }\n  100% { box-shadow: 0 0 5px\
            \ 15px transparent; }\n}\n"
      entity: sensor.recycle_collection
      hold_action:
        action: call-service
        data:
          entity: sensor.recycle_collection
        service: script.collection_at_curb
        target: {}
      icon: mdi:recycle
      icon_color: "{% if is_state(\"input_boolean.recycle_collection\", \"on\") %}\n\
        \  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - card:
        badge_icon: "{% if int(states(entity), 0) > 0 %}\n  mdi:numeric-{{ states(entity)\
          \ }}\n{% elif int(states(entity), 0) > 9 %}\n  mdi:numeric-9-plus\n{% endif\
          \ %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: var(--{{ config.icon_color\
            \ }}-color);\n  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\n\
            ha-card {\n  background: none;\n  box-shadow: none;\n  border: 0;\n  margin-top:\
            \ 10px;\n}\n"
        entity: sensor.mail_usps_mail
        icon: mdi:mail
        icon_color: blue
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                camera_image: camera.mail_usps_camera
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                entity: camera.mail_usps_camera
                show_name: false
                show_state: false
                type: picture-entity
              size: fullscreen
              title: Mail
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: sensor.mail_usps_mail
        state_not: '0'
      - entity: sensor.mail_usps_mail
        state_not: unavailable
      type: conditional
    - card:
        badge_icon: "{% if int(states(entity), 0) > 0 %}\n  mdi:numeric-{{ states(entity)\
          \ }}\n{% elif int(states(entity), 0) > 9 %}\n  mdi:numeric-9-plus\n{% endif\
          \ %}"
        card_mod:
          style:
            .: "mushroom-badge-icon {\n  --icon-color: var(--{{ config.icon_color\
              \ }}-color);\n  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\n\
              ha-card {\n  background: none;\n  box-shadow: none;\n  border: 0;\n\
              \  margin-top: 10px;\n}\n"
            mushroom-shape-icon$: ".shape {\n  {%- if int(states(config.entity), 0)\
              \ > 0 -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
              }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-{{\
              \ config.icon_color }}), 0.7); }\n  100% { box-shadow: 0 0 5px 15px\
              \ transparent; }\n}\n"
        entity: sensor.mail_packages_delivered
        icon: mdi:package-variant
        icon_color: orange
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      conditions:
      - entity: sensor.mail_packages_delivered
        state_not: '0'
      - entity: sensor.mail_packages_delivered
        state_not: unavailable
      type: conditional
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_usps_delivering
      - name: USPS
      - icon: fab:usps
      - icon_color: blue
      - url: https://tools.usps.com/go/TrackConfirmAction?tLabels=##TRACK_ID##
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_ups_delivering
      - name: UPS
      - icon: fab:ups
      - icon_color: brown
      - url: https://www.ups.com/track?loc=en_US&tracknum=##TRACK_ID##
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_fedex_delivering
      - name: FedEx
      - icon: fab:fedex
      - icon_color: purple
      - url: https://www.fedex.com/fedextrack/?trknbr=##TRACK_ID##
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_amazon_packages
      - name: Amazon
      - icon: fab:amazon
      - icon_color: yellow
      - url: https://www.amazon.com/gp/your-account/order-details?orderID=##TRACK_ID##
    - card:
        card_mod:
          style: "ha-card {\n  background: none;\n  box-shadow: none;\n  border: 0;\n\
            \  margin-top: 10px;\n}\nha-state-icon {\n  {%- if is_state(config.entity,\
            \ \"on\") -%}\n  animation: shake 400ms ease-in-out infinite, drum 2s\
            \ ease infinite;\n  transform-origin: 50% 110%;\n  {% endif %}\n}\n@keyframes\
            \ shake {\n  0%, 100% { transform: translate(0, 0) rotate(0); }\n  20%\
            \  { transform: translate(0.4px, -0.4px) rotate(-4deg); }\n  40%  { transform:\
            \ translate(-0.4px, 0.4px) rotate(4deg); }\n  60%  { transform: translate(0.4px,\
            \ 0.4px) rotate(-4deg); }\n  80%  { transform: translate(-0.4px, -0.4px)\
            \ rotate(4deg); }\n}\n@keyframes drum {\n  50%  { clip-path: polygon(0\
            \ 0, 0 100%, 35% 100%, 34% 68%, 60% 41%, 71% 56%, 65% 74%, 47% 79%, 34%\
            \ 68%, 35% 100%, 100% 100%, 100% 0); }\n}\n"
        entity: input_boolean.washer_status
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:washing-machine\n{%- else\
          \ -%}\n  mdi:washing-machine-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  blue\n{%- else -%}\n \
          \ disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.washer_status
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style: "ha-card {\n  background: none;\n  box-shadow: none;\n  border: 0;\n\
            \  margin-top: 10px;\n}\nha-state-icon {\n  {%- if is_state(config.entity,\
            \ \"on\") -%}\n  animation: shake 400ms ease-in-out infinite, drum 1s\
            \ infinite;\n  transform-origin: 50% 65%;\n  {% endif %}\n}\n@keyframes\
            \ shake {\n  0%, 100% { transform: rotate(4deg); }\n  50%  { transform:\
            \ rotate(-4deg); }\n}\n@keyframes drum {\n  50%  { clip-path: polygon(0\
            \ 0, 0 100%, 35% 100%, 36% 74%, 31% 43%, 61% 40%, 71% 69%, 62% 78%, 36%\
            \ 73%, 35% 100%, 100% 100%, 100% 0); }\n}\n"
        entity: input_boolean.dryer_status
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:tumble-dryer\n{%- else -%}\n\
          \  mdi:tumble-dryer-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  orange\n{%- else -%}\n\
          \  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.dryer_status
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  border: 0;\n\
              \  margin-top: 10px;\n}\nha-state-icon {\n  {%- if not is_state(config.entity,\
              \ \"Off\") -%}\n  animation: bounce 1.5s ease-in-out infinite, wash\
              \ 1s ease-in-out infinite;\n  transform-origin: 50% 75%;\n  {% endif\
              \ %}\n}\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {transform:\
              \ translateY(0); }\n  40% { transform: translateY(-1.2px) rotate(5deg);\
              \ }\n  60% { transform: translateY(-1.1px) rotate(-4deg); }\n}\n@keyframes\
              \ wash {\n  50% { clip-path: polygon(0 0, 0 100%, 35% 100%, 36% 74%,\
              \ 31% 43%, 61% 40%, 71% 69%, 62% 78%, 36% 73%, 35% 100%, 100% 100%,\
              \ 100% 0); }\n}\n"
            mushroom-shape-icon$: "{% set timer = \"timer.dishwasher_run_time\" %}\n\
              {% if state_attr(timer, \"finishes_at\") %}\n  {% set remaining = (as_datetime(state_attr(timer,\
              \ \"finishes_at\")) - now()).total_seconds() | int %}\n  {% set duration\
              \ =\n    (state_attr(timer, \"duration\").split(\":\")[0] | int * 60\
              \ * 60)\n      + (state_attr(timer, \"duration\").split(\":\")[1] |\
              \ int * 60)\n      + (state_attr(timer, \"duration\").split(\":\")[2]\
              \ | int)\n  %}\n.shape {\n  /* Radial progress bar */\n  background:\n\
              \    radial-gradient(var(--card-background-color) 60%, transparent calc(60%\
              \ + 1px)),\n    conic-gradient(var(--icon-color) {{ ((duration - remaining)\
              \ / duration * 100) | round() }}% 0%, var(--card-background-color) 0%\
              \ 100%);\n}\n.shape:after {\n  /* Add back icon shape */\n  content:\
              \ \"\";\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  border-radius:\
              \ var(--icon-border-radius);\n  background: var(--shape-color);\n}\n\
              {% endif %}\n"
        entity: input_select.dishwasher_status
        icon: "{%- if not is_state(entity, \"Off\") -%}\n  mdi:dishwasher\n{%- else\
          \ -%}\n  mdi:dishwasher-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"Washing\") -%}\n  purple\n{%- elif\
          \ is_state(entity, \"Draining\") -%}\n  lime\n{%- elif is_state(entity,\
          \ \"Rinsing\") -%}\n  blue\n{%- elif is_state(entity, \"Drying\") -%}\n\
          \  orange\n{%- elif is_state(entity, \"Clean\") -%}\n  cyan\n{%- else -%}\n\
          \  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_select.dishwasher_status
        state_not: 'Off'
      type: conditional
    type: horizontal-stack
  - cards:
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Living Room
      - entity: light.living_room_lights
      - temperature: sensor.ecobee_current_temperature
      - icon: mdi:sofa-single
      - icon_color: 255, 152, 0
      - path: living
      - chips:
        - entity: media_player.universal_living_room
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                card_mod:
                  style:
                    .: "div.container {\n  padding: 0 !important;\n}\n"
                content:
                  template: media_card
                  type: custom:decluttering-card
                  variables:
                  - expanded: true
                  - entity: media_player.universal_living_room
                  - sound_buttons:
                    - icon: mdi:surround-sound-5-1
                      id: Straight
                      name: Direct
                      type: sound_mode
                    - icon: mdi:surround-sound-2-1
                      id: Surround
                      name: Surround
                      type: sound_mode
                    - icon: mdi:surround-sound
                      id: MCh Stereo
                      name: Multi-Channel
                      type: sound_mode
                title: Living Room
              service: browser_mod.popup
          type: template
        - entity: fan.living_room_ceiling
          icon: mdi:fan
          icon_color: "{% if is_state(entity, 'on') %}\n  {% set speed = state_attr(entity,\
            \ 'percentage') %}\n  {{ {\n    25: \"green\",\n    50: \"yellow\",\n\
            \    75: \"orange\",\n    100: \"red\"\n  }[speed] }}\n{% else %}\n  disabled\n\
            {% endif %}"
          style: ".content {\n  {% if is_state(config.entity, 'on') %}\n    {% set\
            \ speed = state_attr(config.entity, 'percentage') %}\n    {% set duration\
            \ = {\n      25: \"1.33333s\",\n      50: \"0.942809s\",\n      75: \"\
            0.7698s\",\n      100: \"0.666667s\"\n    }[speed] %}\n    animation:\
            \ rotation linear infinite;\n    animation-duration: {{ duration }};\n\
            \  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform: rotate(360deg);\n\
            \  }\n}\n"
          tap_action:
            action: more-info
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.living_room_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.living_room_lights
                title: Living Room Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.ecobee_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Family Room
      - entity: light.family_room_lights
      - temperature: sensor.family_room_temperature
      - icon: mdi:gamepad-circle
      - icon_color: 255, 235, 59
      - path: family
      - chips:
        - chip:
            entity: binary_sensor.athos_connected
            icon: mdi:desktop-tower
            icon_color: lime
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.athos_connected
            state: 'on'
          type: conditional
        - chip:
            entity: binary_sensor.quest_interactive
            icon: fapro:meta
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.quest_interactive
            state: 'on'
          type: conditional
        - entity: select.harmony_family_room_activities
          icon: "{% set state = states(entity) %}\n{% if state == \"Computer\" %}\n\
            \  mdi:desktop-tower\n{% elif state == \"PS3\" %}\n  fapro:ps3\n{% elif\
            \ state == \"PS4\" %}\n  fapro:ps4\n{% elif state == \"XBox\" %}\n  mdi:microsoft-xbox\n\
            {% else %}\n  mdi:gamepad-variant-outline\n{% endif %}"
          icon_color: "{% set state = states(entity) %}\n{% if state == \"Computer\"\
            \ %}\n  teal\n{% elif state == \"PS3\" %}\n  cyan\n{% elif state == \"\
            PS4\" %}\n  blue\n{% elif state == \"XBox\" %}\n  green\n{% else %}\n\
            \  disabled\n{% endif %}"
          tap_action:
            action: none
          type: template
        - entity: media_player.universal_family_room
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                card_mod:
                  style:
                    .: "div.container {\n  padding: 0 !important;\n}\n"
                content:
                  template: media_card
                  type: custom:decluttering-card
                  variables:
                  - expanded: true
                  - entity: media_player.universal_family_room
                  - sound_buttons:
                    - icon: mdi:surround-sound-5-1
                      id: Direct
                      name: Direct
                      type: sound_mode
                    - icon: mdi:surround-sound-2-1
                      id: Dolby Digital
                      name: Surround
                      type: sound_mode
                    - icon: mdi:surround-sound
                      id: All Zone Stereo
                      name: Multi-Channel
                      type: sound_mode
                title: Family Room
              service: browser_mod.popup
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.family_room_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.family_room_lights
                title: Family Room Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.family_room_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Office
      - entity: light.office_lights
      - temperature: sensor.office_temperature
      - icon: mdi:chair-rolling
      - icon_color: 33, 150, 243
      - path: office
      - chips:
        - chip:
            entity: binary_sensor.erebus_connected
            icon: mdi:desktop-tower
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.erebus_connected
            state: 'on'
          type: conditional
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.office_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.office_lights
                title: Office Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.office_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Kitchen
      - entity: light.kitchen_lights
      - temperature: sensor.kitchen_temperature
      - icon: mdi:fridge-variant
      - icon_color: 0, 188, 212
      - path: kitchen
      - chips:
        - chip:
            entity: light.smart_display_monitor
            icon: mdi:apps-box
            icon_color: blue
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: light.smart_display_monitor
            state: 'on'
          type: conditional
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.kitchen_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.kitchen_lights
                title: Kitchen Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.kitchen_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Master Bedroom
      - entity: light.master_bedroom_lights
      - temperature: sensor.master_bedroom_temperature
      - icon: mdi:bed-king
      - icon_color: 103, 58, 183
      - path: master
      - chips:
        - entity: media_player.universal_master_bedroom
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                card_mod:
                  style:
                    .: "div.container {\n  padding: 0 !important;\n}\n"
                content:
                  template: media_card
                  type: custom:decluttering-card
                  variables:
                  - expanded: true
                  - entity: media_player.universal_master_bedroom
                  - buttons:
                    - icon: mdi:plex
                      id: Plex
                      name: Plex
                      type: source
                    - icon: fab:amazon
                      id: Amazon
                      name: Prime
                      type: source
                    - icon: mdi:youtube
                      id: SmartTube
                      name: SmartTube
                      type: source
                    - icon: mdi:spotify
                      id: Spotify
                      name: Spotify
                      type: source
                    - icon: mdi:twitch
                      id: Twitch
                      name: Twitch
                      type: source
                    - icon: fapro:crunchyroll
                      id: Crunchyroll
                      name: Crunchyroll
                      type: source
                    - icon: mdi:apps
                      id: Home
                      name: Home
                      type: source
                title: Master Bedroom
              service: browser_mod.popup
          type: template
        - entity: fan.master_bedroom_ceiling
          icon: mdi:fan
          icon_color: "{% if is_state(entity, 'on') %}\n  {% set speed = state_attr(entity,\
            \ 'percentage') %}\n  {{ {\n    25: \"green\",\n    50: \"yellow\",\n\
            \    75: \"orange\",\n    100: \"red\"\n  }[speed] }}\n{% else %}\n  disabled\n\
            {% endif %}"
          style: ".content {\n  {% if is_state(config.entity, 'on') %}\n    {% set\
            \ speed = state_attr(config.entity, 'percentage') %}\n    {% set duration\
            \ = {\n      25: \"1.33333s\",\n      50: \"0.942809s\",\n      75: \"\
            0.7698s\",\n      100: \"0.666667s\"\n    }[speed] %}\n    animation:\
            \ rotation linear infinite;\n    animation-duration: {{ duration }};\n\
            \  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform: rotate(360deg);\n\
            \  }\n}\n"
          tap_action:
            action: more-info
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.master_bedroom_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.master_bedroom_lights
                title: Master Bedroom Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.master_bedroom_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Ethan
      - entity: light.ethans_lights
      - temperature: sensor.ethan_temperature
      - icon: mdi:robot
      - icon_color: 76, 175, 80
      - path: ethan
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.ethans_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.ethans_lights
                title: Ethan's Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.ethan_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Emma
      - entity: light.emmas_lights
      - temperature: sensor.emma_temperature
      - icon: mdi:unicorn-variant
      - icon_color: 156, 39, 176
      - path: emma
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.emmas_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.emmas_lights
                title: Emma's Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.emma_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Amy's Office
      - entity: light.amy_office
      - temperature: sensor.guest_room_temperature
      - icon: mdi:skull
      - icon_color: 244, 67, 54
      - path: amy-office-room
      - chips:
        - entity: light.amy_office
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: none
          type: template
        - entity: binary_sensor.guest_room_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Garage
      - entity: light.garage
      - temperature: sensor.garage_multisensor_air_temperature
      - icon: '{% if is_state(''cover.opengarage'', ''open'') %}mdi:garage-open-variant{%
          elif states(''cover.opengarage'') in [''opening'', ''closing''] %}mdi:garage-alert-variant{%
          else %}mdi:garage-variant{% endif %}'
      - icon_color: 96, 125, 139
      - path: garage
      - chips:
        - chip:
            card_mod:
              style: "@keyframes phase {\n  50% {opacity: 0;}\n}\n.content {\n  animation:\
                \ phase 1.5s ease-out infinite;\n}"
            entity: cover.opengarage
            icon: "{%- if is_state(entity, \"open\") -%}\n  mdi:garage-open-variant\n\
              {%- elif states(entity) in [\"opening\", \"closing\"] -%}\n  mdi:garage-alert-variant\n\
              {%- endif -%}"
            icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif states(entity)\
              \ in [\"opening\", \"closing\"]  %}\n  orange\n{% endif %}"
            tap_action:
              action: none
            type: template
          conditions:
          - entity: cover.opengarage
            state_not: closed
          type: conditional
        - entity: light.garage
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: none
          type: template
        - entity: binary_sensor.garage_multisensor_motion_detection
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Outside
      - entity: light.outside_lights
      - temperature: sensor.owm_daily_temperature
      - icon: mdi:spa
      - icon_color: 139, 195, 74
      - path: outside
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: light.outside_lights
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: light.outside_lights
                title: Outside Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.doorbell_person_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Utility
      - entity: ''
      - temperature: sensor.water_main_valve_air_temperature
      - icon: mdi:progress-wrench
      - icon_color: 121, 85, 72
      - path: utility
      - chips:
        - card_mod:
            style: "@keyframes phase {\n  50% {opacity: 0;}\n}\n{% if is_state(config.entity,\
              \ \"off\") %}\n.content {\n  animation: phase 1.5s ease-out infinite;\n\
              }\n{% endif %}\n"
          entity: switch.water_main_valve
          icon: mdi:{{ iif(is_state(entity, "on"), "valve-open", "valve-closed") }}
          icon_color: '{{ iif(is_state(entity, "on"), "green", "red") }}'
          tap_action:
            action: none
          type: template
        - card_mod:
            style: "@keyframes phase {\n  50% {opacity: 0;}\n}\n{% if is_state(config.entity,\
              \ \"on\") %}\n.content {\n  animation: phase 1.5s ease-out infinite;\n\
              }\n{% endif %}\n"
          entity: binary_sensor.water_leak_detected
          icon: mdi:{{ iif(is_state(entity, "on"), "water-alert", "water-check") }}
          icon_color: '{{ iif(is_state(entity, "on"), "red", "light-blue") }}'
          tap_action:
            action: none
          type: template
        - card_mod:
            style:
              .: "{% set zone = expand(config.entity) | selectattr(\"state\", \"==\"\
                , \"on\") | map(attribute=\"entity_id\") | list %}\n{% if zone[0]\
                \ is defined %}\nha-card:after {\n  content: \"{{ state_attr(zone[0],\
                \ \"Zone number\") }}\";\n  position: absolute;\n  color: var(--light-blue-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: switch.rachio_zones
          icon: mdi:sprinkler
          icon_color: "{% set zones = expand(entity) | selectattr(\"state\", \"==\"\
            , \"on\") | map(attribute=\"entity_id\") | list | count %} {% if zones\
            \ > 0 %}\n  light-blue\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: none
          type: template
    - card_mod:
        style: "ha-card {\n  background:\n  {% set state = states(\"device_tracker.ascent\"\
          ) %}\n  {% if state == \"not_home\" %}\n    rgba(244, 67, 54, 0.2)\n  {%\
          \ elif state in [\"unknown\", \"unavailable\"] %}\n    rgba(189, 189, 189,\
          \ 0.2)\n  {% elif state != \"home\" %}\n    rgba(33, 150, 243, 0.2)\n  {%\
          \ endif %};\n}\n"
      cards:
      - card_mod:
          style:
            .: "ha-card {\n  transition: all 0s;\n  padding-bottom: 0 !important;\n\
              }\nmushroom-state-info {\n  z-index: 1;\n}\nmushroom-shape-avatar {\n\
              \  position: absolute;\n  top: -30px;\n  left: -10px;\n}\nmushroom-state-info\
              \ {\n  padding-left: 50px;\n  z-index: 1;\n}\n{% set state = states(config.entity)\
              \ %}\n:host {\n  --mush-icon-size: 4.84em;\n  {% if not is_state(config.entity,\
              \ \"home\") %}\n  --ha-card-background:\n    {% if state == \"not_home\"\
              \ %}\n      rgba(244, 67, 54, 0.05)\n    {% elif state in [\"unknown\"\
              , \"unavailable\"] %}\n      rgba(189, 189, 189, 0.05)\n    {% elif\
              \ state != \"home\" %}\n      rgba(33, 150, 243, 0.05)\n    {% endif\
              \ %};\n  {% endif %}\n}\n"
            mushroom-shape-avatar$: "{% set timer = \"timer.subaru_remote_start\"\
              \ %}\n{% if state_attr(timer, \"finishes_at\") %}\n.picture {\n  {%\
              \ set remaining = (as_datetime(state_attr(timer, \"finishes_at\")) -\
              \ now()).total_seconds() | int %}\n  {% set duration =\n    (state_attr(timer,\
              \ \"duration\").split(\":\")[0] | int * 60 * 60)\n    + (state_attr(timer,\
              \ \"duration\").split(\":\")[1] | int * 60)\n    + (state_attr(timer,\
              \ \"duration\").split(\":\")[2] | int)\n  %}\n  background:\n    radial-gradient(var(--card-background-color)\
              \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--accent-color)\
              \ {{ (remaining / duration * 100) | round() }}% 0%, var(--card-background-color)\
              \ 0% 100%);\n}\n{% endif %}\n"
        entity: device_tracker.ascent
        icon_type: entity-picture
        tap_action:
          action: navigate
          navigation_path: subaru
        type: custom:mushroom-entity-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: rgba(var(--rgb-disabled),\
            \ 0.1);\n  --chip-border-width: 0;\n  --chip-spacing: 1px;\n}\n"
        chips:
        - content: "{% if has_value(entity) %}\n  {{ states(entity) | round(0) }}mi\n\
            {% endif %}"
          double_tap_action:
            action: none
          entity: sensor.ascent_range
          hold_action:
            action: none
          icon: mdi:gas-station
          icon_color: "{% if has_value(entity) %}\n  {% set range = int(states(entity),\
            \ 0) %}\n  {% if range > 200 %}\n    green\n  {% elif range > 60 %}\n\
            \    light-green\n  {% elif range > 40 %}\n    amber\n  {% elif range\
            \ > 20 %}\n    orange\n  {% else %}\n    red\n  {% endif %}\n{% endif\
            \ %}"
          tap_action:
            action: more-info
          type: template
        - content: '{{ states(entity) }}mpg'
          double_tap_action:
            action: none
          entity: sensor.ascent_avg_fuel_consumption
          hold_action:
            action: none
          icon: mdi:leaf
          icon_color: green
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    columns: 2
    square: false
    type: grid
  - cards:
    - card:
        cards:
        - title: XMas
          type: custom:mushroom-title-card
        - cards:
          - double_tap_action:
              action: more-info
            entity: light.xmas_tree
            hold_action:
              action: toggle
            icon: mdi:pine-tree
            name: Tree
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: light_wled_popup
                    type: custom:decluttering-card
                    variables:
                    - light: light.xmas_tree
                    - effect: select.xmas_tree_effect
                  title: Tree
                service: browser_mod.popup
            type: custom:mushroom-light-card
          - double_tap_action:
              action: more-info
            entity: light.wled_mario_star_main
            hold_action:
              action: toggle
            icon: mdi:star-face
            name: Star
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: light_wled_popup
                    type: custom:decluttering-card
                    variables:
                    - light: light.wled_mario_star_main
                    - effect: select.wled_effect_mario_star
                  title: Pixel Star
                service: browser_mod.popup
            type: custom:mushroom-light-card
          - entity: light.xmas
            icon: mdi:string-lights
            name: Outside
            type: custom:mushroom-light-card
          columns: 3
          square: false
          type: grid
        type: vertical-stack
      conditions:
      - entity: binary_sensor.is_xmas
        state: 'on'
      type: conditional
    type: vertical-stack
  icon: mdi:home
  layout:
    max_cols: 1
  path: main
  theme: Backend-selected
  title: Main
  type: custom:vertical-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Living Room
    - icon: mdi:sofa-single
    - icon_color: orange
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.ecobee_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.ecobee_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.ecobee_current_temperature
        type: entity
      - entity: sensor.ecobee_current_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.living_room_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - double_tap_action:
        action: more-info
      entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: light.hallway
        layout: vertical
        name: Hallway
        secondary_info: none
        type: custom:mushroom-light-card
      - entity: light.front_entry
        layout: vertical
        name: Entry
        secondary_info: none
        type: custom:mushroom-light-card
      - entity: light.garage_entry
        layout: vertical
        name: Garage Entry
        secondary_info: none
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: fan.living_room_ceiling
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:dots-horizontal-circle
          icon_color: blue
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                - label: Message
                  name: message
                  selector:
                    select:
                      custom_value: true
                      options:
                      - label: Snack Time
                        value: It's time for snacks!
                      - label: Lunch Time
                        value: Hey, come get some lunch!
                      - label: Dinner Time
                        value: It's time for dinner.
                right_button: Send
                right_button_action:
                  data:
                    media_player: media_player.cast_living_room_speaker
                    volume: 80
                  service: script.media_play
                title: Send Message
              service: browser_mod.popup
          type: template
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.universal_living_room
                  - shield: remote.androidtv_living_room
                title: Living Room Remote
              service: browser_mod.popup
          type: template
    - card:
        icon: mdi:progress-question
        primary: Harmony Unavailable
        type: custom:mushroom-template-card
      conditions:
      - entity: remote.harmony_living_room
        state: unavailable
      type: conditional
    - card:
        cards:
        - entity: remote.harmony_living_room
          icon: mdi:motion-play-outline
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"Shield TV\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: Shield
          tap_action:
            action: call-service
            data:
              activity: Shield TV
            service: remote.turn_on
            target:
              entity_id: remote.harmony_living_room
          type: custom:mushroom-template-card
        - card:
            entity: remote.harmony_living_room
            icon: mdi:power
            icon_color: red
            primary: Power
            tap_action:
              action: call-service
              service: remote.turn_off
              target:
                entity_id: remote.harmony_living_room
            type: custom:mushroom-template-card
          conditions:
          - entity: remote.harmony_living_room
            state: 'on'
          type: conditional
        columns: 2
        square: false
        type: grid
      conditions:
      - entity: remote.harmony_living_room
        state_not: unavailable
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.universal_living_room
        - sound_buttons:
          - icon: mdi:surround-sound-5-1
            id: Straight
            name: Direct
            type: sound_mode
          - icon: mdi:surround-sound-2-1
            id: Surround
            name: Surround
            type: sound_mode
          - icon: mdi:surround-sound
            id: MCh Stereo
            name: Multi-Channel
            type: sound_mode
      conditions:
      - entity: media_player.universal_living_room
        state_not: 'off'
      - entity: media_player.universal_living_room
        state_not: unavailable
      type: conditional
    - entity: media_player.cast_living_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      type: custom:mini-media-player
    type: vertical-stack
  icon: mdi:sofa-single
  layout:
    max_cols: 2
  path: living
  theme: Backend-selected
  title: Living
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Family Room
    - icon: mdi:gamepad-circle
    - icon_color: yellow
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.family_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.family_room_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.family_room_temperature
        type: entity
      - entity: binary_sensor.quest_in_use
        icon: fapro:meta
        icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
        tap_action:
          action: more-info
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.family_room_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: light.stairway
        name: Stairs
        type: custom:mushroom-light-card
      - entity: script.family_room_game_light_mode
        icon: mdi:light-flood-up
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  amber\n{%- else -%}\n\
          \  grey\n{%- endif -%}"
        primary: Game Lighting
        secondary: Set lighting for Games
        tap_action:
          action: call-service
          service: script.family_room_game_light_mode
          target: {}
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:dots-horizontal-circle
          icon_color: blue
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                - label: Message
                  name: message
                  selector:
                    select:
                      custom_value: true
                      options:
                      - label: Snack Time
                        value: It's snack time!
                      - label: Lunch Time
                        value: Hey, come get some lunch.
                      - label: Dinner Time
                        value: Head up-stairs, it's time for dinner.
                      - label: Ethan up-stairs
                        value: Hey Ethan, come up-stairs please.
                      - label: Emma up-stairs
                        value: Hey Emma, come up-stairs please.
                      - label: Kids up-stairs
                        value: Hey kids, come up-stairs please.
                right_button: Send
                right_button_action:
                  data:
                    media_player: media_player.cast_family_room_speaker
                    volume: 90
                  service: script.media_play
                title: Send Message
              service: browser_mod.popup
          type: template
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.universal_family_room
                  - shield: remote.androidtv_family_room
                title: Family Room Remote
              service: browser_mod.popup
          type: template
    - card:
        icon: mdi:progress-question
        primary: Harmony Unavailable
        type: custom:mushroom-template-card
      conditions:
      - entity: remote.harmony_family_room
        state: unavailable
      type: conditional
    - card:
        cards:
        - entity: remote.harmony_family_room
          icon: mdi:motion-play-outline
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"Shield TV\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: Shield
          tap_action:
            action: call-service
            data:
              activity: Shield TV
            service: remote.turn_on
            target:
              entity_id: remote.harmony_family_room
          type: custom:mushroom-template-card
        - entity: remote.harmony_family_room
          icon: mdi:desktop-tower
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"Computer\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: PC
          tap_action:
            action: call-service
            data:
              activity: Computer
            service: remote.turn_on
            target:
              entity_id: remote.harmony_family_room
          type: custom:mushroom-template-card
        - entity: remote.harmony_family_room
          icon: fapro:ps4
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"PS4\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: PS4
          tap_action:
            action: call-service
            data:
              activity: PS4
            service: remote.turn_on
            target:
              entity_id: remote.harmony_family_room
          type: custom:mushroom-template-card
        - entity: remote.harmony_family_room
          icon: fapro:ps3
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"PS3\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: PS3
          tap_action:
            action: call-service
            data:
              activity: PS3
            service: remote.turn_on
            target:
              entity_id: remote.harmony_family_room
          type: custom:mushroom-template-card
        - entity: remote.harmony_family_room
          icon: mdi:microsoft-xbox
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"XBox\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: XBox
          tap_action:
            action: call-service
            data:
              activity: XBox
            service: remote.turn_on
            target:
              entity_id: remote.harmony_family_room
          type: custom:mushroom-template-card
        - card:
            entity: remote.harmony_family_room
            icon: mdi:power
            icon_color: red
            primary: Power
            tap_action:
              action: call-service
              service: remote.turn_off
              target:
                entity_id: remote.harmony_family_room
            type: custom:mushroom-template-card
          conditions:
          - entity: remote.harmony_family_room
            state: 'on'
          type: conditional
        columns: 3
        square: false
        type: grid
      conditions:
      - entity: remote.harmony_family_room
        state_not: unavailable
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.universal_family_room
        - sound_buttons:
          - icon: mdi:surround-sound-5-1
            id: Direct
            name: Direct
            type: sound_mode
          - icon: mdi:surround-sound-2-1
            id: Dolby Digital
            name: Surround
            type: sound_mode
          - icon: mdi:surround-sound
            id: All Zone Stereo
            name: Multi-Channel
            type: sound_mode
      conditions:
      - entity: sensor.family_room_denon_source
        state_not: 'off'
      type: conditional
    - card:
        entity: media_player.denon_avr_s760h
        hide:
          controls: true
          power: true
          source: true
        icon: mdi:audio-video
        shortcuts:
          attribute: source
          buttons:
          - icon: mdi:motion-play-outline
            id: Shield
            type: source
          - icon: mdi:desktop-tower
            id: Computer
            type: source
          - icon: fapro:ps4
            id: PS4
            type: source
          - icon: fapro:ps3
            id: PS3
            type: source
          - icon: mdi:microsoft-xbox
            id: XBox
            type: source
          columns: 5
        type: custom:mini-media-player
      conditions:
      - entity: sensor.family_room_denon_source
        state_not: 'off'
      - entity: sensor.family_room_denon_source
        state_not: unavailable
      type: conditional
    - entity: media_player.cast_family_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      type: custom:mini-media-player
    type: vertical-stack
  - cards:
    - title: Dreamscreen
      type: custom:mushroom-title-card
    - cards:
      - entity: dreamscreen.family_room
        icon: mdi:television
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 1) -%}\n  purple\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Video
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 1
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:music-note
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 2) -%}\n  blue\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Music
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 2
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:lightbulb-on
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 3) -%}\n  amber\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Ambient
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 3
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      type: horizontal-stack
    - card:
        entity: dreamscreen.family_room
        icon: mdi:power
        icon_color: red
        primary: Power
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 0
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      conditions:
      - entity: dreamscreen.family_room
        state: 'on'
      type: conditional
    - card:
        entity: input_select.dreamscreen_family_room_scene
        icon_color: amber
        layout: horizontal
        name: Ambient Scene
        secondary_info: none
        type: custom:mushroom-select-card
      conditions:
      - entity: sensor.dreamscreen_family_room_mode
        state: Ambient
      type: conditional
    type: vertical-stack
  icon: mdi:gamepad-circle
  layout:
    max_cols: 2
  path: family
  theme: Backend-selected
  title: Family
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Office
    - icon: mdi:chair-rolling
    - icon_color: blue
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.office_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.office_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.office_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: pink
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: cyan
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_office
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.office_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - double_tap_action:
        action: more-info
      entity: light.office
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - double_tap_action:
        action: more-info
      entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - double_tap_action:
        action: more-info
      entity: light.wled_office_desk
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.wled_office_desk
              - effect: select.wled_effect_office_desk
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - entity: media_player.cast_office_speaker
    hide:
      power: true
    icon: mdi:dots-horizontal-circle
    info: scroll
    name: Google Home
    type: custom:mini-media-player
  icon: mdi:chair-rolling
  layout:
    max_cols: 1
  path: office
  theme: Backend-selected
  title: Office
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Kitchen
    - icon: mdi:fridge-variant
    - icon_color: cyan
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.kitchen_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.kitchen_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.kitchen_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.kitchen_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.dining_room
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:fridge-variant
  layout:
    max_cols: 1
  path: kitchen
  theme: Backend-selected
  title: Kitchen
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Master Bedroom
    - icon: mdi:bed-king
    - icon_color: deep-purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.master_bedroom_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.master_bedroom_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.master_bedroom_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.master_bedroom_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - double_tap_action:
        action: more-info
      entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - entity: fan.master_bedroom_ceiling
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.universal_master_bedroom
                  - shield: remote.harmony_master_bedroom
                title: Master Bedroom Remote
              service: browser_mod.popup
          type: template
    - card:
        icon: mdi:progress-question
        primary: Harmony Unavailable
        type: custom:mushroom-template-card
      conditions:
      - entity: remote.harmony_master_bedroom
        state: unavailable
      type: conditional
    - card:
        cards:
        - entity: remote.harmony_master_bedroom
          icon: mdi:motion-play-outline
          icon_color: "{%- if has_value(entity) and is_state_attr(entity, \"current_activity\"\
            , \"Shield TV\") -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
          primary: Shield
          tap_action:
            action: call-service
            data:
              activity: Shield TV
            service: remote.turn_on
            target:
              entity_id: remote.harmony_master_bedroom
          type: custom:mushroom-template-card
        - card:
            entity: remote.harmony_master_bedroom
            icon: mdi:power
            icon_color: red
            primary: Power
            tap_action:
              action: call-service
              service: remote.turn_off
              target:
                entity_id: remote.harmony_master_bedroom
            type: custom:mushroom-template-card
          conditions:
          - entity: remote.harmony_master_bedroom
            state: 'on'
          type: conditional
        columns: 2
        square: false
        type: grid
      conditions:
      - entity: remote.harmony_master_bedroom
        state_not: unavailable
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.universal_master_bedroom
        - buttons:
          - icon: mdi:plex
            id: Plex
            name: Plex
            type: source
          - icon: fab:amazon
            id: Amazon
            name: Prime
            type: source
          - icon: mdi:youtube
            id: SmartTube
            name: SmartTube
            type: source
          - icon: mdi:spotify
            id: Spotify
            name: Spotify
            type: source
          - icon: mdi:twitch
            id: Twitch
            name: Twitch
            type: source
          - icon: fapro:crunchyroll
            id: Crunchyroll
            name: Crunchyroll
            type: source
          - icon: mdi:apps
            id: Home
            name: Home
            type: source
      conditions:
      - entity: remote.harmony_master_bedroom
        state_not: 'off'
      - entity: remote.harmony_master_bedroom
        state_not: unavailable
      type: conditional
    type: vertical-stack
  icon: mdi:bed-king
  layout:
    max_cols: 1
  path: master
  theme: Backend-selected
  title: Master
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ethan
    - icon: mdi:robot
    - icon_color: green
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.ethan_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.ethan_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.ethan_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.ethans_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:robot
  layout:
    max_cols: 1
  path: ethan
  theme: Backend-selected
  title: Ethan
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Emma
    - icon: mdi:unicorn-variant
    - icon_color: purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.emma_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.emma_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.emma_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.emmas_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:unicorn-variant
  layout:
    max_cols: 1
  path: emma
  theme: Backend-selected
  title: Emma
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Amy's Office
    - icon: mdi:skull
    - icon_color: red
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Occupied", "Clear") }}'
        entity: binary_sensor.guest_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.guest_room_motion
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.guest_room_temperature
        type: entity
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.amy_office
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:skull
  layout:
    max_cols: 1
  path: amy-office-room
  theme: Backend-selected
  title: Amy's Office
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Garage
    - icon: '{% if is_state(''cover.opengarage'', ''open'') %}mdi:garage-open-variant{%
        elif states(''cover.opengarage'') in [''opening'', ''closing''] %}mdi:garage-alert-variant{%
        else %}mdi:garage-variant{% endif %}'
    - icon_color: blue-grey
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.garage_multisensor_motion_detection
        icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:motion-sensor-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.garage_multisensor_air_temperature
        type: entity
      - entity: sensor.garage_multisensor_humidity
        type: entity
      - entity: sensor.garage_multisensor_illuminance
        icon: mdi:brightness-6
        type: entity
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.garage
      name: Light
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - entity: cover.opengarage
      icon: "{% if is_state(entity, \"open\") %}\n  mdi:garage-open-variant\n{% elif\
        \ is_state(entity, \"opening\") %}\n  mdi:garage-alert-variant\n{% elif is_state(entity,\
        \ \"closed\") %}\n  mdi:garage-variant\n{% else %}\n  mdi:garage-alert-variant\n\
        {% endif %}"
      icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif is_state(entity,\
        \ \"opening\") %}\n  amber\n{% elif is_state(entity, \"closed\") %}\n  green\n\
        {% else %}\n  mdi:garage-alert-variant\n{% endif %}"
      multiline_secondary: true
      primary: Garage Door
      secondary: "{% from \"util.jinja\" import custom_timedelta %} {%- if is_state(entity,\
        \ \"open\") %}\n  Open\n{%- elif is_state(entity, \"opening\") %}\n  Opening\n\
        {%- elif is_state(entity, \"closed\") %}\n  Closed\n{%- else %}\n  Unknown\n\
        {%- endif %}\n{{ custom_timedelta(entity) }}"
      tap_action:
        action: none
      type: custom:mushroom-template-card
    - entity: cover.opengarage
      icon_type: none
      name: Garage Door
      primary_info: none
      secondary_info: none
      show_buttons_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-cover-card
    horizontal: true
    type: custom:vertical-stack-in-card
  - card_mod:
      style: "ha-card {\n  height: 85px;\n}\n"
    cards:
    - entity: binary_sensor.opengarage_vehicle
      icon: fapro:subaru
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- else -%}\n  red\n\
        {%- endif -%}"
      primary: Ascent {{ "not" if not is_state(entity, "on") }} in Garage
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - alignment: end
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-border-width: 0;\n  --chip-spacing: 0;\n  --chip-avatar-padding:\
          \ 0.2375em;\n  top: -20px\n}\n"
      chips:
      - entity: sensor.opengarage_distance
        icon: mdi:arrow-collapse-vertical
        type: entity
      - entity: sensor.opengarage_signal_strength
        type: entity
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  icon: mdi:garage-variant
  layout:
    max_cols: 1
  path: garage
  theme: Backend-selected
  title: Garage
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Outside
    - icon: mdi:spa
    - icon_color: light-green
    - chips:
      - entity: sensor.owm_daily_temperature
        type: entity
      - entity: sensor.owm_daily_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.outside_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: light.outside_side
        name: Side
        type: custom:mushroom-light-card
      - entity: light.outside_back
        name: Back
        type: custom:mushroom-light-card
      - entity: light.xmas
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:spa
  layout:
    max_cols: 1
  path: outside
  theme: Backend-selected
  title: Outside
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Utility
    - icon: mdi:progress-wrench
    - icon_color: brown
    - chips:
      - entity: sensor.water_main_valve_air_temperature
        type: entity
  - cards:
    - title: Water
      type: custom:mushroom-title-card
    - card:
        type: vertical-stack
      card_param: cards
      filter:
        exclude:
        - entity_id: binary_sensor.water_leak_detected
        - state: 'off'
        - state: unavailable
        - state: unknown
        include:
        - group: binary_sensor.water_leak_detected
          options:
            type: custom:mushroom-entity-card
      sort:
        method: state
      type: custom:auto-entities
    - entity: switch.water_main_valve
      hold_action:
        action: toggle
      icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:valve-open\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  mdi:valve-closed\n{%- else -%}\n  mdi:valve\n{%- endif -%}"
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  red\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: Water Main Valve
      secondary: "{%- if is_state(entity, \"on\") -%}\n  Press and Hold to close\n\
        {%- elif is_state(entity, \"off\") -%}\n  Press and Hold to open\n{%- endif\
        \ -%}"
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - animation:
        state: 'on'
      decimal: 1
      entities:
      - entity: sensor.water_softener_salt_monitor_salt_level
        name: Water Softener Salt Level
      name: Water Softener Salt Level
      positions:
        indicator: inside
      severity:
      - color: var(--red-color)
        from: 0
        to: 20
      - color: var(--orange-color)
        from: 20
        to: 40
      - color: var(--amber-color)
        from: 40
        to: 60
      - color: var(--light-green-color)
        from: 60
        to: 80
      - color: var(--green-color)
        from: 80
        to: 100
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - subtitle: Press and Hold to Toggle
      title: Sprinklers
      type: custom:mushroom-title-card
    - cards:
      - entity: switch.rachio_zone_1
        hold_action:
          action: toggle
        name: 1 | Front North
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_2
        hold_action:
          action: toggle
        name: 2 | Front Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_3
        hold_action:
          action: toggle
        name: 3 | North Fence
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_4
        hold_action:
          action: toggle
        name: 4 | Back Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_5
        hold_action:
          action: toggle
        name: 5 | Back South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_6
        hold_action:
          action: toggle
        name: 6 | Front South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_7
        hold_action:
          action: toggle
        name: 7 | Flower Beds
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_standby
        hold_action:
          action: toggle
        icon_color: amber
        name: Standby
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:progress-wrench
  layout:
    max_cols: 1
  path: utility
  theme: Backend-selected
  title: Utility
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ascent
    - secondary: Press and Hold to Activate Actions
    - icon: fapro:subaru
    - icon_color: blue
    - chips:
      - entity: sensor.ascent_odometer
        type: entity
      - entity: sensor.ascent_avg_fuel_consumption
        type: entity
  - cards:
    - card_mod:
        style:
          .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
            \ none;\n  box-shadow: none;\n  --ha-card-border-width: 0;\n\n  /* Increase\
            \ icon size */\n  --icon-size: 72px;\n\n  /* Center card */\n  margin:\
            \ 10px auto;\n  width: fit-content;\n\n  /* Add padding to bottom of card\
            \ */\n  padding: 0px 0px var(--mush-title-spacing, 12px) 0px !important;\n\
            \n  /* Make card non-responsive to select and pointer */\n  user-select:\
            \ none;\n  pointer-events: none;\n\n  transition: all 0s;\n}\n:host {\n\
            \  /* Define Person State colors. Can be added to theme */\n  --state-person-home:\
            \ var(--green-color);\n  --state-person-not-home: var(--red-color);\n\
            \  --state-person-zone: var(--blue-color);\n  --state-person-unknown:\
            \ var(--grey-color);\n\n  /* Set Person State color */\n  --state-person:\n\
            \  {% if is_state(config.entity, ['home', 'not_home', 'unknown']) %}\n\
            \    var(--state-person-{{ states(config.entity) | replace('_', '-') }})\n\
            \  {% else %}\n    var(--state-person-zone)\n  {% endif %};\n\n  /* Match\
            \ styling to Mushroom Title */\n  --mush-card-primary-font-size: var(--mush-title-font-size,\
            \ 24px);\n  --mush-card-primary-font-weight: var(--mush-title-font-weight,\
            \ normal);\n  --mush-card-primary-line-height: var(--ush-title-line-height,\
            \ 1.2);\n  --mush-card-secondary-font-size: var(--mush-title-font-size,\
            \ 16px);\n  --mush-card-secondary-font-weight: var(--mush-title-font-weight,\
            \ normal);\n  --mush-card-secondary-line-height: var(--mush-title-line-height,\
            \ 1.2);\n}\n"
          mushroom-shape-avatar$: ".picture {\n  /* Style shadow around avatar */\n\
            \  background-color: var(--state-person);\n  box-shadow: 0 0 4px 2px var(--state-person);\n\
            \  margin-right: var(--mush-title-spacing, 12px);\n}\n"
      entity: device_tracker.ascent
      hold_action:
        action: none
      icon_type: entity-picture
      layout: horizontal
      primary_info: state
      secondary_info: none
      tap_action:
        action: none
      type: custom:mushroom-entity-card
    - animation:
        state: 'on'
      decimal: 1
      entities:
      - entity: sensor.ascent_range
      height: 24px
      max: 345
      name: Range
      positions:
        icon: inside
        indicator: inside
      severity:
      - color: var(--red-color)
        from: 0
        to: 20
      - color: var(--orange-color)
        from: 20
        to: 40
      - color: var(--amber-color)
        from: 40
        to: 60
      - color: var(--light-green-color)
        from: 60
        to: 200
      - color: var(--green-color)
        from: 200
        to: 345
      style: "ha-card {\n  background: none;\n  border-width: 0;\n}\n#states {\n \
        \ padding: 8px 2px;\n}\nbar-card-name,\nbar-card-value {\n  text-shadow: 1px\
        \ 1px var(--primary-background-color);\n}\nbar-card-backgroundbar {\n  background-color:\
        \ var(--primary-background-color);\n}"
      type: custom:bar-card
    - cards:
      - card_mod:
          style:
            .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
              \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width: 0;\n\
              \n  /* Center card on row */\n  width: fit-content;\n  margin: auto;\n\
              }\n"
        entity: sensor.ascent_avg_fuel_consumption
        icon_color: green
        layout: vertical
        name: MPG
        type: custom:mushroom-entity-card
      - card_mod:
          style:
            .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
              \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width: 0;\n\
              \n  /* Center card on row */\n  width: fit-content;\n  margin: auto;\n\
              }\n"
        entity: binary_sensor.opengarage_vehicle
        icon: mdi:garage-variant
        icon_color: '{{ iif(is_state(entity, "on"), "green", "red") }}'
        layout: vertical
        primary: '{{ iif(is_state(entity, "on"), "In Garage", "Not in Garage") }}'
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - card_mod:
          style:
            .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
              \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width: 0;\n\
              \n  /* Center card on row */\n  width: fit-content;\n  margin: auto;\n\
              }\n"
        entity: sensor.ascent_odometer
        icon_color: blue
        layout: vertical
        name: Odometer
        type: custom:mushroom-entity-card
      type: horizontal-stack
    - cards:
      - entity: select.ascent_climate_preset
        icon_color: pink
        layout: horizontal
        name: Climate Preset
        secondary_info: none
        type: custom:mushroom-select-card
      - cards:
        - entity: lock.ascent_door_locks
          hold_action:
            action: call-service
            service: lock.lock
            target:
              entity_id: lock.ascent_door_locks
          icon: mdi:lock
          icon_color: grey
          primary: Lock
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: lock.ascent_door_locks
          hold_action:
            action: call-service
            service: lock.unlock
            target:
              entity_id: lock.ascent_door_locks
          icon: mdi:lock-open
          icon_color: grey
          primary: Unlock
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_remote_start
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_remote_start
          icon: mdi:key-wireless
          icon_color: grey
          primary: Remote Start
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_remote_stop
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_remote_stop
          icon: mdi:stop-circle-outline
          icon_color: grey
          primary: Remote Stop
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_lights_start
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_lights_start
          icon: mdi:lightbulb-on
          icon_color: grey
          primary: Flash Lights
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_lights_stop
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_lights_stop
          icon: mdi:lightbulb-off
          icon_color: grey
          primary: Stop Flash Lights
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_horn_start
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_horn_start
          icon: mdi:volume-high
          icon_color: grey
          primary: Sound Horn
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - entity: button.ascent_horn_stop
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.ascent_horn_stop
          icon: mdi:volume-off
          icon_color: grey
          primary: Stop Horn
          tap_action:
            action: none
          type: custom:mushroom-template-card
        columns: 2
        square: false
        type: grid
      child-padding: 0em
      gap: 0em
      padding: 0em
      title-card:
        cards:
        - entity: script.subaru_remote_start
          hold_action:
            action: call-service
            service: script.turn_on
            target:
              entity_id: script.subaru_remote_start
          icon: mdi:key-wireless
          icon_color: amber
          primary: Remote Start
          secondary: "{%- if is_state(\"binary_sensor.opengarage_vehicle\", \"on\"\
            ) -%}\n  Open the Garage and Start the Ascent\n{%- else -%}\n  Start the\
            \ Ascent\n{%- endif -%}"
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - bar_background: var(--disabled-color)
          bar_direction: rtl
          compressed: true
          entities:
          - entity: timer.subaru_remote_start
            name: Timer
          filter: true
          invert: true
          type: custom:timer-bar-card
        type: custom:vertical-stack-in-card
      title-card-padding: 0em
      type: custom:expander-card
    type: vertical-stack
  - cards:
    - title: Location
      type: custom:mushroom-title-card
    - aspect_ratio: '4:3'
      card_mod:
        style:
          .: "ha-card {\n  /* Remove default card styling without affecting child\
            \ elements */\n  box-shadow: none;\n  border-width: 0;\n  border-radius:\
            \ 0px 0px var(--ha-card-border-radius, 12px) var(--ha-card-border-radius,\
            \ 12px);\n  transition: all 0s;\n}\n:host {\n  /* Define Person State\
            \ colors. Can be added to theme */\n  --state-person-home: var(--green-color);\n\
            \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
            \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\n\
            \  /* Set person state color */\n  --state-person:\n  {% if is_state(config.entities[0].entity,\
            \ ['home', 'not_home', 'unknown']) %}\n    var(--state-person-{{ states(config.entities[0].entity)\
            \ | replace('_', '-') }})\n  {% else %}\n    var(--state-person-zone)\n\
            \  {% endif %};\n}\nha-icon-button {\n  /* Position center button */\n\
            \  bottom: 12px;\n  left: 12px !important;\n  top: auto !important;\n\n\
            \  /* Style center button to match Chip */\n  color: var(--deep-orange-color)\
            \ !important;\n  background: color-mix(in srgb, var(--deep-orange-color)\
            \ 20%, transparent);\n  border-radius: var(--mush-chip-border-radius,\
            \ 19px);\n  border: var(--ha-card-border-width, 1px) solid var(--ha-card-border-color,\
            \ var(--divider-color, #e0e0e0)) !important;\n}\n"
          ha-icon-button $ mwc-icon-button $: "button {\n  /* Size center button to\
            \ match Chip */\n  height: var(--mush-chip-height, 36px) !important;\n\
            \  width: var(--mush-chip-height, 36px) !important;\n  --mdc-icon-size:\
            \ 22px;\n}\n"
          ha-map $: "path:first-child {\n  /* Style accuracy radius */\n  stroke:\
            \ var(--state-person);\n  fill: color-mix(in srgb, var(--state-person)\
            \ 50%, transparent);\n  stroke-width: 0px;\n}\npath:nth-child(even) {\n\
            \  /* Styling for waypoints */\n  stroke: var(--blue-color);\n  stroke-width:\
            \ 4px;\n}\npath:nth-child(odd):not(:first-child) {\n  /* Styling for lines\
            \ */\n  stroke: var(--blue-color);\n  stroke-width: 4px;\n}\n.leaflet-control-attribution\
            \ {\n  /* Style attribution text */\n  background: rgba(var(--rgb-card-background-color),\
            \ 0.4) !important;\n  font-size: 10px;\n}\n.leaflet-container a {\n  /*\
            \ Set color of zoom icons & attribution text */\n  color: var(--secondary-text-color);\n\
            }\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out {\n  /* Style\
            \ zoom buttons like Chips */\n  border-radius: var(--mush-chip-border-radius,\
            \ 19px) !important;\n  padding: 3px;\n  background: rgb(var(--rgb-secondary-text-color),\
            \ 0.2) !important;\n  margin: 8px 12px 0px;\n  border: var(--ha-card-border-width,\
            \ 1px) solid var(--ha-card-border-color, var(--divider-color, #e0e0e0))\
            \ !important;\n}\n.leaflet-top {\n  /* Move zoom buttons to bottom of\
            \ map */\n  bottom: 0px !important;\n}\n.leaflet-control-zoom {\n  /*\
            \ Allow buttons to be moved */\n  position: absolute !important;\n\n \
            \ /* Adjust spacing for border */\n  bottom: calc(2 * var(--ha-card-border-width,\
            \ 1px) + 56px);\n\n  /* Remove extra margin */\n  margin: 0px !important;\n\
            \n  /* Remove zoom control border */\n  border: none !important;\n}\n"
          ha-map $ ha-entity-marker $: ".marker {\n  /* Style person marker & adjust\
            \ position to avoid blocking waypoints */\n  border: 3px solid var(--state-person)\
            \ !important;\n  border-radius: 50% 50% 50% 0px !important;\n  transform:\
            \ rotate(-45deg) translate(50%, -50%);\n  overflow: visible !important;\n\
            \  background: var(--state-person) !important;\n}\n.entity-picture {\n\
            \  /* Correct orientation of person avatar */\n  transform: rotate(45deg);\n\
            \  border-radius: 50%;\n}\n"
      default_zoom: 12
      entities:
      - entity: device_tracker.ascent
      hours_to_show: 24
      type: map
    type: vertical-stack
  - cards:
    - title: Overview
      type: custom:mushroom-title-card
    - config:
        console_log_level: warn
        defaults:
          hold_action: more-info
          hover_action: hover-info
          tap_action: more-info
        image: /local/floorplan/subaru.svg
        rules:
        - entities:
          - sensor.ascent_tire_pressure_fl
          - sensor.ascent_tire_pressure_fr
          - sensor.ascent_tire_pressure_rl
          - sensor.ascent_tire_pressure_rr
          name: Tires
          state_action:
          - service: floorplan.text_set
            service_data: '${entity.state ? Math.round(entity.state) : "undefined"}'
          - service: floorplan.class_set
            service_data: ">\nvar temp = parseFloat(entity.state.replace(\"°\", \"\
              \"));\nif (temp < 28)\n  return \"danger\";\nelse if (temp < 30)\n \
              \ return \"warning\";\nelse if (temp < 35)\n  return \"normal\";\nelse\
              \ if (temp < 37)\n  return \"warning\";\nelse\n  return \"danger\";\n"
        - entities:
          - binary_sensor.ascent_front_left_door
          - binary_sensor.ascent_front_right_door
          - binary_sensor.ascent_rear_left_door
          - binary_sensor.ascent_rear_right_door
          - binary_sensor.ascent_trunk
          - binary_sensor.ascent_front_left_window
          - binary_sensor.ascent_front_right_window
          - binary_sensor.ascent_rear_left_window
          - binary_sensor.ascent_rear_right_window
          name: Openables
          state_action:
            service: floorplan.class_set
            service_data: '${(entity.state === "on") ? "layer-visible " : "layer-hidden"}'
        stylesheet: /local/floorplan/subaru.css
      type: custom:floorplan-card
    type: vertical-stack
  - cards:
    - title: Update Data
      type: custom:mushroom-title-card
    - cards:
      - entity: button.ascent_refresh
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_refresh
        icon: mdi:refresh
        icon_color: grey
        primary: Refresh
        secondary: Update from server
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_locate
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_locate
        icon: mdi:car-connected
        icon_color: grey
        primary: Poll
        secondary: Update from car
        tap_action:
          action: none
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: fapro:subaru
  layout:
    max_cols: 2
  path: subaru
  theme: Backend-selected
  title: Subaru
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Computers
    - secondary: Press and Hold to Activate Actions
    - icon: mdi:desktop-tower
    - icon_color: grey
    - chips:
      - card_mod:
          style:
            .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
              \ \"{{ expand(config.entity) | selectattr(\"state\", \"==\", \"on\"\
              ) | list | count }}\";\n  position: absolute;\n  color: var(--teal-color);\n\
              \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n\
              }\n{% endif %}\n"
        entity: binary_sensor.computers
        icon: mdi:desktop-tower
        icon_color: '{{ "teal" if is_state(entity, "on") else "disabled" }}'
        tap_action:
          action: none
        type: template
      - card_mod:
          style: "ha-card {\n{% if is_state(config.entity, \"online\") %}\n  --chip-background:\
            \ rgba(var(--rgb-green), 0.8);\n{% endif %}\n  --chip-height: 30px;\n\
            \  margin-top: 3px;\n  margin-left: 10px;\n}\n{% if is_state(config.entity,\
            \ \"offline\") %}\n.avatar {\n  filter: grayscale(100%);\n}\n{% endif\
            \ %}\n"
        content: '{{ states(config.entity) | title }}'
        entity: sensor.steam_zanix
        picture: '{{ state_attr(entity, "entity_picture") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  background: none;\n}\n"
                entity: sensor.steam_zanix
                game_background: true
                type: custom:kb-steam-card
              title: Steam
            service: browser_mod.popup
        type: template
      - card_mod:
          style: "ha-card {\n{% if is_state(config.entity, \"online\") %}\n  --chip-background:\
            \ rgba(var(--rgb-green), 0.8);\n{% endif %}\n  --chip-height: 30px;\n\
            \  margin-top: 3px;\n  margin-left: 10px;\n}\n{% if is_state(config.entity,\
            \ \"offline\") %}\n.avatar {\n  filter: grayscale(100%);\n}\n{% endif\
            \ %}\n"
        content: '{{ states(config.entity) | title }}'
        entity: sensor.steam_starchild
        picture: '{{ state_attr(entity, "entity_picture") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  background: none;\n}\n"
                entity: sensor.steam_starchild
                game_background: true
                type: custom:kb-steam-card
              title: Steam
            service: browser_mod.popup
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Erebus
      - subtitle: R5-5600X | RX 580 | 650W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.erebus_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.erebus_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.erebus_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: erebus
                    - type: software
                  title: Software Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.erebus_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: erebus
                    - type: driver
                  title: Driver Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.erebus_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.erebus
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - tabs:
      - attributes:
          icon: mdi:motion-play-outline
        card:
          card:
            template: media_card
            type: custom:decluttering-card
            variables:
            - entity: media_player.erebus
            - expanded: true
            - buttons: []
          conditions:
          - entity: media_player.erebus
            state_not: unavailable
          - entity: media_player.erebus
            state_not: 'off'
          type: conditional
      - attributes:
          icon: mdi:button-pointer
        card:
          template: computer_power
          type: custom:decluttering-card
          variables:
          - computer: erebus
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.erebus_connected
            - name: Erebus Up-Time
            - icon: mdi:connection
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: CPU
            - graph_1_icon: mdi:cpu-64-bit
            - graph_1_entities:
              - color: var(--amber-color)
                entity: sensor.erebus_cpu_load
                name: Usage
                show_points: false
                show_state: true
              - color: var(--lime-color)
                entity: sensor.erebus_cpu_clock_speed
                name: Speed
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_3_name: Storage
            - graph_3_icon: mdi:harddisk
            - graph_3_entities:
              - attribute: UsedSpacePercentage
                color: var(--blue-color)
                entity: sensor.erebus_storage_c
                name: Win10
                show_points: false
                show_state: true
                unit: '%'
              - attribute: UsedSpacePercentage
                color: var(--indigo-color)
                entity: sensor.erebus_storage_b
                name: Backup
                show_points: false
                show_state: true
                unit: '%'
            - graph_4_name: RAM
            - graph_4_icon: mdi:memory
            - graph_4_entities:
              - color: var(--purple-color)
                entity: sensor.erebus_memory_usage
                name: Usage
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Nasya
      - subtitle: i7-1260P | RTX 3050 Ti | 100W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.nasya_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.nasya_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.nasya_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.nasya_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.nasya_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: nasya
                    - type: software
                  title: Software Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.nasya_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: nasya
                    - type: driver
                  title: Driver Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.nasya_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.nasya
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - tabs:
      - attributes:
          icon: mdi:motion-play-outline
        card:
          card:
            template: media_card
            type: custom:decluttering-card
            variables:
            - entity: media_player.nasya
            - expanded: true
            - buttons: []
          conditions:
          - entity: media_player.nasya
            state_not: unavailable
          - entity: media_player.nasya
            state_not: 'off'
          type: conditional
      - attributes:
          icon: mdi:button-pointer
        card:
          template: computer_power
          type: custom:decluttering-card
          variables:
          - computer: nasya
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.nasya_connected
            - name: Nasya Up-Time
            - icon: mdi:connection
          - card:
              animation:
                state: 'on'
              decimal: 0
              entities:
              - entity: sensor.nasya_battery_charge_remaining_percentage
              name: Nasya Battery Level
              positions:
                indicator: inside
              severity:
              - color: var(--red-color)
                from: 0
                to: 10
              - color: var(--orange-color)
                from: 10
                to: 30
              - color: var(--amber-color)
                from: 30
                to: 50
              - color: var(--light-green-color)
                from: 50
                to: 80
              - color: var(--green-color)
                from: 80
                to: 100
              style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
                }"
              type: custom:bar-card
            conditions:
            - entity: binary_sensor.nasya_connected
              state: 'on'
            - entity: sensor.nasya_battery_charge_remaining_percentage
              state_not: unavailable
            type: conditional
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: CPU
            - graph_1_icon: mdi:cpu-64-bit
            - graph_1_entities:
              - color: var(--amber-color)
                entity: sensor.nasya_cpu_load
                name: Usage
                show_points: false
                show_state: true
              - color: var(--lime-color)
                entity: sensor.nasya_cpu_clock_speed
                name: Speed
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_2_name: GPU
            - graph_2_icon: mdi:expansion-card
            - graph_2_entities:
              - color: var(--green-color)
                entity: sensor.nasya_gpu_load
                name: Load
                show_points: false
                show_state: true
              - color: var(--pink-color)
                entity: sensor.nasya_gpu_temperature
                name: Temp
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_3_name: Storage
            - graph_3_icon: mdi:harddisk
            - graph_3_entities:
              - attribute: UsedSpacePercentage
                color: var(--blue-color)
                entity: sensor.nasya_storage_c
                name: Win10
                show_points: false
                show_state: true
                unit: '%'
            - graph_4_name: RAM
            - graph_4_icon: mdi:memory
            - graph_4_entities:
              - color: var(--purple-color)
                entity: sensor.nasya_memory_usage
                name: Usage
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ardena
      - subtitle: R5-5600X | RTX 3080 | 750W
      - chips:
        - card_mod:
            style:
              .: "ha-card {\n  {% if is_state(config.entity, 'on') %}\n  animation:\
                \ rotation 1.5s linear infinite;\n  {% endif %}\n}\n@keyframes rotation\
                \ {\n  100% {\n    transform: rotate(-360deg);\n  }\n}\n"
          entity: fan.computer
          icon: mdi:fan
          icon_color: '{{ iif(is_state(entity, ''on''), "green", "disabled") }}'
          type: template
        - chip:
            content_info: none
            entity: binary_sensor.ardena_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.ardena_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.ardena_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.ardena_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.ardena_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: ardena
                    - type: software
                  title: Software Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.ardena_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: ardena
                    - type: driver
                  title: Driver Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.ardena_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.ardena
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - tabs:
      - attributes:
          icon: mdi:motion-play-outline
        card:
          card:
            template: media_card
            type: custom:decluttering-card
            variables:
            - entity: media_player.ardena
            - expanded: true
            - buttons: []
          conditions:
          - entity: media_player.ardena
            state_not: unavailable
          - entity: media_player.ardena
            state_not: 'off'
          type: conditional
      - attributes:
          icon: mdi:button-pointer
        card:
          cards:
          - template: computer_power
            type: custom:decluttering-card
            variables:
            - computer: ardena
          - card:
              template: computer_apps
              type: custom:decluttering-card
              variables:
              - computer: ardena
            conditions:
            - entity: binary_sensor.ardena_connected
              state_not: 'off'
            type: conditional
          type: vertical-stack
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.ardena_connected
            - name: Ardena Up-Time
            - icon: mdi:connection
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: CPU
            - graph_1_icon: mdi:cpu-64-bit
            - graph_1_entities:
              - color: var(--amber-color)
                entity: sensor.ardena_cpu_load
                name: Usage
                show_points: false
                show_state: true
              - color: var(--lime-color)
                entity: sensor.ardena_cpu_clock_speed
                name: Speed
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_2_name: GPU
            - graph_2_icon: mdi:expansion-card
            - graph_2_entities:
              - color: var(--green-color)
                entity: sensor.ardena_gpu_load
                name: Load
                show_points: false
                show_state: true
              - color: var(--pink-color)
                entity: sensor.ardena_gpu_temperature
                name: Temperature
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_3_name: Storage
            - graph_3_icon: mdi:harddisk
            - graph_3_entities:
              - attribute: UsedSpacePercentage
                color: var(--blue-color)
                entity: sensor.ardena_storage_c
                name: Win10
                show_points: false
                show_state: true
                unit: '%'
            - graph_4_name: RAM
            - graph_4_icon: mdi:memory
            - graph_4_entities:
              - color: var(--purple-color)
                entity: sensor.ardena_memory_usage
                name: Usage
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Athos
      - subtitle: i7-11700 | GTX 1070 | 400W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.athos_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.athos_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.athos_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.athos_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.athos_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: athos
                    - type: software
                  title: Software Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ int(states(entity), 0) }}'
            entity: sensor.athos_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: windows_updates_list
                    type: custom:decluttering-card
                    variables:
                    - computer: athos
                    - type: driver
                  title: Driver Updates
                service: browser_mod.popup
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.athos_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.athos
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - tabs:
      - attributes:
          icon: mdi:motion-play-outline
        card:
          card:
            template: media_card
            type: custom:decluttering-card
            variables:
            - entity: media_player.athos
            - expanded: true
            - buttons: []
          conditions:
          - entity: media_player.athos
            state_not: unavailable
          - entity: media_player.athos
            state_not: 'off'
          type: conditional
      - attributes:
          icon: mdi:button-pointer
        card:
          cards:
          - template: computer_power
            type: custom:decluttering-card
            variables:
            - computer: athos
          - card:
              template: computer_apps
              type: custom:decluttering-card
              variables:
              - computer: athos
            conditions:
            - entity: binary_sensor.athos_connected
              state_not: 'off'
            type: conditional
          type: vertical-stack
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.athos_connected
            - name: Athos Up-Time
            - icon: mdi:connection
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: CPU
            - graph_1_icon: mdi:cpu-64-bit
            - graph_1_entities:
              - color: var(--amber-color)
                entity: sensor.athos_cpu_load
                name: Usage
                show_points: false
                show_state: true
              - color: var(--lime-color)
                entity: sensor.athos_cpu_clock_speed
                name: Speed
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_2_name: GPU
            - graph_2_icon: mdi:expansion-card
            - graph_2_entities:
              - color: var(--green-color)
                entity: sensor.athos_gpu_load
                name: Load
                show_points: false
                show_state: true
              - color: var(--pink-color)
                entity: sensor.athos_gpu_temperature
                name: Temp
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_3_name: Storage
            - graph_3_icon: mdi:harddisk
            - graph_3_entities:
              - attribute: UsedSpacePercentage
                color: var(--blue-color)
                entity: sensor.athos_storage_c
                name: Win10
                show_points: false
                show_state: true
                unit: '%'
            - graph_4_name: RAM
            - graph_4_icon: mdi:memory
            - graph_4_entities:
              - color: var(--purple-color)
                entity: sensor.athos_memory_usage
                name: Usage
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  - cards:
    - subtitle: Raspberry Pi 4
      title: Smart Display
      type: custom:mushroom-title-card
    - tabs:
      - attributes:
          icon: mdi:apps-box
        card:
          entity: light.smart_display_monitor
          layout: horizontal
          name: Monitor
          show_brightness_control: true
          type: custom:mushroom-light-card
      - attributes:
          icon: mdi:button-pointer
        card:
          cards:
          - cards:
            - card:
                card_mod:
                  style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n\
                    }\n"
                entity: button.smart_display_shutdown
                hold_action:
                  action: call-service
                  service: button.press
                  target:
                    entity_id: button.smart_display_shutdown
                icon: mdi:power
                icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
                layout: vertical
                tap_action:
                  action: none
                type: custom:mushroom-template-card
              conditions:
              - entity: binary_sensor.smart_display_connected
                state: 'on'
              type: conditional
            - card:
                card_mod:
                  style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n\
                    }\n"
                entity: button.smart_display_reboot
                hold_action:
                  action: call-service
                  service: button.press
                  target:
                    entity_id: button.smart_display_reboot
                icon: mdi:refresh
                icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
                layout: vertical
                tap_action:
                  action: none
                type: custom:mushroom-template-card
              conditions:
              - entity: binary_sensor.smart_display_connected
                state: 'on'
              type: conditional
            - card:
                card_mod:
                  style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n\
                    }\n"
                entity: button.smart_display_restart
                hold_action:
                  action: call-service
                  service: button.press
                  target:
                    entity_id: button.smart_display_restart
                icon: mdi:web-refresh
                icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
                layout: vertical
                tap_action:
                  action: none
                type: custom:mushroom-template-card
              conditions:
              - entity: binary_sensor.smart_display_connected
                state: 'on'
              type: conditional
            horizontal: true
            type: custom:vertical-stack-in-card
          type: vertical-stack
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.smart_display_connected
            - name: Smart Display Up-Time
            - icon: mdi:connection
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: CPU
            - graph_1_icon: mdi:cpu-64-bit
            - graph_1_entities:
              - color: var(--amber-color)
                entity: sensor.smart_display_cpu_used
                name: Usage
                show_points: false
                show_state: true
            - graph_2_name: CPU Temp
            - graph_2_icon: mdi:thermometer-lines
            - graph_2_entities:
              - color: var(--pink-color)
                entity: sensor.smart_display_package_id_0_temperature
                name: Temperature
                show_points: false
                show_state: true
                y_axis: secondary
            - graph_3_name: Storage
            - graph_3_icon: mdi:sd
            - graph_3_entities:
              - color: var(--blue-color)
                entity: sensor.smart_display_disk_used_percent
                name: Storage
                show_points: false
                show_state: true
            - graph_4_name: RAM
            - graph_4_icon: mdi:memory
            - graph_4_entities:
              - color: var(--purple-color)
                entity: sensor.smart_display_ram_used_percent
                name: Usage
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  - cards:
    - subtitle: Virtual Reality Headset
      title: Quest 2
      type: custom:mushroom-title-card
    - tabs:
      - attributes:
          icon: mdi:apps-box
        card:
          animation:
            state: 'on'
          decimal: 0
          entities:
          - entity: sensor.quest_battery_level
          name: Quest 2 Battery Level
          positions:
            indicator: inside
          severity:
          - color: var(--red-color)
            from: 0
            to: 10
          - color: var(--orange-color)
            from: 10
            to: 30
          - color: var(--amber-color)
            from: 30
            to: 50
          - color: var(--light-green-color)
            from: 50
            to: 80
          - color: var(--green-color)
            from: 80
            to: 100
          style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
            }"
          type: custom:bar-card
      - attributes:
          icon: mdi:chart-areaspline
        card:
          cards:
          - template: uptime_card
            type: custom:decluttering-card
            variables:
            - entity: binary_sensor.quest_interactive
            - name: Quest 2 Interactive
            - icon: mdi:connection
          - template: four_graphs
            type: custom:decluttering-card
            variables:
            - graph_1_name: WiFi Speed
            - graph_1_icon: mdi:wifi-arrow-left-right
            - graph_1_entities:
              - color: var(--green-color)
                entity: sensor.quest_wifi_link_speed
                show_points: false
                show_state: false
            - graph_2_name: WiFi Signal
            - graph_2_icon: mdi:wifi
            - graph_2_entities:
              - color: var(--yellow-color)
                entity: sensor.quest_wifi_signal_strength
                show_points: false
                show_state: false
            - graph_3_name: Storage
            - graph_3_icon: mdi:sd
            - graph_3_entities:
              - color: var(--blue-color)
                entity: sensor.quest_internal_storage
                name: Storage
                show_points: false
                show_state: true
            - graph_4_name: Battery Temp
            - graph_4_icon: mdi:battery-alert
            - graph_4_entities:
              - color: var(--red-color)
                entity: sensor.quest_battery_temperature
                name: Battery Temp
                show_points: false
                show_state: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  icon: mdi:desktop-tower
  layout:
    max_cols: 3
  path: computer
  theme: Backend-selected
  title: Computer
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Climate
    - icon: mdi:thermostat-box
    - icon_color: indigo
    - chips:
      - content: "{% if is_state(entity, \"off\") %}\n  Off\n{% else %}\n  {{ state_attr(\"\
          climate.ecobee\", \"hvac_action\") | capitalize }}\n{% endif %}"
        entity: climate.ecobee
        icon: mdi:thermostat-box
        icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\") %}\n\
          \  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\") %}\n\
          \  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"fan\") %}\n\
          \  amber\n{% elif is_state(entity, \"off\") %}\n  grey\n{% else %}\n  blue-grey\n\
          {% endif %}"
        tap_action:
          action: none
        type: template
  - card_mod:
      style: "ha-card {\n  overflow: visible !important;\n}\n"
    cards:
    - card_mod:
        style: "mushroom-shape-icon {\n  {% if is_state(config.entity, 'heat_cool')\
          \ %}\n    --card-mod-icon: mdi:autorenew;\n  {% elif is_state(config.entity,\
          \ 'heat') %}\n    --card-mod-icon: mdi:fire;\n  {% elif is_state(config.entity,\
          \ 'cool') %}\n    --card-mod-icon: mdi:snowflake;\n  {% elif is_state(config.entity,\
          \ 'fan_only') %}\n    --card-mod-icon: mdi:fan;\n  {% else %}\n    --card-mod-icon:\
          \ mdi:air-conditioner;\n  {% endif %}\n  display: flex;\n}\n"
      entity: climate.ecobee
      hvac_modes:
      - heat_cool
      - heat
      - cool
      layout: horizontal
      primary_info: state
      secondary_info: last-updated
      show_temperature_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-climate-card
    - cards:
      - entity: sensor.ecobee_current_temperature
        icon_color: green
        name: Temperature
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.ecobee_current_humidity
        icon_color: blue
        name: Humidity
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      type: horizontal-stack
    - entity: select.ecobee_preset
      icon_color: cyan
      layout: horizontal
      name: Profile
      secondary_info: none
      type: custom:mushroom-select-card
    - cardName: historycard-ecobee-mode
      graphs:
      - entities:
        - entity: sensor.ecobee_mode
        type: timeline
      header: hide
      labelAreaWidth: 0
      labelsVisible: false
      stateColors:
        Cooling: rgb(33,150,243)
        Fan: rgb(255,235,59)
        Heating: rgb(244,67,54)
        Idle: rgb(100,100,100)
      stateTextMode: auto
      tooltipShowDuration: true
      tooltipSize: slim
      type: custom:history-explorer-card
      uiLayout:
        selector: hide
        toolbar: hide
    type: custom:vertical-stack-in-card
  - cards:
    - title: Thermostat Detail
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        group_by:
          duration: 5min
          func: avg
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      card_mod:
        style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
          \  margin-bottom: -15px;\n}\n.apexcharts-tooltip-series-group {\n  padding-top:\
          \ 0px !important;\n  padding-bottom: 0px !important;\n  margin-top: 0px\
          \ !important;\n  margin-bottom: 0px !important;\n  display: none;\n  text-align:\
          \ left;\n  justify-content: left;\n  align-items: center;\n}\n#header {\n\
          \  padding: 3px !important;\n}\n"
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(158,158,158)
        entity: sensor.ecobee_current_temperature
        name: Indoor Temp
        yaxis_id: temp
      - attribute: target_temp_high
        color: rgb(33,150,243)
        entity: climate.ecobee
        name: Cool Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: target_temp_low
        color: rgb(255,152,0)
        entity: climate.ecobee
        name: Heat Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: temperature
        color: rgb(33,150,243)
        entity: climate.ecobee
        name: Setpoint
        opacity: 0.2
        stroke_width: 1
        type: area
        unit: °F
        yaxis_id: temp
      - color: rgb(0,150,136)
        entity: sensor.ecobee_current_humidity
        name: Indoor Humidity
        yaxis_id: perc
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_humidity
        name: Garage Humidity
        yaxis_id: perc
      span:
        end: minute
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
          title:
            rotate: 0
            text: °F
        decimals: 0
        id: temp
        max: ~85
        min: ~65
      - apex_config:
          forceNiceScale: true
          tickAmount: 4
          title:
            rotate: 0
            text: '%'
        decimals: 0
        id: perc
        max: ~50
        min: ~10
        opposite: true
    type: vertical-stack
  - cards:
    - title: Temperatures
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        group_by:
          duration: 5min
          func: avg
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      card_mod:
        style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
          \  margin-bottom: -15px;\n}\n.apexcharts-tooltip-series-group {\n  padding-top:\
          \ 0px !important;\n  padding-bottom: 0px !important;\n  margin-top: 0px\
          \ !important;\n  margin-bottom: 0px !important;\n  display: none;\n  text-align:\
          \ left;\n  justify-content: left;\n  align-items: center;\n}\n#header {\n\
          \  padding: 3px !important;\n}\n"
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(255,152,0)
        entity: sensor.ecobee_current_temperature
        name: Home
      - color: rgb(205,220,57)
        entity: sensor.kitchen_temperature
        name: Kitchen
      - color: rgb(103,58,183)
        entity: sensor.master_bedroom_temperature
        name: Master
      - color: rgb(76,175,80)
        entity: sensor.ethan_temperature
        name: Ethan
      - color: rgb(156,39,176)
        entity: sensor.emma_temperature
        name: Emma
      - color: rgb(255,235,59)
        entity: sensor.family_room_temperature
        name: Family Room
      - color: rgb(33,150,243)
        entity: sensor.office_temperature
        name: Office
      - color: rgb(0,188,212)
        entity: sensor.guest_room_temperature
        name: Amy's Office
      - color: rgb(121,85,72)
        entity: sensor.water_main_valve_air_temperature
        name: Utility
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_air_temperature
        name: Garage
      span:
        end: minute
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
          title:
            rotate: 0
            text: °F
        decimals: 0
        max: ~78
        min: ~65
    type: vertical-stack
  icon: mdi:thermostat-box
  layout:
    max_cols: 2
  path: climate
  theme: Backend-selected
  title: Climate
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Light Control
    - icon: mdi:lightbulb-group
    - icon_color: amber
    - chips:
      - card_mod:
          style:
            .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
              \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
              \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
              \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n\
              }\n{% endif %}\n"
        entity: light.all_lights
        hold_action:
          action: call-service
          service: light.turn_off
          target:
            entity_id: light.all_lights
        icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "amber", "grey") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                template: light_group_popup
                type: custom:decluttering-card
                variables:
                - entity: light.all_lights
              title: Lights
            service: browser_mod.popup
        type: template
      - card_mod:
          style:
            .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
              \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
              \ | count }}\";\n  position: absolute;\n  color: var(--green-color);\n\
              \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n\
              }\n{% endif %}\n"
        entity: fan.all_fans
        hold_action:
          action: call-service
          service: fan.turn_off
          target:
            entity_id: fan.all_fans
        icon: '{{ iif(is_state(entity, "on"), "mdi:fan", "mdi:fan-off") }}'
        icon_color: '{{ iif(is_state(entity, "on"), "green", "grey") }}'
        tap_action:
          action: none
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Living Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.living_room_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: light.hallway
        name: Hallway
        type: custom:mushroom-light-card
      - entity: light.front_entry
        name: Entry
        type: custom:mushroom-light-card
      - entity: light.garage_entry
        name: Garage Entry
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: fan.living_room_ceiling
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Kitchen
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.kitchen_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Kitchen
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.dining_room
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Office
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: pink
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: cyan
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_office
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.office_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.office
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.wled_office_desk
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.wled_office_desk
              - effect: select.wled_effect_office_desk
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Family Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.family_room_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Family Room
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.stairway
      name: Stairs
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Master Bedroom
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.master_bedroom_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - entity: fan.master_bedroom_ceiling
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ethan's Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.ethans_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Emma's Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.emmas_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - title: Amy's Office
      type: custom:mushroom-title-card
    - entity: light.amy_office
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Outside
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: light.outside_lights
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: light.outside_side
        name: Side
        type: custom:mushroom-light-card
      - entity: light.outside_back
        name: Back
        type: custom:mushroom-light-card
      - entity: light.xmas
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: light.garage
      name: Garage
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:lightbulb-group
  layout:
    max_cols: 3
  path: lights
  theme: Backend-selected
  title: Lights
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Security
    - icon: mdi:shield
    - icon_color: green
    - chips:
      - content: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "Secure", "Not Secure") }}'
        entity: lock.front_door
        hold_action:
          action: none
        icon: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "mdi:shield-check", "mdi:shield-alert") }}'
        icon_color: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "green", "red") }}'
        tap_action:
          action: none
        type: template
      - card_mod:
          style:
            .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
              \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
              \ | count }}\";\n  position: absolute;\n  color: var(--cyan-color);\n\
              \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n\
              }\n{% endif %}\n"
        entity: binary_sensor.all_doors
        icon: '{{ iif(is_state(entity, "on"), "mdi:door-open", "mdi:door") }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "disabled") }}'
        tap_action:
          action: none
        type: template
      - icon: mdi:chart-gantt
        tap_action:
          action: navigate
          navigation_path: frigate
        type: template
  - cards:
    - title: Doors
      type: custom:mushroom-title-card
    - cards:
      - cards:
        - card_mod:
            style:
              mushroom-shape-icon$: "{% if (states(\"sensor.front_door_contact_battery_level\"\
                ) | int) <= 60 %} {% from \"util.jinja\" import battery_color %} .shape\
                \ {\n  /* Radial progress bar */\n  background:\n    radial-gradient(var(--card-background-color)\
                \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--{{\
                \ battery_color(\"sensor.front_door_contact_battery_level\") }}-color)\
                \ {{ states(\"sensor.front_door_contact_battery_level\") }}% 0%, var(--card-background-color)\
                \ 0% 100%\n  );\n} .shape:after {\n  /* Add back icon shape */\n \
                \ content: \"\";\n  height: 100%;\n  width: 100%;\n  position: absolute;\n\
                \  border-radius: var(--icon-border-radius);\n  background: var(--shape-color);\n\
                } {% endif %}"
          entity: binary_sensor.front_door_contact_door_is_open
          hold_action:
            action: fire-dom-event
            browser_mod:
              data:
                entity: sensor.front_door_contact_battery_level
              service: browser_mod.more_info
          icon: "{% if is_state(entity, \"on\") %}\n  mdi:door-open\n{% elif is_state(\"\
            lock.front_door\", \"unlocked\") and is_state(entity, \"off\") %}\n  mdi:door-closed\n\
            {% elif is_state(\"lock.front_door\", \"locked\") and is_state(entity,\
            \ \"off\") %}\n  mdi:door-closed-lock\n{% endif %}"
          icon_color: "{% if is_state(entity, \"on\") %}\n  red\n{% elif is_state(\"\
            lock.front_door\", \"unlocked\") and is_state(entity, \"off\") %}\n  yellow\n\
            {% elif is_state(\"lock.front_door\", \"locked\") and is_state(entity,\
            \ \"off\") %}\n  green\n{% endif %}"
          multiline_secondary: true
          primary: Front Door
          secondary: "{% from \"util.jinja\" import custom_timedelta %} {% if is_state(entity,\
            \ \"on\") -%}\n  Open\n{% elif is_state(\"lock.front_door\", \"unlocked\"\
            ) -%}\n  Closed and Unlocked\n{% else -%}\n  Closed and Locked\n{% endif\
            \ -%} {{ custom_timedelta(entity) }}"
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - cards:
          - card_mod:
              style:
                .: "ha-card {\n  --icon-size: 42px;\n  --ha-card-box-shadow: none;\n\
                  \  --ha-card-border-width: 0;\n}\n"
                mushroom-shape-icon$: "{% if int(states(config.entity), 0) <= 60 %}\n\
                  {% from \"util.jinja\" import battery_color %}\n.shape {\n  /* Radial\
                  \ progress bar */\n  background:\n    radial-gradient(var(--card-background-color)\
                  \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--{{\
                  \ battery_color(config.entity) }}-color) {{ states(config.entity)\
                  \ }}% 0%, var(--card-background-color) 0% 100%\n  );\n}\n.shape:after\
                  \ {\n  /* Add back icon shape */\n  content: \"\";\n  height: 100%;\n\
                  \  width: 100%;\n  position: absolute;\n  border-radius: var(--icon-border-radius);\n\
                  \  background: var(--shape-color);\n}\n{% endif %}\n"
            entity: sensor.front_door_lock_battery_level
            hold_action:
              action: fire-dom-event
              browser_mod:
                data:
                  entity: sensor.front_door_lock_battery_level
                service: browser_mod.more_info
            icon: mdi:lock-smart
            icon_color: disabled
            tap_action:
              action: navigate
              navigation_path: /lock-admin
            type: custom:mushroom-template-card
          - card_mod:
              style:
                .: "ha-card {\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                  \ 0;\n  background: none;\n}\n"
            entity: lock.front_door
            icon_type: none
            name: Front Door
            primary_info: none
            secondary_info: none
            type: custom:mushroom-lock-card
          layout:
            grid-template-columns: 65px auto
            grid-template-rows: auto
            margin: 0 -2px -10px -2px
            padding: 0
          layout_type: custom:grid-layout
          type: custom:layout-card
        type: custom:vertical-stack-in-card
      - cards:
        - entity: cover.opengarage
          icon: "{% if is_state(entity, \"open\") %}\n  mdi:garage-open-variant\n\
            {% elif states(entity) in [\"opening\", \"closing\"] %}\n  mdi:garage-alert-variant\n\
            {% elif is_state(entity, \"closed\") %}\n  mdi:garage-variant\n{% else\
            \ %}\n  mdi:garage-alert-variant\n{% endif %}"
          icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif states(entity)\
            \ in [\"opening\", \"closing\"] %}\n  amber\n{% elif is_state(entity,\
            \ \"closed\") %}\n  green\n{% else %}\n  red\n{% endif %}"
          multiline_secondary: true
          primary: Garage Door
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ states(entity)
            | title }}

            {{ custom_timedelta(entity) }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - entity: cover.opengarage
          icon_type: none
          name: Garage Door
          primary_info: none
          secondary_info: none
          show_buttons_control: true
          type: custom:mushroom-cover-card
        type: custom:vertical-stack-in-card
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Sliding Door
        - entity: binary_sensor.sliding_door_contact
        - battery_entity: sensor.sliding_door_contact_battery_level
        - icon: mdi:door-sliding
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Garage Entry Door
        - entity: binary_sensor.garage_entry_door_contact_door_is_open
        - battery_entity: sensor.garage_entry_door_contact_battery_level
        - icon: mdi:door
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Garage Side Door
        - entity: binary_sensor.garage_side_door_contact_door_is_open
        - battery_entity: sensor.garage_side_door_contact_battery_level
        - icon: mdi:door
      - cards:
        - card_mod:
            style:
              .: "ha-card {\n  background: none;\n  box-shadow: none;\n  border-width:\
                \ 0;\n  margin-top: 10px;\n}\n"
              mushroom-shape-icon$: ".shape {\n  {%- if is_state(config.entity, \"\
                off\") -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
                }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-yellow),\
                \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
          entity: input_boolean.door_open_alerts
          hold_action:
            action: toggle
          icon: mdi:door
          icon_color: "{% if is_state(entity, \"off\") %}\n  yellow\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - card_mod:
            style:
              .: "ha-card {\n  background: none;\n  box-shadow: none;\n  border-width:\
                \ 0;\n  margin-top: 10px;\n}\n"
              mushroom-shape-icon$: ".shape {\n  {%- if is_state(config.entity, \"\
                off\") -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
                }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-yellow),\
                \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
          entity: input_boolean.garage_door_open_alerts
          hold_action:
            action: toggle
          icon: mdi:garage-variant
          icon_color: "{% if is_state(entity, \"off\") %}\n  yellow\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - card_mod:
            style:
              .: "ha-card {\n  background: none;\n  box-shadow: none;\n  border-width:\
                \ 0;\n  margin-top: 10px;\n}\n"
              mushroom-shape-icon$: ".shape {\n  {%- if is_state(config.entity, \"\
                on\") -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
                }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-yellow),\
                \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
          entity: input_boolean.guest_mode
          hold_action:
            action: toggle
          icon: '{{ iif(is_state(entity, "on"), "mdi:account-question", "mdi:account-question-outline")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "green", "disabled") }}'
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        columns: 3
        square: false
        type: grid
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Cameras
      - chips:
        - icon: mdi:chart-gantt
          tap_action:
            action: navigate
            navigation_path: frigate
          type: template
    - cards:
      - template: camera_card
        type: custom:decluttering-card
        variables:
        - name: Emma
        - camera: camera.emma
        - stream: emma
      - template: camera_card
        type: custom:decluttering-card
        variables:
        - name: Ethan
        - camera: camera.ethan
        - stream: ethan
      - template: camera_card
        type: custom:decluttering-card
        variables:
        - name: Family Room
        - camera: camera.family_room
        - stream: familyroom
      - template: camera_card
        type: custom:decluttering-card
        variables:
        - name: Garage
        - camera: camera.garage
        - stream: garage
      - aspect_ratio: '16:10'
        camera_image: camera.doorbell
        elements:
        - icon: mdi:cctv
          style:
            right: 0px
            top: 20px
            transform: translate(-50%, -50%) scale(150%)
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cameras:
                  - camera_entity: camera.doorbell
                    go2rtc:
                      modes:
                      - webrtc
                      stream: doorbell
                    live_provider: go2rtc
                  dimensions:
                    aspect_ratio_mode: dynamic
                  live:
                    auto_unmute: all
                    draggable: false
                    preload: true
                  media_viewer:
                    transition_effect: slide
                  menu:
                    buttons:
                      cameras:
                        enabled: false
                      download:
                        enabled: false
                      frigate:
                        enabled: false
                      fullscreen:
                        alignment: opposing
                        priority: 40
                      media_player:
                        enabled: false
                      microphone:
                        alignment: opposing
                        enabled: true
                        type: toggle
                      mute:
                        alignment: opposing
                        enabled: true
                      play:
                        alignment: opposing
                        enabled: true
                        priority: 45
                    style: outside
                  performance:
                    profile: high
                  timeline:
                    controls:
                      thumbnails:
                        mode: below
                  type: custom:frigate-card
                size: fullscreen
                title: Doorbell
              service: browser_mod.popup
          type: icon
        - entity: sensor.doorbell_person_count
          state_color: true
          style:
            bottom: -20px
            right: -20px
            transform: translate(-50%, -50%)
          tap_action:
            action: more-info
          type: state-icon
        - entity: binary_sensor.doorbell_motion_alarm
          icon: mdi:motion
          state_color: true
          style:
            bottom: -20px
            right: 20px
            transform: translate(-50%, -50%)
          tap_action:
            action: more-info
          type: state-icon
        show_name: false
        show_state: false
        type: picture-elements
      - cards:
        - entity: binary_sensor.doorbell_alarm_local
          icon: mdi:bell-ring
          icon_color: disabled
          primary: Last Ring
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ custom_timedelta(entity)
            }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - entity: sensor.doorbell_person_count
          icon: mdi:walk
          icon_color: disabled
          primary: Last Person
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ custom_timedelta(entity)
            }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        type: vertical-stack
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Occupancy
      type: custom:mushroom-title-card
    - cards:
      - entity: binary_sensor.ecobee_occupancy
        icon_color: light-green
        name: Home
        type: custom:mushroom-entity-card
      - entity: binary_sensor.kitchen_occupancy
        icon_color: light-green
        name: Kitchen
        type: custom:mushroom-entity-card
      - entity: binary_sensor.family_room_occupancy
        icon_color: light-green
        name: Family
        type: custom:mushroom-entity-card
      - entity: binary_sensor.master_bedroom_occupancy
        icon_color: light-green
        name: Master
        type: custom:mushroom-entity-card
      - entity: binary_sensor.emma_occupancy
        icon_color: light-green
        name: Emma
        type: custom:mushroom-entity-card
      - entity: binary_sensor.ethan_occupancy
        icon_color: light-green
        name: Ethan
        type: custom:mushroom-entity-card
      - entity: binary_sensor.guest_room_occupancy
        icon_color: light-green
        name: Amy's Office
        type: custom:mushroom-entity-card
      - entity: binary_sensor.office_occupancy
        icon_color: light-green
        name: Office
        type: custom:mushroom-entity-card
      - entity: binary_sensor.garage_multisensor_motion_detection
        icon_color: light-green
        name: Garage
        type: custom:mushroom-entity-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:shield
  layout:
    max_cols: 2
  path: security
  theme: Backend-selected
  title: Security
  type: custom:masonry-layout
- badges: []
  cards:
  - cards:
    - template: chip_header
      type: custom:decluttering-card
      variables:
      - primary: Frigate Timeline
      - icon: mdi:timeline
      - icon_color: green
      - back_path: security
    - cameras:
      - camera_entity: camera.doorbell
      - camera_entity: camera.emma
      - camera_entity: camera.ethan
      - camera_entity: camera.family_room
      - camera_entity: camera.garage
      menu:
        buttons:
          microphone:
            enabled: true
          recordings:
            enabled: true
        style: outside
      performance:
        profile: high
      timeline:
        controls:
          thumbnails: {}
        media: all
        show_recordings: true
        style: stack
        window_seconds: 21600
      type: custom:frigate-card
      view:
        camera_select: current
        default: timeline
    type: vertical-stack
  icon: mdi:timeline
  path: frigate
  subview: true
  title: Frigate
  type: panel
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Power
    - icon: mdi:power-plug
    - icon_color: red
    - chips:
      - entity: sensor.sol_ark_pv_power
        icon: mdi:solar-power-variant
        type: entity
      - entity: sensor.sol_ark_grid_net_monthly
        icon: mdi:power-plug
        type: entity
      - content: '{{ int(states(entity), 0) }}%'
        entity: sensor.sol_ark_battery_state_of_charge
        hold_action:
          action: none
        icon: '{% from "util.jinja" import battery_icon %}

          {{ battery_icon(entity) }}'
        icon_color: '{% from "util.jinja" import battery_color %}

          {{ battery_color(entity) }}'
        tap_action:
          action: more-info
        type: template
      - icon: mdi:chart-sankey-variant
        icon_color: pink
        tap_action:
          action: navigate
          navigation_path: power-stats
        type: template
  - cards:
    - title: Cost
      type: custom:mushroom-title-card
    - cards:
      - card_mod:
          style:
            .: ''
            mushroom-state-info$: ".container {\n  --card-primary-font-size: 30px;\n\
              }\n.primary {\n  font-family: \"Segoe UI Variable Static Text\", \"\
              Segoe UI\", SegoeUI, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n\
              \  font-weight: 100 !important;\n}\n"
        entity: sensor.minute_power_cost
        primary: '{{ "${:.2f}".format(float(states(entity), 0)) }}'
        secondary: Minute
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - card_mod:
          style:
            .: ''
            mushroom-state-info$: ".container {\n  --card-primary-font-size: 30px;\n\
              }\n.primary {\n  font-family: \"Segoe UI Variable Static Text\", \"\
              Segoe UI\", SegoeUI, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n\
              \  font-weight: 100 !important;\n}\n"
        entity: sensor.day_power_cost
        primary: '{{ "${:.2f}".format(float(states(entity), 0)) }}'
        secondary: Day
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - card_mod:
          style:
            .: ''
            mushroom-state-info$: ".container {\n  --card-primary-font-size: 30px;\n\
              }\n.primary {\n  font-family: \"Segoe UI Variable Static Text\", \"\
              Segoe UI\", SegoeUI, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n\
              \  font-weight: 100 !important;\n}\n"
        entity: sensor.month_power_cost
        primary: '{{ "${:.2f}".format(float(states(entity), 0)) }}'
        secondary: Month
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      columns: 3
      square: false
      type: grid
    - entity: select.monthly_energy
      icon: mdi:transmission-tower
      icon_color: "{%- if is_state(entity, \"summer_off_peak\") -%}\n  yellow\n{%-\
        \ elif is_state(entity, \"summer_peak\") -%}\n  red\n{%- elif is_state(entity,\
        \ \"winter_off_peak\") -%}\n  blue\n{%- elif is_state(entity, \"winter_peak\"\
        ) -%}\n  deep-orange\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: "{%- if is_state(entity, \"summer_off_peak\") -%}\n  Summer Off-Peak\n\
        {%- elif is_state(entity, \"summer_peak\") -%}\n  Summer Peak\n{%- elif is_state(entity,\
        \ \"winter_off_peak\") -%}\n  Winter Off-Peak\n{%- elif is_state(entity, \"\
        winter_peak\") -%}\n  Winter Peak\n{%- else -%}\n  Unknown\n{%- endif -%}"
      secondary: '{{ states("sensor.tariff_price", with_unit=True) }}'
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    type: vertical-stack
  - cards:
    - title: Energy Distribution
      type: custom:mushroom-title-card
    - clickable_entities: true
      dashboard_link: /energy
      dashboard_link_label: Energy Dashboard
      display_zero_lines:
        mode: transparency
        transparency: 80
      entities:
        battery:
          entity:
            consumption: sensor.sol_ark_battery_power_out
            production: sensor.sol_ark_battery_power_in
          state_of_charge: sensor.sol_ark_battery_state_of_charge
        grid:
          entity: sensor.sol_ark_grid_power
        home:
          entity: sensor.sol_ark_load_power
        solar:
          entity: sensor.sol_ark_pv_power
      kw_decimals: 1
      max_expected_power: 2000
      max_flow_rate: 6
      min_flow_rate: 0.75
      type: custom:power-flow-card-plus
      use_new_flow_rate_model: true
      w_decimals: 0
      watt_threshold: 1000
    type: vertical-stack
  - cards:
    - title: Battery
      type: custom:mushroom-title-card
    - entities:
      - entity: sensor.sol_ark_battery_state_of_charge
        icon: mdi:battery-high
        max: 100
        min: 0
        name: State of Charge
        severity:
        - color: var(--red-color)
          from: 0
          to: 20
        - color: var(--orange-color)
          from: 20
          to: 30
        - color: var(--amber-color)
          from: 30
          to: 50
        - color: var(--light-green-color)
          from: 50
          to: 90
        - color: var(--green-color)
          from: 90
          to: 100
      - entity: sensor.sol_ark_battery_voltage
        icon: mdi:sine-wave
        max: 58
        min: 38
        name: Voltage
        severity:
        - color: var(--red-color)
          from: 38
          to: 40.5
        - color: var(--amber-color)
          from: 40.5
          to: 44
        - color: var(--green-color)
          from: 44
          to: 53
        - color: var(--amber-color)
          from: 53
          to: 55.5
        - color: var(--red-color)
          from: 55.5
          to: 58
        target: 48
      - entity: sensor.sol_ark_battery_temperature
        icon: mdi:thermometer
        max: 60
        min: -25
        name: Temperature
        severity:
        - color: var(--red-color)
          from: -25
          to: -20
        - color: var(--orange-color)
          from: -20
          to: 0
        - color: var(--amber-color)
          from: 0
          to: 5
        - color: var(--green-color)
          from: 5
          to: 50
        - color: var(--orange-color)
          from: 50
          to: 55
        - color: var(--red-color)
          from: 55
          to: 60
      height: 30px
      positions:
        indicator: inside
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - subtitle: System
      title: Realtime Power
      type: custom:mushroom-title-card
    - entities:
      - entity: sensor.sol_ark_grid_power
        icon: mdi:transmission-tower
        min: -5500
        name: Grid Power
        severity:
        - color: var(--purple-color)
          from: '-5500'
          to: '-4000'
        - color: var(--blue-color)
          from: '-4000'
          to: '-3000'
        - color: var(--light-blue-color)
          from: '-3000'
          to: '-2000'
        - color: var(--cyan-color)
          from: '-2000'
          to: '-1000'
        - color: var(--teal-color)
          from: '-1000'
        - color: var(--green-color)
          from: '0'
          to: '9600'
        - color: var(--light-green-color)
          from: '9600'
          to: '19200'
        - color: var(--amber-color)
          from: '19200'
          to: '28800'
        - color: var(--orange-color)
          from: '28800'
          to: '38400'
        - color: var(--red-color)
          from: '38400'
          to: '48000'
        target: '0'
      - entity: sensor.sol_ark_load_power
        icon: mdi:power-plug
        name: Load Power
        severity:
        - color: var(--green-color)
          from: 0
          to: 9600
        - color: var(--light-green-color)
          from: 9600
          to: 19200
        - color: var(--amber-color)
          from: 19200
          to: 28800
        - color: var(--orange-color)
          from: 28800
          to: 38400
        - color: var(--red-color)
          from: 38400
          to: 48000
      - entity: sensor.sol_ark_pv_power
        icon: mdi:solar-power-variant
        max: 5500
        name: Solar
        severity:
        - color: var(--red-color)
          from: 0
          to: 1000
        - color: var(--orange-color)
          from: 1000
          to: 2000
        - color: var(--amber-color)
          from: 2000
          to: 3000
        - color: var(--light-green-color)
          from: 3000
          to: 4000
        - color: var(--green-color)
          from: 4000
          to: 5500
      - entity: sensor.sol_ark_battery_power
        icon: mdi:battery-high
        max: 12960
        min: -12960
        name: Battery
        severity:
        - color: var(--purple-color)
          from: -12960
          to: -10368
        - color: var(--blue-color)
          from: -10368
          to: -7776
        - color: var(--light-blue-color)
          from: -7776
          to: -5184
        - color: var(--cyan-color)
          from: -5184
          to: -2592
        - color: var(--teal-color)
          from: -2592
          to: 0
        - color: var(--green-color)
          from: 0
          to: 2592
        - color: var(--light-green-color)
          from: 2592
          to: 5184
        - color: var(--amber-color)
          from: 5184
          to: 7776
        - color: var(--orange-color)
          from: 7776
          to: 10368
        - color: var(--red-color)
          from: 10368
          to: 12960
        target: '0'
      height: 30px
      max: 48000
      min: 0
      positions:
        indicator: inside
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    - subtitle: Circuits
      type: custom:mushroom-title-card
    - decimal: 1
      entities:
      - entity: sensor.emporiavue_balance_power
        icon: mdi:home-analytics
        max: 9600
        name: Home Balance
        severity:
        - color: var(--green-color)
          from: 0
          to: 1920
        - color: var(--light-green-color)
          from: 1920
          to: 3840
        - color: var(--amber-color)
          from: 3840
          to: 5760
        - color: var(--orange-color)
          from: 5760
          to: 7680
        - color: var(--red-color)
          from: 7680
          to: 9600
      - entity: sensor.emporiavue_air_conditioner_power
        icon: mdi:air-conditioner
        max: 7200
        name: Air Conditioner
        severity:
        - color: var(--green-color)
          from: 0
          to: 1440
        - color: var(--light-green-color)
          from: 1440
          to: 2880
        - color: var(--amber-color)
          from: 2880
          to: 4320
        - color: var(--orange-color)
          from: 4320
          to: 5760
        - color: var(--red-color)
          from: 5760
          to: 7200
      - entity: sensor.emporiavue_basement_bedrooms_power
        icon: mdi:home-floor-0
        name: Basement Bedrooms
      - entity: sensor.emporiavue_bedrooms_power
        icon: mdi:home-floor-1
        name: Bedrooms
      - entity: sensor.emporiavue_dishwasher_disposal_power
        icon: mdi:dishwasher
        name: Dishwasher / Disposal
      - entity: sensor.emporiavue_dryer_power
        icon: mdi:tumble-dryer
        max: 7200
        name: Dryer
        severity:
        - color: var(--green-color)
          from: 0
          to: 1440
        - color: var(--light-green-color)
          from: 1440
          to: 2880
        - color: var(--amber-color)
          from: 2880
          to: 4320
        - color: var(--orange-color)
          from: 4320
          to: 5760
        - color: var(--red-color)
          from: 5760
          to: 7200
      - entity: sensor.emporiavue_family_room_power
        icon: mdi:gamepad-circle
        name: Family Room
      - entity: sensor.emporiavue_fridge_kitchen_outlets_power
        icon: mdi:fridge-variant
        name: Fridge / Kitchen Outlets
      - entity: sensor.emporiavue_furnace_power
        icon: mdi:hvac
        name: Furance
      - entity: sensor.emporiavue_entry_living_room_bath_lights_power
        icon: mdi:lightbulb-group
        max: 1800
        name: Entry, Living Room, Bath Lights
        severity:
        - color: var(--green-color)
          from: 0
          to: 360
        - color: var(--light-green-color)
          from: 360
          to: 720
        - color: var(--amber-color)
          from: 720
          to: 1080
        - color: var(--orange-color)
          from: 1080
          to: 1440
        - color: var(--red-color)
          from: 1440
          to: 1800
      - entity: sensor.emporiavue_garage_outlets_power
        icon: mdi:garage-variant
        name: Garage Outlets
      - entity: sensor.emporiavue_living_room_master_bedroom_power
        icon: mdi:sofa-single
        name: Living / Master Bed
      - entity: sensor.emporiavue_microwave_power
        icon: mdi:microwave
        name: Microwave
      - entity: sensor.emporiavue_utility_room_power
        icon: mdi:progress-wrench
        max: 1800
        name: Utility
        severity:
        - color: var(--green-color)
          from: 0
          to: 360
        - color: var(--light-green-color)
          from: 360
          to: 720
        - color: var(--amber-color)
          from: 720
          to: 1080
        - color: var(--orange-color)
          from: 1080
          to: 1440
        - color: var(--red-color)
          from: 1440
          to: 1800
      - entity: sensor.emporiavue_range_power
        icon: mdi:stove
        max: 9600
        name: Range
        severity:
        - color: var(--green-color)
          from: 0
          to: 1920
        - color: var(--light-green-color)
          from: 1920
          to: 3840
        - color: var(--amber-color)
          from: 3840
          to: 5760
        - color: var(--orange-color)
          from: 5760
          to: 7680
        - color: var(--red-color)
          from: 7680
          to: 9600
      - entity: sensor.emporiavue_theater_room_power
        icon: mdi:theater
        name: Theater Room
      - entity: sensor.emporiavue_washer_power
        icon: mdi:washing-machine
        name: Washer
      height: 30px
      max: 2400
      min: 0
      positions:
        indicator: inside
      severity:
      - color: var(--green-color)
        from: 0
        to: 480
      - color: var(--light-green-color)
        from: 480
        to: 960
      - color: var(--amber-color)
        from: 960
        to: 1440
      - color: var(--orange-color)
        from: 1440
        to: 1920
      - color: var(--red-color)
        from: 1920
        to: 2400
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - title: Measurements
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.emporiavue_phase_a_voltage
        name: Phase A voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.emporiavue_phase_b_voltage
        name: Phase B voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.emporiavue_phase_a_current
        name: Phase A current
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.emporiavue_phase_b_current
        name: Phase B current
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.emporiavue_phase_a_frequency
        name: Phase A frequency
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.emporiavue_phase_b_phase_angle
        name: Phase B phase
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:power-plug
  layout:
    max_cols: 2
  path: power
  theme: Backend-selected
  title: Power
  type: custom:masonry-layout
- badges: []
  cards:
  - cards:
    - template: chip_header
      type: custom:decluttering-card
      variables:
      - primary: Power Stats
      - icon: mdi:chart-sankey-variant
      - icon_color: red
      - back_path: power
    - styles:
        --mdc-tab-horizontal-padding: 0px !important
        --mdc-theme-primary: var(--energy-solar-color)
      tabs:
      - attributes:
          icon: mdi:clock-outline
          label: Current
          minWidth: true
        card:
          card_mod:
            style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
              }\n"
          cards:
          - cards:
            - all_series_config:
                float_precision: 0
                group_by:
                  duration: 5min
                  func: avg
                opacity: 0.2
                show:
                  in_header: raw
                  legend_value: false
                stroke_width: 2
                type: area
              apex_config:
                chart:
                  height: 250px
                  toolbar:
                    show: false
                grid:
                  borderColor: '#7B7B7B'
                legend:
                  show: false
                title:
                  align: center
                  floating: true
                  margin: 10
                  offsetX: 0
                  offsetY: 10
                  style:
                    color: var(--primary-text-color)
                    fontSize: 1rem
                    fontWeight: bold
                  text: Current Power
                tooltip:
                  shared: true
                xaxis:
                  tooltip:
                    enabled: false
              card_mod:
                style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                  \ none;\n  margin-bottom: -15px;\n}\n#state__value > #state {\n\
                  \  font-size: 1.2em !important;\n}\n.apexcharts-tooltip-series-group\
                  \ {\n  padding-top: 0px !important;\n  padding-bottom: 0px !important;\n\
                  \  margin-top: 0px !important;\n  margin-bottom: 0px !important;\n\
                  \  display: none;\n  text-align: left;\n  justify-content: left;\n\
                  \  align-items: center;\n}\n"
              graph_span: 24h
              header:
                colorize_states: true
                show: false
                show_states: true
                standard_format: true
              series:
              - color: var(--grey-color)
                entity: sensor.sol_ark_load_power
                name: Home
              - color: var(--energy-solar-color)
                entity: sensor.sol_ark_pv_power
                name: Solar
              - color: var(--energy-grid-consumption-color)
                entity: sensor.sol_ark_grid_power_in
                name: Grid Import
              - color: var(--energy-battery-in-color)
                entity: sensor.sol_ark_battery_power_in
                invert: true
                name: Battery Charge
              - color: var(--energy-battery-out-color)
                entity: sensor.sol_ark_battery_power_out
                name: Battery Used
              - color: var(--energy-grid-return-color)
                entity: sensor.sol_ark_grid_power_out
                invert: true
                name: Grid Export
              span:
                end: minute
              type: custom:apexcharts-card
              yaxis:
              - apex_config:
                  forceNiceScale: true
                  tickAmount: 3
                  title:
                    rotate: 0
                    text: W
                decimals: 0
                max: ~500
                min: ~-500
            - icon: mdi:magnify-expand
              styles:
                card:
                - width: 3.5rem
                - border: none
                - background: none
                - box-shadow: none
                - margin-left: -40px
              tap_action:
                action: navigate
                navigation_path: /energy
              type: custom:button-card
            type: horizontal-stack
          - card_mod:
              style: "ha-card {\n  margin: 5px;\n  padding: 0px;\n  font-size: 0.8rem;\n\
                \  font-weight: bold;\n  border: none;\n  box-shadow: none;\n  overflow-x:\
                \ clip !important;\n}\n.container {\n  padding: 0px !important;\n\
                }\n.box div:first-child {\n  color: white;\n}\n"
            height: 100
            min_box_height: 16
            round: 0
            sections:
            - entities:
              - children:
                - sensor.sol_ark_pv_house_used_power
                - sensor.sol_ark_pv_battery_used_power
                - sensor.sol_ark_pv_surplus_power
                color: var(--energy-solar-color)
                entity_id: sensor.sol_ark_pv_power
                icon: mdi:solar-power-variant-outline
                name: Solar
              - children:
                - sensor.sol_ark_grid_house_used_power
                - sensor.sol_ark_grid_battery_used_power
                color: var(--energy-grid-consumption-color)
                entity_id: sensor.sol_ark_grid_power_in
                icon: mdi:transmission-tower-export
                name: Grid ⬇
              - children:
                - sensor.sol_ark_battery_house_used_power
                color: var(--energy-battery-out-color)
                entity_id: sensor.sol_ark_battery_power_out
                icon: mdi:home-battery-outline
                name: Battery ⬆
            - entities:
              - children:
                - sensor.sol_ark_load_power
                color: var(--energy-solar-color)
                entity_id: sensor.sol_ark_pv_house_used_power
                name: Home
              - children:
                - sensor.sol_ark_battery_power_in
                color: var(--energy-solar-color)
                entity_id: sensor.sol_ark_pv_battery_used_power
                name: Battery
              - children:
                - sensor.sol_ark_battery_power_in
                color: var(--energy-grid-consumption-color)
                entity_id: sensor.sol_ark_grid_battery_used_power
                name: Battery
              - children:
                - sensor.sol_ark_load_power
                color: var(--energy-grid-consumption-color)
                entity_id: sensor.sol_ark_grid_house_used_power
                name: Home
              - children:
                - sensor.sol_ark_load_power
                color: var(--energy-battery-out-color)
                entity_id: sensor.sol_ark_battery_house_used_power
                name: Battery
              - children:
                - sensor.sol_ark_grid_power_out
                color: var(--energy-solar-color)
                entity_id: sensor.sol_ark_pv_surplus_power
                name: ' '
            - entities:
              - color: var(--cyan-color)
                entity_id: sensor.sol_ark_load_power
                icon: mdi:home-import-outline
                name: Home
              - color: var(--energy-battery-in-color)
                entity_id: sensor.sol_ark_battery_power_in
                icon: mdi:home-battery-outline
                name: Battery ⬇
              - color: var(--energy-grid-return-color)
                entity_id: sensor.sol_ark_grid_power_out
                icon: mdi:transmission-tower-import
                name: Grid ⬆
            show_icons: true
            show_names: true
            show_units: true
            type: custom:sankey-chart
            wide: true
          - card_mod:
              style: "ha-card {\n  margin: 5px;\n  padding: 0px;\n  font-size: 0.8rem;\n\
                \  font-weight: bold;\n  border: none;\n  box-shadow: none;\n  overflow-x:\
                \ clip !important;\n}\n.container {\n  padding: 0px !important;\n\
                }\n.box div:first-child {\n  color: white;\n}\n"
            height: 500
            min_box_height: 16
            min_state: 1
            round: 0
            sections:
            - entities:
              - children:
                - sensor.emporiavue_balance_power
                - sensor.emporiavue_air_conditioner_power
                - sensor.emporiavue_basement_bedrooms_power
                - sensor.emporiavue_bedrooms_power
                - sensor.emporiavue_dishwasher_disposal_power
                - sensor.emporiavue_dryer_power
                - sensor.emporiavue_entry_living_room_bath_lights_power
                - sensor.emporiavue_family_room_power
                - sensor.emporiavue_fridge_kitchen_outlets_power
                - sensor.emporiavue_furnace_power
                - sensor.emporiavue_garage_outlets_power
                - sensor.emporiavue_living_room_master_bedroom_power
                - sensor.emporiavue_utility_room_power
                - sensor.emporiavue_microwave_power
                - sensor.emporiavue_range_power
                - sensor.emporiavue_theater_room_power
                - sensor.emporiavue_washer_power
                color: var(--cyan-color)
                entity_id: sensor.emporiavue_total_power
                icon: mdi:home-import-outline
                name: Home
                remaining:
                  color: var(--grey-color)
                  name: Other < 1W
            - entities:
              - entity_id: sensor.emporiavue_balance_power
                icon: mdi:home-analytics
                name: Balance
              - entity_id: sensor.emporiavue_air_conditioner_power
                icon: mdi:air-conditioner
                name: Air Conditioner
              - entity_id: sensor.emporiavue_basement_bedrooms_power
                icon: mdi:home-floor-0
                name: Basement Bedrooms
              - entity_id: sensor.emporiavue_bedrooms_power
                icon: mdi:home-floor-1
                name: Bedrooms
              - entity_id: sensor.emporiavue_dishwasher_disposal_power
                icon: mdi:dishwasher
                name: Dishwasher / Disposal
              - entity_id: sensor.emporiavue_dryer_power
                icon: mdi:tumble-dryer
                name: Dryer
              - entity_id: sensor.emporiavue_entry_living_room_bath_lights_power
                icon: mdi:lightbulb-group
                name: Entry, Living Room, Bath Lights
              - entity_id: sensor.emporiavue_family_room_power
                icon: mdi:gamepad-circle
                name: Family Room
              - entity_id: sensor.emporiavue_fridge_kitchen_outlets_power
                icon: mdi:fridge-variant
                name: Fridge / Kitchen Outlets
              - entity_id: sensor.emporiavue_furnace_power
                icon: mdi:hvac
                name: Furnace
              - entity_id: sensor.emporiavue_garage_outlets_power
                icon: mdi:garage-variant
                name: Garage Outlets
              - entity_id: sensor.emporiavue_living_room_master_bedroom_power
                icon: mdi:sofa-single
                name: Living / Master Bed
              - entity_id: sensor.emporiavue_microwave_power
                icon: mdi:microwave
                name: Microwave
              - entity_id: sensor.emporiavue_utility_room_power
                icon: mdi:progress-wrench
                name: Utility
              - entity_id: sensor.emporiavue_range_power
                icon: mdi:stove
                name: Range
              - entity_id: sensor.emporiavue_theater_room_power
                icon: mdi:theater
                name: Theater Room
              - entity_id: sensor.emporiavue_washer_power
                icon: mdi:washing-machine
                name: Washer
            show_icons: true
            show_names: true
            show_units: true
            throttle: 1000
            type: custom:sankey-chart
            wide: true
          - cards:
            - custom_fields:
                map:
                  card:
                    cards:
                    - cards:
                      - apex_config:
                          chart:
                            animations:
                              enabled: false
                            height: 85px
                            offsetX: 0
                            offsetY: 18
                          legend:
                            show: false
                          plotOptions:
                            pie:
                              customScale: 1.8
                        card_mod:
                          style: "ha-card {\n  background: none;\n  border: none;\n\
                            \  box-shadow: none;\n  height: 80px;\n  padding: 0px;\n\
                            }\n"
                        chart_type: donut
                        header:
                          floating: true
                          show: false
                        series:
                        - color: var(--energy-solar-color)
                          entity: '[[[ return variables.from_solar_entity ]]]'
                          name: Solar
                          show:
                            datalabels: false
                        - color: var(--energy-grid-consumption-color)
                          entity: '[[[ return variables.from_grid_entity ]]]'
                          name: Grid Import
                          show:
                            datalabels: false
                        - color: var(--energy-battery-out-color)
                          entity: '[[[ return variables.from_battery_entity ]]]'
                          name: Battery Used
                          show:
                            datalabels: false
                        stacked: true
                        type: custom:apexcharts-card
                      - entity: '[[[ return variables.house_use_entity ]]]'
                        icon: mdi:home-import-outline
                        label: '[[[ return variables.house_use_label ]]]'
                        layout: vertical
                        show_icon: true
                        show_label: true
                        show_name: false
                        show_state: true
                        styles:
                          card:
                          - height: 80px
                          - margin-top: -88px
                          - background: none
                          - border: none
                          - box-shadow: none
                          grid:
                          - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                          - grid-template-columns: 100%
                          - grid-template-rows: 1fr 3fr auto auto 1fr
                          icon:
                          - height: 1.5rem
                          - color: var(--grey-color)
                          label:
                          - font-size: 0.7rem
                          state:
                          - font-weight: bold
                          - font-size: 0.7rem
                        type: custom:button-card
                      type: vertical-stack
                    - entity: '[[[ return variables.from_grid_entity ]]]'
                      icon: mdi:transmission-tower-export
                      label: '[[[ return variables.from_grid_label ]]]'
                      name: '[[[ return variables.from_grid_label + " (" + Math.round(states[variables.from_grid_entity].state
                        / states[variables.house_use_entity].state * 100) + "%)" ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--energy-grid-consumption-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - text-align: center
                        - color: var(--energy-grid-consumption-color)
                      type: custom:button-card
                    - entity: '[[[ return variables.from_solar_entity ]]]'
                      icon: mdi:solar-power-variant
                      name: '[[[ return variables.from_solar_label + " (" + Math.round(states[variables.from_solar_entity].state
                        / states[variables.house_use_entity].state * 100) + "%)" ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--energy-solar-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - color: var(--energy-solar-color)
                      type: custom:button-card
                    - entity: '[[[ return variables.from_battery_entity ]]]'
                      icon: mdi:home-battery
                      name: '[[[ return variables.from_battery_label + " (" + Math.round(states[variables.from_battery_entity].state
                        / states[variables.house_use_entity].state * 100) + "%)" ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--energy-battery-out-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - color: var(--energy-battery-out-color)
                      type: custom:button-card
                    columns: 4
                    square: false
                    type: grid
              show_icon: false
              show_name: false
              show_state: false
              styles:
                card:
                - padding: 0px
                custom_fields:
                  map:
                  - filter: opacity(100%)
                  - overflow: visible
                grid:
                - grid-template-areas: '"map"'
                - grid-template-columns: 100%
                - grid-template-rows: 100%
              type: custom:button-card
              variables:
                from_battery_entity: sensor.sol_ark_battery_house_used_power
                from_battery_label: Battery Used
                from_grid_entity: sensor.sol_ark_grid_house_used_power
                from_grid_label: Grid Import
                from_solar_entity: sensor.sol_ark_pv_house_used_power
                from_solar_label: Solar
                house_use_entity: sensor.sol_ark_load_power
                house_use_label: Home
            - custom_fields:
                map:
                  card:
                    cards:
                    - cards:
                      - apex_config:
                          chart:
                            animations:
                              enabled: false
                            height: 85px
                            offsetX: 0
                            offsetY: 18
                          legend:
                            show: false
                          plotOptions:
                            pie:
                              customScale: 1.8
                        card_mod:
                          style: "ha-card {\n  background: none;\n  border: none;\n\
                            \  box-shadow: none;\n  height: 80px;\n  padding: 0px;\n\
                            }\n"
                        chart_type: donut
                        header:
                          floating: true
                          show: false
                        series:
                        - color: var(--grey-color)
                          entity: '[[[ return variables.to_house_entity ]]]'
                          name: Home
                          show:
                            datalabels: false
                        - color: var(--energy-grid-return-color)
                          entity: '[[[ return variables.to_grid_entity ]]]'
                          name: Grid Export
                          show:
                            datalabels: false
                        - color: var(--energy-battery-in-color)
                          entity: '[[[ return variables.to_battery_entity ]]]'
                          name: Battery Charge
                          show:
                            datalabels: false
                        stacked: true
                        type: custom:apexcharts-card
                      - entity: '[[[ return variables.from_solar_entity ]]]'
                        icon: mdi:solar-power-variant
                        label: '[[[ return variables.from_solar_label ]]]'
                        layout: vertical
                        show_icon: true
                        show_label: true
                        show_name: false
                        show_state: true
                        styles:
                          card:
                          - height: 80px
                          - margin-top: -88px
                          - background: none
                          - border: none
                          - box-shadow: none
                          grid:
                          - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                          - grid-template-columns: 100%
                          - grid-template-rows: 1fr 3fr auto auto 1fr
                          icon:
                          - height: 1.5rem
                          - color: var(--energy-solar-color)
                          label:
                          - font-size: 0.7rem
                          state:
                          - font-weight: bold
                          - font-size: 0.7rem
                        type: custom:button-card
                      type: vertical-stack
                    - entity: '[[[ return variables.to_house_entity ]]]'
                      icon: mdi:home-import-outline
                      name: '[[[ return variables.to_house_label + " (" + Math.round(states[variables.to_house_entity].state
                        / states[variables.from_solar_entity].state * 100) + "%)"
                        ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--grey-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - color: var(--grey-color)
                      type: custom:button-card
                    - entity: '[[[ return variables.to_grid_entity ]]]'
                      icon: mdi:transmission-tower-import
                      label: '[[[ return variables.to_grid_label ]]]'
                      name: '[[[ return variables.to_grid_label + " (" + Math.round(states[variables.to_grid_entity].state
                        / states[variables.from_solar_entity].state * 100) + "%)"
                        ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--energy-grid-return-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - text-align: center
                        - color: var(--energy-grid-return-color)
                      type: custom:button-card
                    - entity: '[[[ return variables.to_battery_entity ]]]'
                      icon: mdi:home-battery
                      name: '[[[ return variables.to_battery_label + " (" + Math.round(states[variables.to_battery_entity].state
                        / states[variables.from_solar_entity].state * 100) + "%)"
                        ]]]'
                      show_icon: true
                      show_label: false
                      show_name: true
                      show_state: true
                      size: 100%
                      styles:
                        card:
                        - height: 80px
                        - box-shadow: none
                        - border: none
                        - padding: 0px
                        grid:
                        - grid-template-areas: '"i" "s" "n"'
                        - grid-template-rows: 3rem 1fr 1fr
                        - grid-template-columns: auto
                        icon:
                        - height: 2.5rem
                        - color: var(--energy-battery-in-color)
                        label:
                        - font-size: 0.7rem
                        - align-self: center
                        name:
                        - font-size: 0.7rem
                        - align-self: start
                        state:
                        - font-weight: bold
                        - font-size: 1rem
                        - align-self: end
                        - color: var(--energy-battery-in-color)
                      type: custom:button-card
                    columns: 4
                    square: false
                    type: grid
              show_icon: false
              show_name: false
              show_state: false
              styles:
                card:
                - padding: 0px
                custom_fields:
                  map:
                  - filter: opacity(100%)
                  - overflow: visible
                grid:
                - grid-template-areas: '"map"'
                - grid-template-columns: 100%
                - grid-template-rows: 100%
              type: custom:button-card
              variables:
                from_solar_entity: sensor.sol_ark_pv_power
                from_solar_label: Solar
                to_battery_entity: sensor.sol_ark_battery_power_in
                to_battery_label: Battery Charge
                to_grid_entity: sensor.sol_ark_grid_power_out
                to_grid_label: Grid Export
                to_house_entity: sensor.sol_ark_pv_house_used_power
                to_house_label: Home
            type: vertical-stack
          type: custom:vertical-stack-in-card
      - attributes:
          icon: mdi:counter
          label: Consumption
          minWidth: true
          stacked: false
        card:
          card_mod:
            style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
              }\n"
          cards:
          - card_mod:
              style: "ha-card {\n  margin: 5px;\n  padding: 0px;\n  font-size: 0.8rem;\n\
                \  font-weight: bold;\n  border: none;\n  box-shadow: none;\n  overflow-x:\
                \ clip !important;\n}\n.container {\n  padding: 0px !important;\n\
                }\n.box div:first-child {\n  color: white;\n}\n"
            energy_date_selection: true
            height: 120
            min_box_height: 16
            round: 1
            sections:
            - entities:
              - children:
                - sensor.sol_ark_grid_out_lifetime
                - sensor.sol_ark_battery_in_lifetime
                - sensor.sol_ark_load_lifetime
                color: var(--energy-solar-color)
                entity_id: sensor.sol_ark_pv_lifetime
                icon: mdi:solar-power-variant-outline
                name: Solar
              - children:
                - sensor.sol_ark_load_lifetime
                color: var(--energy-battery-out-color)
                entity_id: sensor.sol_ark_battery_out_lifetime
                icon: mdi:home-battery-outline
                name: Battery ⬆
              - children:
                - sensor.sol_ark_battery_in_lifetime
                - sensor.sol_ark_load_lifetime
                color: var(--energy-grid-consumption-color)
                entity_id: sensor.sol_ark_grid_in_lifetime
                icon: mdi:transmission-tower-export
                name: Grid ⬇
            - entities:
              - color: var(--energy-grid-return-color)
                entity_id: sensor.sol_ark_grid_out_lifetime
                icon: mdi:transmission-tower-import
                name: Grid ⬆
              - color: var(--energy-battery-in-color)
                entity_id: sensor.sol_ark_battery_in_lifetime
                icon: mdi:home-battery-outline
                name: Battery ⬇
              - color: var(--energy-grid-consumption-color)
                entity_id: sensor.sol_ark_load_lifetime
                icon: mdi:home-import-outline
                name: Home
            show_icons: true
            show_names: true
            show_units: true
            type: custom:sankey-chart
            unit_prefix: k
            wide: true
          - card_mod:
              style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
                }\n.card-content {\n  padding: 0px !important;\n}\n"
            type: energy-date-selection
          - styles:
              --mdc-tab-horizontal-padding: 0px !important
              --mdc-theme-primary: var(--energy-solar-color)
            tabs:
            - attributes:
                label: Today
                minWidth: true
                stacked: false
              card:
                cards:
                - cards:
                  - all_series_config:
                      float_precision: 1
                      group_by:
                        duration: 1hour
                        func: diff
                        start_with_last: true
                      opacity: 0.2
                      show:
                        in_header: raw
                        legend_value: false
                      statistics:
                        type: sum
                      stroke_width: 2
                      type: column
                    apex_config:
                      chart:
                        height: 200px
                        toolbar:
                          show: false
                      grid:
                        borderColor: '#7B7B7B'
                      legend:
                        show: false
                      tooltip:
                        shared: true
                      xaxis:
                        tooltip:
                          enabled: false
                    card_mod:
                      style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                        \ none;\n}\n#state__value > #state {\n  font-size: 1.2em !important;\n\
                        }\n"
                    graph_span: 1d
                    header:
                      colorize_states: true
                      show: false
                      show_states: true
                      standard_format: true
                    series:
                    - color: var(--energy-grid-consumption-color)
                      entity: sensor.sol_ark_grid_in_lifetime
                      name: Grid Import
                    - color: var(--energy-battery-in-color)
                      entity: sensor.sol_ark_battery_in_lifetime
                      invert: true
                      name: Battery Charge
                    - color: var(--energy-battery-out-color)
                      entity: sensor.sol_ark_battery_out_lifetime
                      name: Battery Used
                    - color: var(--energy-solar-color)
                      entity: sensor.sol_ark_pv_lifetime
                      name: Solar
                    - color: var(--energy-grid-return-color)
                      entity: sensor.sol_ark_grid_out_lifetime
                      invert: true
                      name: Grid Export
                    - color: var(--grey-color)
                      entity: sensor.sol_ark_load_lifetime
                      name: Home
                      opacity: 0.2
                      type: area
                    span:
                      start: day
                    stacked: true
                    type: custom:apexcharts-card
                    yaxis:
                    - apex_config:
                        forceNiceScale: true
                        tickAmount: 4
                        title:
                          text: kWh
                      max: ~1
                      min: ~1
                  - icon: mdi:magnify-expand
                    styles:
                      card:
                      - width: 3.5rem
                      - border: none
                      - background: none
                      - box-shadow: none
                      - margin-left: -40px
                    tap_action:
                      action: navigate
                      navigation_path: /energy
                    type: custom:button-card
                  type: horizontal-stack
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--energy-solar-color)
                              entity: '[[[ return variables.from_solar_entity ]]]'
                              name: Solar
                              show:
                                datalabels: false
                            - color: var(--energy-grid-consumption-color)
                              entity: '[[[ return variables.from_grid_entity ]]]'
                              name: Grid Import
                              show:
                                datalabels: false
                            - color: var(--energy-battery-out-color)
                              entity: '[[[ return variables.from_battery_entity ]]]'
                              name: Battery Used
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.house_use_entity ]]]'
                            icon: mdi:home-import-outline
                            label: '[[[ return variables.house_use_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--grey-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.from_grid_entity ]]]'
                          icon: mdi:transmission-tower-export
                          label: '[[[ return variables.from_grid_label ]]]'
                          name: '[[[ return variables.from_grid_label + " (" + Math.round(states[variables.from_grid_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-consumption-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-consumption-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_solar_entity ]]]'
                          icon: mdi:solar-power-variant
                          name: '[[[ return variables.from_solar_label + " (" + Math.round(states[variables.from_solar_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-solar-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-solar-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.from_battery_label + " (" +
                            Math.round(states[variables.from_battery_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-out-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-out-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_battery_entity: sensor.sol_ark_battery_out_daily
                    from_battery_label: Battery Used
                    from_grid_entity: sensor.sol_ark_grid_in_daily
                    from_grid_label: Grid Import
                    from_solar_entity: sensor.sol_ark_pv_daily
                    from_solar_label: Solar
                    house_use_entity: sensor.sol_ark_load_daily
                    house_use_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--grey-color)
                              entity: '[[[ return variables.to_house_entity ]]]'
                              name: Home
                              show:
                                datalabels: false
                            - color: var(--energy-grid-return-color)
                              entity: '[[[ return variables.to_grid_entity ]]]'
                              name: Grid Export
                              show:
                                datalabels: false
                            - color: var(--energy-battery-in-color)
                              entity: '[[[ return variables.to_battery_entity ]]]'
                              name: Battery Charge
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.from_solar_entity ]]]'
                            icon: mdi:solar-power-variant
                            label: '[[[ return variables.from_solar_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--energy-solar-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.to_house_entity ]]]'
                          icon: mdi:home-import-outline
                          name: '[[[ return variables.to_house_label + " (" + Math.round(states[variables.to_house_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--grey-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--grey-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_grid_entity ]]]'
                          icon: mdi:transmission-tower-import
                          label: '[[[ return variables.to_grid_label ]]]'
                          name: '[[[ return variables.to_grid_label + " (" + Math.round(states[variables.to_grid_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-return-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-return-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.to_battery_label + " (" + Math.round(states[variables.to_battery_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-in-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-in-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_solar_entity: sensor.sol_ark_pv_daily
                    from_solar_label: Solar
                    to_battery_entity: sensor.sol_ark_battery_in_daily
                    to_battery_label: Battery Charge
                    to_grid_entity: sensor.sol_ark_grid_out_daily
                    to_grid_label: Grid Export
                    to_house_entity: sensor.sol_ark_load_daily
                    to_house_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - entity: '[[[ return variables.net_battery_entity ]]]'
                          icon: mdi:home-battery
                          label: '[[[ return variables.net_battery_label ]]]'
                          name: '[[[ return variables.net_battery_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--green-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--green-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.net_grid_entity ]]]'
                          icon: mdi:transmission-tower
                          name: '[[[ return variables.net_grid_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--amber-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--amber-color)
                          type: custom:button-card
                        columns: 2
                        square: false
                        type: grid
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    net_battery_entity: sensor.sol_ark_battery_net_daily
                    net_battery_label: Battery Net
                    net_grid_entity: sensor.sol_ark_grid_net_daily
                    net_grid_label: Grid Net
                type: vertical-stack
            - attributes:
                label: Week
                minWidth: true
                stacked: false
              card:
                cards:
                - cards:
                  - all_series_config:
                      float_precision: 1
                      group_by:
                        duration: 1day
                        func: diff
                        start_with_last: true
                      opacity: 0.2
                      show:
                        in_header: raw
                        legend_value: false
                      statistics:
                        type: sum
                      stroke_width: 2
                      type: column
                    apex_config:
                      chart:
                        height: 200px
                        toolbar:
                          show: false
                      grid:
                        borderColor: '#7B7B7B'
                      legend:
                        show: false
                      tooltip:
                        shared: true
                      xaxis:
                        tooltip:
                          enabled: false
                    card_mod:
                      style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                        \ none;\n}\n#state__value > #state {\n  font-size: 1.2em !important;\n\
                        }\n"
                    graph_span: 7d
                    header:
                      colorize_states: true
                      show: false
                      show_states: true
                      standard_format: true
                    series:
                    - color: var(--energy-grid-consumption-color)
                      entity: sensor.sol_ark_grid_in_lifetime
                      name: Grid Import
                    - color: var(--energy-battery-in-color)
                      entity: sensor.sol_ark_battery_in_lifetime
                      invert: true
                      name: Battery Charge
                    - color: var(--energy-battery-out-color)
                      entity: sensor.sol_ark_battery_out_lifetime
                      name: Battery Used
                    - color: var(--energy-solar-color)
                      entity: sensor.sol_ark_pv_lifetime
                      name: Solar
                    - color: var(--energy-grid-return-color)
                      entity: sensor.sol_ark_grid_out_lifetime
                      invert: true
                      name: Grid Export
                    - color: var(--grey-color)
                      entity: sensor.sol_ark_load_lifetime
                      name: Home
                      opacity: 0.2
                      type: area
                    span:
                      end: day
                    stacked: true
                    type: custom:apexcharts-card
                    yaxis:
                    - apex_config:
                        forceNiceScale: true
                        tickAmount: 4
                        title:
                          text: kWh
                      max: ~70
                      min: ~1
                  - icon: mdi:magnify-expand
                    styles:
                      card:
                      - width: 3.5rem
                      - border: none
                      - background: none
                      - box-shadow: none
                      - margin-left: -40px
                    tap_action:
                      action: navigate
                      navigation_path: /energy
                    type: custom:button-card
                  type: horizontal-stack
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--energy-solar-color)
                              entity: '[[[ return variables.from_solar_entity ]]]'
                              name: Solar
                              show:
                                datalabels: false
                            - color: var(--energy-grid-consumption-color)
                              entity: '[[[ return variables.from_grid_entity ]]]'
                              name: Grid Import
                              show:
                                datalabels: false
                            - color: var(--energy-battery-out-color)
                              entity: '[[[ return variables.from_battery_entity ]]]'
                              name: Battery Used
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.house_use_entity ]]]'
                            icon: mdi:home-import-outline
                            label: '[[[ return variables.house_use_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--grey-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.from_grid_entity ]]]'
                          icon: mdi:transmission-tower-export
                          label: '[[[ return variables.from_grid_label ]]]'
                          name: '[[[ return variables.from_grid_label + " (" + Math.round(states[variables.from_grid_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-consumption-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-consumption-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_solar_entity ]]]'
                          icon: mdi:solar-power-variant
                          name: '[[[ return variables.from_solar_label + " (" + Math.round(states[variables.from_solar_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-solar-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-solar-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.from_battery_label + " (" +
                            Math.round(states[variables.from_battery_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-out-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-out-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_battery_entity: sensor.sol_ark_battery_out_weekly
                    from_battery_label: Battery Used
                    from_grid_entity: sensor.sol_ark_grid_in_weekly
                    from_grid_label: Grid Import
                    from_solar_entity: sensor.sol_ark_pv_weekly
                    from_solar_label: Solar
                    house_use_entity: sensor.sol_ark_load_weekly
                    house_use_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--grey-color)
                              entity: '[[[ return variables.to_house_entity ]]]'
                              name: Home
                              show:
                                datalabels: false
                            - color: var(--energy-grid-return-color)
                              entity: '[[[ return variables.to_grid_entity ]]]'
                              name: Grid Export
                              show:
                                datalabels: false
                            - color: var(--energy-battery-in-color)
                              entity: '[[[ return variables.to_battery_entity ]]]'
                              name: Battery Charge
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.from_solar_entity ]]]'
                            icon: mdi:solar-power-variant
                            label: '[[[ return variables.from_solar_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--energy-solar-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.to_house_entity ]]]'
                          icon: mdi:home-import-outline
                          name: '[[[ return variables.to_house_label + " (" + Math.round(states[variables.to_house_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--grey-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--grey-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_grid_entity ]]]'
                          icon: mdi:transmission-tower-import
                          label: '[[[ return variables.to_grid_label ]]]'
                          name: '[[[ return variables.to_grid_label + " (" + Math.round(states[variables.to_grid_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-return-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-return-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.to_battery_label + " (" + Math.round(states[variables.to_battery_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-in-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-in-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_solar_entity: sensor.sol_ark_pv_weekly
                    from_solar_label: Solar
                    to_battery_entity: sensor.sol_ark_battery_in_weekly
                    to_battery_label: Battery Charge
                    to_grid_entity: sensor.sol_ark_grid_out_weekly
                    to_grid_label: Grid Export
                    to_house_entity: sensor.sol_ark_load_weekly
                    to_house_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - entity: '[[[ return variables.net_battery_entity ]]]'
                          icon: mdi:home-battery
                          label: '[[[ return variables.net_battery_label ]]]'
                          name: '[[[ return variables.net_battery_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--green-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--green-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.net_grid_entity ]]]'
                          icon: mdi:transmission-tower
                          name: '[[[ return variables.net_grid_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--amber-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--amber-color)
                          type: custom:button-card
                        columns: 2
                        square: false
                        type: grid
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    net_battery_entity: sensor.sol_ark_battery_net_weekly
                    net_battery_label: Battery Net
                    net_grid_entity: sensor.sol_ark_grid_net_weekly
                    net_grid_label: Grid Net
                type: vertical-stack
            - attributes:
                label: Month
                minWidth: true
                stacked: false
              card:
                cards:
                - cards:
                  - all_series_config:
                      float_precision: 1
                      group_by:
                        duration: 1day
                        func: diff
                        start_with_last: true
                      opacity: 0.2
                      show:
                        in_header: raw
                        legend_value: false
                      statistics:
                        type: sum
                      stroke_width: 2
                      type: column
                    apex_config:
                      chart:
                        height: 200px
                        toolbar:
                          show: false
                      grid:
                        borderColor: '#7B7B7B'
                      legend:
                        show: false
                      tooltip:
                        shared: true
                      xaxis:
                        tooltip:
                          enabled: false
                    card_mod:
                      style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                        \ none;\n}\n#state__value > #state {\n  font-size: 1.2em !important;\n\
                        }\n"
                    graph_span: 30d
                    header:
                      colorize_states: true
                      show: false
                      show_states: true
                      standard_format: true
                    series:
                    - color: var(--energy-grid-consumption-color)
                      entity: sensor.sol_ark_grid_in_lifetime
                      name: Grid Import
                    - color: var(--energy-battery-in-color)
                      entity: sensor.sol_ark_battery_in_lifetime
                      invert: true
                      name: Battery Charge
                    - color: var(--energy-battery-out-color)
                      entity: sensor.sol_ark_battery_out_lifetime
                      name: Battery Used
                    - color: var(--energy-solar-color)
                      entity: sensor.sol_ark_pv_lifetime
                      name: Solar
                    - color: var(--energy-grid-return-color)
                      entity: sensor.sol_ark_grid_out_lifetime
                      invert: true
                      name: Grid Export
                    - color: var(--grey-color)
                      entity: sensor.sol_ark_load_lifetime
                      name: Home
                      opacity: 0.2
                      type: area
                    span:
                      end: day
                    stacked: true
                    type: custom:apexcharts-card
                    yaxis:
                    - apex_config:
                        forceNiceScale: true
                        tickAmount: 4
                        title:
                          text: kWh
                      max: ~70
                      min: ~1
                  - icon: mdi:magnify-expand
                    styles:
                      card:
                      - width: 3.5rem
                      - border: none
                      - background: none
                      - box-shadow: none
                      - margin-left: -40px
                    tap_action:
                      action: navigate
                      navigation_path: /energy
                    type: custom:button-card
                  type: horizontal-stack
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--energy-solar-color)
                              entity: '[[[ return variables.from_solar_entity ]]]'
                              name: Solar
                              show:
                                datalabels: false
                            - color: var(--energy-grid-consumption-color)
                              entity: '[[[ return variables.from_grid_entity ]]]'
                              name: Grid Import
                              show:
                                datalabels: false
                            - color: var(--energy-battery-out-color)
                              entity: '[[[ return variables.from_battery_entity ]]]'
                              name: Battery Used
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.house_use_entity ]]]'
                            icon: mdi:home-import-outline
                            label: '[[[ return variables.house_use_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--grey-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.from_grid_entity ]]]'
                          icon: mdi:transmission-tower-export
                          label: '[[[ return variables.from_grid_label ]]]'
                          name: '[[[ return variables.from_grid_label + " (" + Math.round(states[variables.from_grid_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-consumption-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-consumption-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_solar_entity ]]]'
                          icon: mdi:solar-power-variant
                          name: '[[[ return variables.from_solar_label + " (" + Math.round(states[variables.from_solar_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-solar-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-solar-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.from_battery_label + " (" +
                            Math.round(states[variables.from_battery_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-out-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-out-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_battery_entity: sensor.sol_ark_battery_out_monthly
                    from_battery_label: Battery Used
                    from_grid_entity: sensor.sol_ark_grid_in_monthly
                    from_grid_label: Grid Import
                    from_solar_entity: sensor.sol_ark_pv_monthly
                    from_solar_label: Solar
                    house_use_entity: sensor.sol_ark_load_monthly
                    house_use_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--grey-color)
                              entity: '[[[ return variables.to_house_entity ]]]'
                              name: Home
                              show:
                                datalabels: false
                            - color: var(--energy-grid-return-color)
                              entity: '[[[ return variables.to_grid_entity ]]]'
                              name: Grid Export
                              show:
                                datalabels: false
                            - color: var(--energy-battery-in-color)
                              entity: '[[[ return variables.to_battery_entity ]]]'
                              name: Battery Charge
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.from_solar_entity ]]]'
                            icon: mdi:solar-power-variant
                            label: '[[[ return variables.from_solar_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--energy-solar-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.to_house_entity ]]]'
                          icon: mdi:home-import-outline
                          name: '[[[ return variables.to_house_label + " (" + Math.round(states[variables.to_house_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--grey-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--grey-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_grid_entity ]]]'
                          icon: mdi:transmission-tower-import
                          label: '[[[ return variables.to_grid_label ]]]'
                          name: '[[[ return variables.to_grid_label + " (" + Math.round(states[variables.to_grid_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-return-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-return-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.to_battery_label + " (" + Math.round(states[variables.to_battery_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-in-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-in-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_solar_entity: sensor.sol_ark_pv_monthly
                    from_solar_label: Solar
                    to_battery_entity: sensor.sol_ark_battery_in_monthly
                    to_battery_label: Battery Charge
                    to_grid_entity: sensor.sol_ark_grid_out_monthly
                    to_grid_label: Grid Export
                    to_house_entity: sensor.sol_ark_load_monthly
                    to_house_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - entity: '[[[ return variables.net_battery_entity ]]]'
                          icon: mdi:home-battery
                          label: '[[[ return variables.net_battery_label ]]]'
                          name: '[[[ return variables.net_battery_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--green-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--green-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.net_grid_entity ]]]'
                          icon: mdi:transmission-tower
                          name: '[[[ return variables.net_grid_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--amber-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--amber-color)
                          type: custom:button-card
                        columns: 2
                        square: false
                        type: grid
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    net_battery_entity: sensor.sol_ark_battery_net_monthly
                    net_battery_label: Battery Net
                    net_grid_entity: sensor.sol_ark_grid_net_monthly
                    net_grid_label: Grid Net
                type: vertical-stack
            - attributes:
                label: Year
                minWidth: true
                stacked: false
              card:
                cards:
                - cards:
                  - all_series_config:
                      float_precision: 1
                      group_by:
                        duration: 30day
                        func: diff
                        start_with_last: true
                      opacity: 0.2
                      show:
                        in_header: raw
                        legend_value: false
                      statistics:
                        type: sum
                      stroke_width: 2
                      type: column
                    apex_config:
                      chart:
                        height: 200px
                        toolbar:
                          show: false
                      grid:
                        borderColor: '#7B7B7B'
                      legend:
                        show: false
                      tooltip:
                        shared: true
                      xaxis:
                        tooltip:
                          enabled: false
                    card_mod:
                      style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                        \ none;\n}\n#state__value > #state {\n  font-size: 1.2em !important;\n\
                        }\n"
                    graph_span: 1year
                    header:
                      colorize_states: true
                      show: false
                      show_states: true
                      standard_format: true
                    series:
                    - color: var(--energy-grid-consumption-color)
                      entity: sensor.sol_ark_grid_in_yearly
                      name: Grid Import
                    - color: var(--energy-battery-in-color)
                      entity: sensor.sol_ark_battery_in_yearly
                      invert: true
                      name: Battery Charge
                    - color: var(--energy-battery-out-color)
                      entity: sensor.sol_ark_battery_out_yearly
                      name: Battery Used
                    - color: var(--energy-solar-color)
                      entity: sensor.sol_ark_pv_yearly
                      name: Solar
                    - color: var(--energy-grid-return-color)
                      entity: sensor.sol_ark_grid_out_yearly
                      invert: true
                      name: Grid Export
                    - color: var(--grey-color)
                      entity: sensor.sol_ark_load_yearly
                      name: Home
                      opacity: 0.2
                      type: area
                    span:
                      end: month
                    stacked: true
                    type: custom:apexcharts-card
                    yaxis:
                    - apex_config:
                        forceNiceScale: true
                        tickAmount: 4
                        title:
                          text: kWh
                      max: ~1500
                      min: ~-500
                  - icon: mdi:magnify-expand
                    styles:
                      card:
                      - width: 3.5rem
                      - border: none
                      - background: none
                      - box-shadow: none
                      - margin-left: -40px
                    tap_action:
                      action: navigate
                      navigation_path: /energy
                    type: custom:button-card
                  type: horizontal-stack
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--energy-solar-color)
                              entity: '[[[ return variables.from_solar_entity ]]]'
                              name: Solar
                              show:
                                datalabels: false
                            - color: var(--energy-grid-consumption-color)
                              entity: '[[[ return variables.from_grid_entity ]]]'
                              name: Grid Import
                              show:
                                datalabels: false
                            - color: var(--energy-battery-out-color)
                              entity: '[[[ return variables.from_battery_entity ]]]'
                              name: Battery Used
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.house_use_entity ]]]'
                            icon: mdi:home-import-outline
                            label: '[[[ return variables.house_use_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--grey-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.from_grid_entity ]]]'
                          icon: mdi:transmission-tower-export
                          label: '[[[ return variables.from_grid_label ]]]'
                          name: '[[[ return variables.from_grid_label + " (" + Math.round(states[variables.from_grid_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-consumption-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-consumption-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_solar_entity ]]]'
                          icon: mdi:solar-power-variant
                          name: '[[[ return variables.from_solar_label + " (" + Math.round(states[variables.from_solar_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-solar-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-solar-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.from_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.from_battery_label + " (" +
                            Math.round(states[variables.from_battery_entity].state
                            / states[variables.house_use_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-out-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-out-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_battery_entity: sensor.sol_ark_battery_out_yearly
                    from_battery_label: Battery Used
                    from_grid_entity: sensor.sol_ark_grid_in_yearly
                    from_grid_label: Grid Import
                    from_solar_entity: sensor.sol_ark_pv_yearly
                    from_solar_label: Solar
                    house_use_entity: sensor.sol_ark_load_yearly
                    house_use_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - cards:
                          - apex_config:
                              chart:
                                animations:
                                  enabled: false
                                height: 85px
                                offsetX: 0
                                offsetY: 18
                              legend:
                                show: false
                              plotOptions:
                                pie:
                                  customScale: 1.8
                            card_mod:
                              style: "ha-card {\n  background: none;\n  border: none;\n\
                                \  box-shadow: none;\n  height: 80px;\n  padding:\
                                \ 0px;\n}\n"
                            chart_type: donut
                            header:
                              floating: true
                              show: false
                            series:
                            - color: var(--grey-color)
                              entity: '[[[ return variables.to_house_entity ]]]'
                              name: Home
                              show:
                                datalabels: false
                            - color: var(--energy-grid-return-color)
                              entity: '[[[ return variables.to_grid_entity ]]]'
                              name: Grid Export
                              show:
                                datalabels: false
                            - color: var(--energy-battery-in-color)
                              entity: '[[[ return variables.to_battery_entity ]]]'
                              name: Battery Charge
                              show:
                                datalabels: false
                            stacked: true
                            type: custom:apexcharts-card
                          - entity: '[[[ return variables.from_solar_entity ]]]'
                            icon: mdi:solar-power-variant
                            label: '[[[ return variables.from_solar_label ]]]'
                            layout: vertical
                            show_icon: true
                            show_label: true
                            show_name: false
                            show_state: true
                            styles:
                              card:
                              - height: 80px
                              - margin-top: -88px
                              - background: none
                              - border: none
                              - box-shadow: none
                              grid:
                              - grid-template-areas: '"top" "i" "s" "l" "bottom"'
                              - grid-template-columns: 100%
                              - grid-template-rows: 1fr 3fr auto auto 1fr
                              icon:
                              - height: 1.5rem
                              - color: var(--energy-solar-color)
                              label:
                              - font-size: 0.7rem
                              state:
                              - font-weight: bold
                              - font-size: 0.7rem
                            type: custom:button-card
                          type: vertical-stack
                        - entity: '[[[ return variables.to_house_entity ]]]'
                          icon: mdi:home-import-outline
                          name: '[[[ return variables.to_house_label + " (" + Math.round(states[variables.to_house_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--grey-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--grey-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_grid_entity ]]]'
                          icon: mdi:transmission-tower-import
                          label: '[[[ return variables.to_grid_label ]]]'
                          name: '[[[ return variables.to_grid_label + " (" + Math.round(states[variables.to_grid_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-grid-return-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--energy-grid-return-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.to_battery_entity ]]]'
                          icon: mdi:home-battery
                          name: '[[[ return variables.to_battery_label + " (" + Math.round(states[variables.to_battery_entity].state
                            / states[variables.from_solar_entity].state * 100) + "%)"
                            ]]]'
                          show_icon: true
                          show_label: false
                          show_name: true
                          show_state: true
                          size: 100%
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--energy-battery-in-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--energy-battery-in-color)
                          type: custom:button-card
                        columns: 4
                        square: false
                        type: grid
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    from_solar_entity: sensor.sol_ark_pv_yearly
                    from_solar_label: Solar
                    to_battery_entity: sensor.sol_ark_battery_in_yearly
                    to_battery_label: Battery Charge
                    to_grid_entity: sensor.sol_ark_grid_out_yearly
                    to_grid_label: Grid Export
                    to_house_entity: sensor.sol_ark_load_yearly
                    to_house_label: Home
                - custom_fields:
                    map:
                      card:
                        cards:
                        - entity: '[[[ return variables.net_battery_entity ]]]'
                          icon: mdi:home-battery
                          label: '[[[ return variables.net_battery_label ]]]'
                          name: '[[[ return variables.net_battery_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--green-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - text-align: center
                            - color: var(--green-color)
                          type: custom:button-card
                        - entity: '[[[ return variables.net_grid_entity ]]]'
                          icon: mdi:transmission-tower
                          name: '[[[ return variables.net_grid_label ]]]'
                          show_state: true
                          styles:
                            card:
                            - height: 80px
                            - box-shadow: none
                            - border: none
                            - padding: 0px
                            grid:
                            - grid-template-areas: '"i" "s" "n"'
                            - grid-template-rows: 3rem 1fr 1fr
                            - grid-template-columns: auto
                            icon:
                            - height: 2.5rem
                            - color: var(--amber-color)
                            label:
                            - font-size: 0.7rem
                            - align-self: center
                            name:
                            - font-size: 0.7rem
                            - align-self: start
                            state:
                            - font-weight: bold
                            - font-size: 1rem
                            - align-self: end
                            - color: var(--amber-color)
                          type: custom:button-card
                        columns: 2
                        square: false
                        type: grid
                  styles:
                    card:
                    - padding: 0px
                    - border: 0
                    custom_fields:
                      map:
                      - filter: opacity(100%)
                      - overflow: visible
                    grid:
                    - grid-template-areas: '"map"'
                    - grid-template-columns: 100%
                    - grid-template-rows: 100%
                  type: custom:button-card
                  variables:
                    net_battery_entity: sensor.sol_ark_battery_net_yearly
                    net_battery_label: Battery Net
                    net_grid_entity: sensor.sol_ark_grid_net_yearly
                    net_grid_label: Grid Net
                type: vertical-stack
            type: custom:tabbed-card
          type: custom:vertical-stack-in-card
      - attributes:
          icon: mdi:home-battery-outline
          label: Battery
          minWidth: true
          stacked: false
        card:
          card_mod:
            style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
              }\n"
          cards:
          - cards:
            - all_series_config:
                group_by:
                  duration: 5min
                  func: avg
                opacity: 0.2
                show:
                  in_header: raw
                stroke_width: 2
                type: area
              apex_config:
                chart:
                  height: 200px
                  toolbar:
                    show: false
                grid:
                  borderColor: '#7B7B7B'
                legend:
                  show: false
                title:
                  align: center
                  floating: true
                  margin: 10
                  offsetX: 0
                  offsetY: 10
                  style:
                    color: var(--primary-text-color)
                    fontSize: 1rem
                    fontWeight: bold
                  text: Battery Storage
                tooltip:
                  shared: true
                xaxis:
                  tooltip:
                    enabled: false
              card_mod:
                style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow:\
                  \ none;\n  margin-bottom: -15px;\n}\n#state__value > #state {\n\
                  \  font-size: 1.2em !important;\n}\n.apexcharts-tooltip-series-group\
                  \ {\n  padding-top: 0px !important;\n  padding-bottom: 0px !important;\n\
                  \  margin-top: 0px !important;\n  margin-bottom: 0px !important;\n\
                  \  display: none;\n  text-align: left;\n  justify-content: left;\n\
                  \  align-items: center;\n}\n"
              graph_span: 24h
              header:
                colorize_states: true
                show: false
                show_states: true
                standard_format: true
              series:
              - color: var(--energy-battery-in-color)
                entity: sensor.sol_ark_battery_power_in
                invert: true
                name: Charge
                yaxis_id: power
              - color: var(--energy-battery-out-color)
                entity: sensor.sol_ark_battery_power_out
                name: Used
                yaxis_id: power
              - color: var(--grey-color)
                entity: sensor.sol_ark_battery_state_of_charge
                name: Level
                yaxis_id: level
              span:
                end: minute
              type: custom:apexcharts-card
              yaxis:
              - apex_config:
                  forceNiceScale: true
                  labels:
                    style:
                      colors:
                      - var(--energy-battery-in-color)
                      - var(--energy-battery-in-color)
                      - var(--grey-color)
                      - var(--energy-battery-out-color)
                      - var(--energy-battery-out-color)
                  tickAmount: 4
                  title:
                    rotate: 0
                    text: W
                decimals: 0
                id: power
              - apex_config:
                  forceNiceScale: true
                  labels:
                    style:
                      colors: var(--grey-color)
                  tickAmount: 5
                  title:
                    rotate: 0
                    text: '%'
                decimals: 0
                id: level
                max: 100
                min: 0
                opposite: true
            - icon: mdi:magnify-expand
              styles:
                card:
                - width: 3.5rem
                - border: none
                - background: none
                - box-shadow: none
                - margin-left: -40px
              tap_action:
                action: navigate
                navigation_path: /energy
              type: custom:button-card
            type: horizontal-stack
          - all_series_config:
              float_precision: 1
              group_by:
                duration: 1hour
                func: diff
                start_with_last: true
              opacity: 0.2
              show:
                in_header: raw
                legend_value: false
              statistics:
                type: sum
              stroke_width: 2
              type: column
            apex_config:
              chart:
                height: 200px
                toolbar:
                  show: false
              grid:
                borderColor: '#7B7B7B'
              legend:
                show: false
              title:
                align: center
                floating: true
                margin: 10
                offsetX: 0
                offsetY: 10
                style:
                  color: var(--primary-text-color)
                  fontSize: 1rem
                  fontWeight: bold
                text: Battery Today
              tooltip:
                shared: true
              xaxis:
                tooltip:
                  enabled: false
            card_mod:
              style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
                }\n#state__value > #state {\n  font-size: 1.2em !important;\n}\n"
            graph_span: 1d
            header:
              colorize_states: true
              show: false
              show_states: true
              standard_format: true
            series:
            - color: var(--energy-battery-in-color)
              entity: sensor.sol_ark_battery_in_daily
              invert: true
              name: Charge
            - color: var(--energy-battery-out-color)
              entity: sensor.sol_ark_battery_out_daily
              name: Used
            span:
              start: day
            stacked: true
            type: custom:apexcharts-card
            yaxis:
            - apex_config:
                forceNiceScale: true
                tickAmount: 2
                title:
                  text: kWh
              max: ~1
              min: ~1
          - all_series_config:
              group_by:
                duration: 5min
                func: avg
              opacity: 0.2
              show:
                in_header: raw
              stroke_width: 2
              type: area
            apex_config:
              chart:
                height: 200px
                toolbar:
                  show: false
              grid:
                borderColor: '#7B7B7B'
              legend:
                show: false
              title:
                align: center
                floating: true
                margin: 10
                offsetX: 0
                offsetY: 10
                style:
                  color: var(--primary-text-color)
                  fontSize: 1rem
                  fontWeight: bold
                text: Battery Electrical
              tooltip:
                shared: true
              xaxis:
                tooltip:
                  enabled: false
            card_mod:
              style: "ha-card {\n  padding: 0px;\n  border: none;\n  box-shadow: none;\n\
                \  margin-bottom: -15px;\n}\n#state__value > #state {\n  font-size:\
                \ 1.2em !important;\n}\n.apexcharts-tooltip-series-group {\n  padding-top:\
                \ 0px !important;\n  padding-bottom: 0px !important;\n  margin-top:\
                \ 0px !important;\n  margin-bottom: 0px !important;\n  display: none;\n\
                \  text-align: left;\n  justify-content: left;\n  align-items: center;\n\
                }\n"
            graph_span: 24h
            header:
              colorize_states: true
              show: false
              show_states: true
              standard_format: true
            series:
            - color: var(--energy-battery-in-color)
              entity: sensor.sol_ark_battery_current
              invert: true
              name: Current
              yaxis_id: current
            - color: var(--energy-battery-out-color)
              entity: sensor.sol_ark_battery_voltage
              name: Voltage
              yaxis_id: voltage
            span:
              end: minute
            type: custom:apexcharts-card
            yaxis:
            - apex_config:
                forceNiceScale: true
                labels:
                  style:
                    colors: var(--grey-color)
                tickAmount: 4
                title:
                  rotate: 0
                  text: A
              decimals: 0
              id: current
            - apex_config:
                forceNiceScale: true
                labels:
                  style:
                    colors: var(--grey-color)
                tickAmount: 5
                title:
                  rotate: 0
                  text: V
              decimals: 0
              id: voltage
              max: 60
              min: 40
              opposite: true
          type: custom:vertical-stack-in-card
      type: custom:tabbed-card
    type: vertical-stack
  icon: mdi:meter-electric-outline
  path: power-stats
  subview: true
  title: Power Stats
  type: panel
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Testing
    - icon: mdi:test-tube
    - icon_color: disabled
  icon: mdi:test-tube
  layout:
    max_cols: 2
  path: test
  theme: Backend-selected
  title: Test
  type: custom:masonry-layout
  visible:
  - user: f615672fc2554783beab56221097564e
