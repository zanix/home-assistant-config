decluttering_templates:
  chip_header:
    card:
      cards:
      - cards:
        - card_mod:
            style: "ha-card  {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-icon-size: 1em;\n}\n"
          chips:
          - icon: mdi:chevron-left
            tap_action:
              action: navigate
              navigation_path: main
            type: template
          type: custom:mushroom-chips-card
        - card_mod:
            style: "ha-card {\n  background-color: var(--primary-background-color)\
              \ !important;\n  border-radius: var(--ha-card-border-radius) !important;\n\
              \  box-shadow: var(--ha-card-box-shadow, none) !important;\n  --chip-box-shadow:\
              \ none;\n  --chip-background: none;\n  --chip-spacing: 0;\n}\n"
          chips: '[[chips]]'
          type: custom:mushroom-chips-card
        layout:
          grid-template-columns: 55px auto
          grid-template-rows: auto
          margin: 0
          padding: 5px
        layout_type: custom:grid-layout
        type: custom:layout-card
      - card_mod:
          style: "ha-card {\n  transition-duration: 0s;\n  background: none;\n  box-shadow:\
            \ none;\n  padding: 0px 16px 8px !important;\n  margin-top: -10px !important;\n\
            \n  /* Make card non-responsive to select and pointer */\n  user-select:\
            \ none;\n  pointer-events: none;\n}\n:host {\n  --mush-icon-size: 54px;\n\
            \  --mush-card-primary-font-size: 3rem;\n  margin-left: -10px !important;\n\
            }\n"
        fill_container: true
        hold_action:
          action: none
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: '[[secondary]]'
        tap_action:
          action: none
        type: custom:mushroom-template-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - secondary: null
    - icon: mdi:select-place
    - chips: []
  computer_apps:
    card:
      cards:
      - entity: '[[entity]]'
        hold_action:
          action: call-service
          data:
            command: '"C:\Users\PC\AppData\Local\Programs\LaunchBox\Core\BigBox.exe"'
            entity:
            - '[[entity]]'
          service: script.hass_agent_launch
        icon: fapro:bigbox
        icon_color: grey
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: '[[entity]]'
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files (x86)\Steam\Steam.exe"'
            entity:
            - '[[entity]]'
          service: script.hass_agent_launch
        icon: mdi:steam
        icon_color: grey
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: '[[entity]]'
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files\Electronic Arts\EA Desktop\EA Desktop\EALauncher.exe"'
            entity:
            - '[[entity]]'
          service: script.hass_agent_launch
        icon: mdi:origin
        icon_color: grey
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: '[[entity]]'
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files (x86)\Epic Games\Launcher\Portal\Binaries\Win32\EpicGamesLauncher.exe"'
            entity:
            - '[[entity]]'
          service: script.hass_agent_launch
        icon: fapro:epic_games
        icon_color: grey
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      - entity: '[[entity]]'
        hold_action:
          action: call-service
          data:
            command: '"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe"'
            entity:
            - '[[entity]]'
          service: script.hass_agent_launch
        icon: mdi:microsoft-edge
        icon_color: grey
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      horizontal: true
      type: custom:vertical-stack-in-card
  computer_power:
    card:
      cards:
      - card:
          entity: switch.[[computer]]
          hold_action:
            action: call-service
            service: switch.toggle
            target:
              entity_id: switch.[[computer]]
          icon: mdi:power-off
          icon_color: red
          primary: Power
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'off'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: switch.[[computer]]
          hold_action:
            action: call-service
            service: switch.toggle
            target:
              entity_id: switch.[[computer]]
          icon: mdi:power
          icon_color: green
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_lock
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_lock
          icon: "{% if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) %}\n  mdi:lock\n{% else %}\n  mdi:lock-open\n{% endif %}"
          icon_color: "{% if is_state(\"sensor.[[computer]]_session_state\", \"Locked\"\
            ) %}\n  red\n{% elif is_state(\"sensor.[[computer]]_session_state\", \"\
            Unlocked\") %}\n  green\n{% else %}\n  grey\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_logoff
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_logoff
          icon: mdi:logout
          icon_color: grey
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_sleep
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_sleep
          icon: mdi:sleep
          icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      - card:
          card_mod:
            style: "ha-card {\n  margin-left: auto;\n  margin-right: auto;\n}\n"
          entity: button.[[computer]]_restart
          hold_action:
            action: call-service
            service: button.press
            target:
              entity_id: button.[[computer]]_restart
          icon: mdi:reload
          icon_color: '{{ is_state(entity, "on") | iif("green", "grey") }}'
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        conditions:
        - entity: binary_sensor.[[computer]]_connected
          state: 'on'
        type: conditional
      horizontal: true
      type: custom:vertical-stack-in-card
  door_card:
    card:
      badge_color: '{% from "util.jinja" import battery_color %} {{ battery_color("[[battery_entity]]")
        }}'
      badge_icon: '{% from "util.jinja" import battery_icon %} {{ battery_icon("[[battery_entity]]")
        }}'
      entity: '[[entity]]'
      icon: '[[icon]]{{ iif(is_state(entity, "on"), "-open", "") }}'
      icon_color: '{{ iif(is_state(entity, "on"), "red", "green") }}'
      multiline_secondary: true
      primary: '[[name]]'
      secondary: '{% from "util.jinja" import custom_timedelta %} {{ iif(is_state(entity,
        "on"), "Open", "Closed") }}

        {{ custom_timedelta(entity) }}'
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
  light_group_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  {% if is_state(config.entity, \"on\") %}\n  background:\
            \ rgba(var(--rgb-state-light), 0.2);\n  {% endif %}\n}\n"
        entity: '[[entity]]'
        secondary_info: none
        tap_action:
          action: toggle
        type: custom:mushroom-light-card
      - card:
          cards: []
          layout_type: masonry
          type: custom:layout-card
        filter:
          exclude: []
          include:
          - group: '[[entity]]'
            options:
              card_mod:
                style: "ha-card {\n  padding: 4px 12px !important;\n}\n"
              layout: horizontal
              show_brightness_control: true
              show_color_control: true
              show_color_temp_control: true
              type: custom:mushroom-light-card
        sort:
          method: friendly_name
        type: custom:auto-entities
      type: custom:vertical-stack-in-card
  light_wb_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none\n}\n"
      cards:
      - card_mod:
          style: ":host {\n  --mush-icon-size: 90px;\n}\n"
        entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        fill_container: false
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      - entity: '[[light]]'
        icon: mdi:white-balance-sunny
        layout: horizontal
        name: Temperature
        secondary_info: none
        show_color_temp_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      type: custom:vertical-stack-in-card
  light_wled_popup:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none\n}\n"
      cards:
      - card_mod:
          style: ":host {\n  --mush-icon-size: 90px;\n}\n"
        entity: '[[light]]'
        layout: vertical
        primary_info: name
        type: custom:mushroom-light-card
      - subtitle: Presets
        type: custom:mushroom-title-card
      - alignment: center
        chips:
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 236, 224);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Daylight
          tap_action:
            action: call-service
            data:
              kelvin: 5500
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 196, 137);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cool White
          tap_action:
            action: call-service
            data:
              kelvin: 4000
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:lightbulb
          name: Cozy
          tap_action:
            action: call-service
            data:
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        - card_mod:
            style: "ha-card {\n  --chip-background: rgb(255, 169, 87);\n  --text-color:\
              \ black;\n}\n"
          content_info: name
          entity: '[[light]]'
          icon: mdi:book-open-page-variant-outline
          name: Reading
          tap_action:
            action: call-service
            data:
              brightness: 153
              kelvin: 2700
              transition: 2
            service: light.turn_on
            target:
              entity_id: '[[light]]'
          type: light
          use_light_color: false
        type: custom:mushroom-chips-card
      - card:
          colors:
          - rgb_color:
            - 255
            - 255
            - 255
          - rgb_color:
            - 255
            - 0
            - 0
          - rgb_color:
            - 255
            - 0
            - 100
          - rgb_color:
            - 255
            - 116
            - 64
          - rgb_color:
            - 255
            - 165
            - 0
          - rgb_color:
            - 255
            - 255
            - 0
          - rgb_color:
            - 8
            - 224
            - 9
          - rgb_color:
            - 0
            - 255
            - 0
          - rgb_color:
            - 153
            - 255
            - 0
          - rgb_color:
            - 29
            - 187
            - 255
          - rgb_color:
            - 0
            - 255
            - 255
          - rgb_color:
            - 169
            - 3
            - 255
          - rgb_color:
            - 255
            - 0
            - 255
          entity: '[[light]]'
          justify: around
          type: custom:rgb-light-card
        style: "ha-card {\n  padding: 20px;\n}\n"
        type: custom:mod-card
      - subtitle: Effects
        type: custom:mushroom-title-card
      - entities:
        - entity: '[[effect]]'
        type: entities
      - subtitle: Manual Adjustments
        type: custom:mushroom-title-card
      - entity: '[[light]]'
        fill_container: false
        icon: mdi:brightness-7
        layout: horizontal
        name: Brightness
        secondary_info: none
        show_brightness_control: true
        show_color_control: false
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      - entity: '[[light]]'
        icon: mdi:palette
        layout: horizontal
        name: Color
        secondary_info: none
        show_color_control: true
        tap_action:
          action: none
        type: custom:mushroom-light-card
        use_light_color: true
      type: custom:vertical-stack-in-card
  media_card:
    card:
      card_mod:
        style:
          .: "ha-card:before {\n  transform: translate3d(0,0,0);\n  -webkit-transform:\
            \ translate3d(0,0,0);\n  content: \"\";\n  position: absolute;\n  height:\
            \ 100%;\n  width: 100%;\n\n  animation: gradient 40s ease infinite;\n\n\
            \  background:\n  {%- if not states(\"[[entity]]\") in [\"off\", \"unknown\"\
            , \"unavailable\", \"idle\"] and state_attr(\"[[entity]]\", \"entity_picture\"\
            ) -%}\n    url( '{{ state_attr('[[entity]]', \"entity_picture\") }}')\
            \ center no-repeat\n  {%- elif not states('[[entity]]') in [\"off\", \"\
            unknown\", \"unavailable\"] -%}\n    url('/local/backgrounds/waveform2.jpg')\
            \ center no-repeat;\n  {%- endif -%};\n  background-size: 500% 500%;\n\
            \  filter: blur(100px) saturate(200%);\n}\nha-card {\n  transform: translate3d(0,0,0);\n\
            \  -webkit-transform: translate3d(0,0,0);\n}\n@keyframes gradient {\n\
            \  0% { background-position: 0% 50%; }\n  25% { background-position: 50%\
            \ 0%; }\n  50% { background-position: 100% 50%; }\n  75% { background-position:\
            \ 50% 100%; }\n  100% { background-position: 0% 50%; }\n"
          expander-card$: ".header-overlay {\n  right: initial;\n  left: 0;\n}\n"
      cards:
      - cards:
        - card:
            cards:
            - alignment: end
              card_mod:
                style:
                  .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled), 0.15);\n\
                    \  --ha-card-box-shadow: none;\n  --chip-border-radius: 12px;\n\
                    \  --chip-height: 35px;\n  --chip-padding: 10px;\n  --chip-spacing:\
                    \ 18px;\n}\n.chip-container * {\n  margin-bottom: var(--chip-spacing)\
                    \ !important;\n}\n"
              chips:
              - content: "{% if state_attr(entity, \"volume_level\") %}\n  {{ (state_attr(entity,\
                  \ \"volume_level\") * 100) | round(0) }}%\n{% endif %}"
                entity: '[[entity]]'
                icon: "{% if state_attr(entity, \"is_volume_muted\") %}\n  mdi:volume-mute\n\
                  {% else %}\n  mdi:volume-source\n{% endif %}"
                tap_action:
                  action: call-service
                  data:
                    media_player: '[[sound_entity]]'
                  service: script.media_player_mute
                type: template
              type: custom:mushroom-chips-card
            - card_mod:
                style: ":host {\n  --mush-rgb-state-media-player: var(--rgb-accent-color);\n\
                  }\nha-card {\n  --control-height: 10px;\n  transform: translate3d(0,0,0);\n\
                  \  -webkit-transform: translate3d(0,0,0);\n  background: transparent;\n\
                  \  border: none !important;\n  box-shadow: none;\n}\n"
              entity: '[[entity]]'
              icon_type: none
              primary_info: none
              secondary_info: none
              type: custom:mushroom-media-player-card
              volume_controls:
              - volume_set
            - card:
                alignment: center
                card_mod:
                  style:
                    .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled),\
                      \ 0.15);\n  --ha-card-box-shadow: none;\n  --chip-border-radius:\
                      \ 12px;\n  --chip-height: 35px;\n  --chip-padding: 10px;\n \
                      \ --chip-spacing: 18px;\n}\n.chip-container * {\n  margin-bottom:\
                      \ var(--chip-spacing) !important;\n}\n"
                chips:
                - entity: '[[entity]]'
                  icon: mdi:volume-minus
                  tap_action:
                    action: call-service
                    service: media_player.volume_down
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: mdi:volume-plus
                  tap_action:
                    action: call-service
                    service: media_player.volume_up
                    target:
                      entity_id: '[[entity]]'
                  type: template
                type: custom:mushroom-chips-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: idle
              - entity: '[[entity]]'
                state_not: standby
              type: conditional
            layout:
              grid-template-columns: 85px auto 105px
              grid-template-rows: auto
              margin: 0
              padding: 5px
            layout_type: custom:grid-layout
            type: custom:layout-card
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: unknown
          - entity: '[[entity]]'
            state_not: 'off'
          type: conditional
        - card:
            alignment: center
            card_mod:
              style:
                .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled), 0.15);\n\
                  \  --ha-card-box-shadow: none;\n  --chip-border-radius: 12px;\n\
                  \  --chip-height: 35px;\n  --chip-padding: 10px;\n  --chip-spacing:\
                  \ 18px;\n}\n.chip-container * {\n  margin-bottom: var(--chip-spacing)\
                  \ !important;\n}\n"
            chips:
            - content: '{{ states("[[sound_mode]]") }}'
              entity: '[[sound_mode]]'
              icon: mdi:surround-sound
              tap_action:
                action: fire-dom-event
                browser_mod:
                  data:
                    card_mod:
                      style:
                        ha-dialog$: ".mdc-dialog .mdc-dialog__container .mdc-dialog__surface,\n\
                          .mdc-dialog .mdc-dialog__content {\n  overflow: visible\
                          \ !important;\n}\n"
                    content:
                      card_mod:
                        style: "ha-card {\n  background: none;\n}\n"
                      entity: '[[sound_mode]]'
                      icon_color: indigo
                      layout: horizontal
                      name: Sound Mode
                      secondary_info: none
                      type: custom:mushroom-select-card
                  service: browser_mod.popup
              type: template
            type: custom:mushroom-chips-card
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[sound_mode]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: 'off'
          type: conditional
        - card:
            artwork: none
            card_mod:
              style:
                mmp-shortcuts$: ".mmp-shortcuts__button {\n  --mmp-button-color: rgba(189,\
                  \ 189, 189, 0.15);\n  box-shadow: var(--ha-card-box-shadow);\n \
                  \ border-radius: 12px;\n}\n"
            entity: '[[entity]]'
            group: true
            hide:
              controls: true
              icon: true
              info: true
              name: true
              power: true
              progress: true
              source: true
              volume: true
            shortcuts:
              attribute: source
              buttons: '[[buttons]]'
              columns: 3
            type: custom:mini-media-player
          conditions:
          - entity: '[[entity]]'
            state_not: unavailable
          - entity: '[[entity]]'
            state_not: unknown
          type: conditional
        child-padding: 0.5em
        expanded: '[[expanded]]'
        gap: 0em
        overlay-margin: 0.5em
        padding: 0em
        title-card:
          cards:
          - cards:
            - card:
                alignment: center
                subtitle: "{% set entity = \"[[entity]]\" %} {% if states(entity)\
                  \ in [\"playing\", \"paused\", \"standby\"] %}\n  {{ states(entity)\
                  \ | title }}\n{% endif %}"
                title: "{% if not \"[[\" in \"[[name]]\" %}\n  [[name]]\n{% else %}\n\
                  \  {{ state_attr(\"[[entity]]\", \"friendly_name\") | title }}\n\
                  {% endif %}"
                type: custom:mushroom-title-card
              card_mod:
                style:
                  mushroom-title-card$: "h1 {\n  margin-left: 1.2em !important;\n\
                    }\nh2 {\n  text-shadow: 0 0 18px rgba(0, 0, 0, 0.5);\n}\n"
              type: custom:mod-card
            - card:
                alignment: center
                card_mod:
                  style:
                    .: "ha-card {\n  --chip-background: rgba(var(--rgb-disabled),\
                      \ 0.15);\n  --ha-card-box-shadow: none;\n  --chip-border-radius:\
                      \ 12px;\n  --chip-height: 35px;\n  --chip-padding: 10px;\n \
                      \ --chip-spacing: 18px;\n}\n.chip-container * {\n  margin-bottom:\
                      \ var(--chip-spacing) !important;\n}\n"
                chips:
                - entity: '[[entity]]'
                  icon: mdi:skip-backward
                  tap_action:
                    action: call-service
                    service: media_player.media_previous_track
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: '{{ is_state(entity, "playing") | iif("mdi:pause", "mdi:play")
                    }}'
                  tap_action:
                    action: call-service
                    service: media_player.media_play_pause
                    target:
                      entity_id: '[[entity]]'
                  type: template
                - entity: '[[entity]]'
                  icon: mdi:skip-forward
                  tap_action:
                    action: call-service
                    service: media_player.media_next_track
                    target:
                      entity_id: '[[entity]]'
                  type: template
                type: custom:mushroom-chips-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: 'off'
              - entity: '[[entity]]'
                state_not: standby
              type: conditional
            - card:
                card:
                  alignment: center
                  subtitle: "{{ [\n  state_attr(\"[[entity]]\", \"media_title\") |\
                    \ default(None, true),\n  state_attr(\"[[entity]]\", \"media_artist\"\
                    ) | default(None, true),\n  state_attr(\"[[entity]]\", \"media_series_title\"\
                    ) | default(None, true)\n  ] | reject(\"==\", None) | list | join(\"\
                    \ - \")\n}}"
                  type: custom:mushroom-title-card
                card_mod:
                  style:
                    mushroom-title-card$: "h2 {\n  text-shadow: 0 0 18px rgba(0, 0,\
                      \ 0, 0.5);\n}\n"
                type: custom:mod-card
              conditions:
              - entity: '[[entity]]'
                state_not: unavailable
              - entity: '[[entity]]'
                state_not: idle
              type: conditional
            type: vertical-stack
          - card:
              card_mod:
                style: "ha-card:before {\n  transform: translate3d(0,0,0);\n  -webkit-transform:\
                  \ translate3d(0,0,0);\n  content: \"\";\n\n  {%- set app_name =\
                  \ state_attr(\"[[entity]]\", \"app_name\") | lower -%}\n  {%- set\
                  \ app_list = [\n    \"amazon\",\n    \"disneynow\",\n    \"netflix\"\
                  ,\n    \"pbs kids\",\n    \"spotify\",\n    \"youtube\",\n    \"\
                  youtube kids\"\n  ] %}\n\n  background:\n  {%- if app_name in app_list\
                  \ -%}\n    url('/local/images/{{ app_name | lower | replace(\" \"\
                  , \"-\") }}-logo.png') center no-repeat\n  {%- elif not states(config.entity)\
                  \ in [\"off\", \"unknown\", \"unavailable\", \"idle\"] and state_attr(config.entity,\
                  \ \"entity_picture\") -%}\n    url('{{ state_attr(config.entity,\
                  \ \"entity_picture\") }}') center no-repeat\n  {%- elif \"spotify\"\
                  \ in config.entity -%}\n    url('/local/images/spotify-logo.png')\
                  \ center no-repeat\n  {%- else -%}\n    url('/local/images/idle-media-player.png')\
                  \ center no-repeat\n  {%- endif -%};\n  background-size: contain;\n\
                  \n  border-radius: var(--control-border-radius);\n  {% set media_type\
                  \ = state_attr(config.entity, 'media_content_type') %}\n  {% if\
                  \ media_type == 'tvshow' %}\n    aspect-ratio: 16 / 9;\n    margin:\
                  \ 0px 0px 0px -45px;\n    margin-top: 1px;\n  {% elif media_type\
                  \ == 'movie' %}\n    aspect-ratio: 2 / 3;\n  {% else %}\n    aspect-ratio:\
                  \ 1 / 1;\n    width: 99%;\n  {% endif %}\n}\nha-card {\n  transform:\
                  \ translate3d(0,0,0);\n  -webkit-transform: translate3d(0,0,0);\n\
                  \  border-radius: 30px;\n  overflow: visible !important;\n  box-shadow:\
                  \ none !important;\n  background-color: transparent;\n  border:\
                  \ none !important;\n}\n"
              entity: '[[entity]]'
              fill_container: false
              icon_type: none
              primary_info: none
              secondary_info: none
              show_volume_level: false
              type: custom:mushroom-media-player-card
              use_media_artwork: false
              use_media_info: false
            conditions:
            - entity: '[[entity]]'
              state_not: unavailable
            - entity: '[[entity]]'
              state_not: unknown
            type: conditional
          columns: 2
          square: false
          type: grid
        title-card-button-overlay: true
        title-card-padding: 0em
        type: custom:expander-card
      - card_mod:
          style:
            .: "ha-card {\n  --mmp-progress-height: 10px !important;\n  --paper-progress-container-color:\
              \ transparent;\n  --paper-progress-active-color: var(--mmp-accent-color);\n\
              \  --ha-card-border-width: 0;\n  height: var(--mmp-progress-height);\n\
              }\n"
        entity: '[[entity]]'
        group: true
        hide:
          controls: true
          icon: true
          info: true
          name: true
          power: true
          source: true
          state_label: true
          volume: true
        type: custom:mini-media-player
      type: custom:vertical-stack-in-card
    default:
    - expanded: false
    - buttons:
      - icon: mdi:plex
        id: com.plexapp.android
        name: Plex
        type: source
      - icon: mdi:netflix
        id: com.netflix.ninja
        name: Netflix
        type: source
      - icon: fab:amazon
        id: com.amazon.amazonvideo.livingroom
        name: Prime
        type: source
      - icon: mdi:youtube
        id: com.google.android.youtube.tv
        name: YouTube
        type: source
      - icon: mdi:spotify
        id: com.spotify.tv.android
        name: Spotify
        type: source
      - icon: mdi:twitch
        id: tv.twitch.android.viewer
        name: Twitch
        type: source
      - icon: fapro:crunchyroll
        id: com.crunchyroll.crunchyroid
        name: Crunchyroll
        type: source
      - icon: fapro:youtube_kids
        id: com.google.android.youtube.tvkids
        name: YT Kids
        type: source
      - icon: fapro:pbs_kids
        id: org.pbskids.video
        name: PBS Kids
        type: source
      - icon: fapro:disney_now
        id: com.disney.datg.videoplatforms.android.watchdc
        name: DisneyNow
        type: source
      - icon: mdi:apps
        id: com.spocky.projengmenu
        name: Home
        type: source
  package_delivery:
    card:
      card:
        badge_icon: "{% if states(entity) | int > 9 %}\n  mdi:numeric-9-plus\n{% elif\
          \ states(entity) | int > 0 %}\n  mdi:numeric-{{ states(entity) }}\n{% else\
          \ %}\n  mdi:numeric-0\n{% endif %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: rgb(var(--rgb-[[icon_color]]));\n\
            \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n  background:\
            \ none;\n  box-shadow: none;\n  margin-top: 10px;\n}\n"
        entity: '[[entity]]'
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - entity: '[[entity]]'
                  icon: '[[icon]]'
                  icon_color: '[[icon_color]]'
                  primary: '[[name]]'
                  secondary: '{{ states(entity) }} {{ iif(states(entity) | int ==
                    1, "package", "packages") }}'
                  tap_action:
                    action: more-info
                  type: custom:mushroom-template-card
                - subtitle: Tracking Numbers
                  type: custom:mushroom-title-card
                - content: "{% for trk_number in state_attr(\"[[entity]]\", \"tracking_#\"\
                    ) -%}\n  <ha-icon icon=\"mdi:package-variant-closed\"></ha-icon>\
                    \ [{{ trk_number }}]([[url]]{{ trk_number }})\n{% endfor %}"
                  type: markdown
                type: custom:vertical-stack-in-card
              title: '[[name]] Tracking'
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: '[[entity]]'
        state_not: '0'
      - entity: '[[entity]]'
        state_not: unavailable
      type: conditional
  person_card:
    card:
      card_mod:
        style: "{% set state = states(\"[[person]]\") %}\nha-card {\n  background:\n\
          \    {% if state == \"not_home\" %}\n      rgba(244, 67, 54, 0.2)\n    {%\
          \ elif state in [\"unknown\", \"unavailable\"] %}\n      rgba(189, 189,\
          \ 189, 0.2)\n    {% elif state != \"home\" %}\n      rgba(33, 150, 243,\
          \ 0.2)\n    {% endif %};\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  transition-duration: 0s;\n  margin-left: -10px;\n \
            \ height: 66px !important;\n}\n{% set state = states(config.entity) %}\n\
            :host {\n  --mush-icon-size: 55px;\n  {% if not is_state(config.entity,\
            \ \"home\") %}\n  --ha-card-background:\n    {% if state == \"not_home\"\
            \ %}\n      rgba(244, 67, 54, 0.05)\n    {% elif state in [\"unknown\"\
            , \"unavailable\"] %}\n      rgba(189, 189, 189, 0.05)\n    {% elif state\
            \ != \"home\" %}\n      rgba(33, 150, 243, 0.05)\n    {% endif %};\n \
            \ {% endif %}\n}\n"
        entity: '[[person]]'
        icon_type: entity-picture
        name: '[[name]]'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  box-shadow: none;\n  --ha-card-border-width: 0;\n\
                        \n  /* Increase icon size */\n  --icon-size: 72px;\n\n  /*\
                        \ Center card */\n  margin: auto;\n  width: fit-content;\n\
                        \n  /* Add padding to bottom of card */\n  padding: 0px 0px\
                        \ var(--mush-title-spacing, 12px) 0px !important;\n\n  /*\
                        \ Make card non-responsive to select and pointer */\n  user-select:\
                        \ none;\n  pointer-events: none;\n\n  transition: all 0s;\n\
                        }\n:host {\n  /* Define Person State colors. Can be added\
                        \ to theme */\n  --state-person-home: var(--green-color);\n\
                        \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
                        \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\
                        \n  /* Set Person State color */\n  --state-person:\n  {%\
                        \ if is_state(config.entity, ['home', 'not_home', 'unknown'])\
                        \ %}\n    var(--state-person-{{ states(config.entity) | replace('_',\
                        \ '-') }})\n  {% else %}\n    var(--state-person-zone)\n \
                        \ {% endif %};\n\n  /* Match styling to Mushroom Title */\n\
                        \  --mush-card-primary-font-size: var(--mush-title-font-size,\
                        \ 24px);\n  --mush-card-primary-font-weight: var(--mush-title-font-weight,\
                        \ normal);\n  --mush-card-primary-line-height: var(--ush-title-line-height,\
                        \ 1.2);\n  --mush-card-secondary-font-size: var(--mush-title-font-size,\
                        \ 16px);\n  --mush-card-secondary-font-weight: var(--mush-title-font-weight,\
                        \ normal);\n  --mush-card-secondary-line-height: var(--ush-title-line-height,\
                        \ 1.2);\n}\n"
                      mushroom-shape-avatar$: ".picture {\n  /* Style shadow ring\
                        \ around avatar */\n  box-shadow: 0 0 4px 2px var(--state-person);\n\
                        \  margin-right: var(--mush-title-spacing, 12px);\n}\n"
                  entity: '[[person]]'
                  hold_action:
                    action: none
                  icon_type: entity-picture
                  layout: horizontal
                  primary_info: state
                  secondary_info: last-changed
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - cardName: historycard-[[person]]
                  card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  box-shadow: none;\n}\n"
                  graphs:
                  - entities:
                    - entity: '[[person]]'
                    title: Timeline
                    type: timeline
                  header: hide
                  labelAreaWidth: 0
                  labelsVisible: false
                  stateTextMode: auto
                  tooltipShowDuration: true
                  tooltipSize: slim
                  type: custom:history-explorer-card
                  uiLayout:
                    selector: hide
                    toolbar: hide
                - cards:
                  - card_mod:
                      style:
                        .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                          \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                          \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                          \  margin: auto;\n\n  /* Make card non-responsive to select\
                          \ and pointer */\n  user-select: none;\n  pointer-events:\
                          \ none;\n}\n"
                    double_tap_action:
                      action: none
                    entity: '[[proximity]]'
                    hold_action:
                      action: none
                    icon: "{% if is_state_attr(entity, \"dir_of_travel\", \"towards\"\
                      ) %}\n  mdi:map-marker-left\n{% elif is_state_attr(entity, \"\
                      dir_of_travel\", \"away_from\") %}\n  mdi:map-marker-right\n\
                      {% else %}\n  mdi:map-marker-path\n{% endif %}"
                    icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"\
                      towards\") %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\"\
                      , \"away_from\") %}\n  orange\n{% else %}\n  grey\n{% endif\
                      \ %}"
                    layout: vertical
                    primary: "{% if is_state(\"[[person]]\", \"home\") %}\n  Home\n\
                      {% elif is_state(\"[[person]]\", \"not_home\") %}\n  Away\n\
                      {% else %}\n  {{ states(\"[[person]]\") }}\n{% endif %}"
                    secondary: '{{ ((states(entity) | float) / 5280) | round(1) }}
                      mi'
                    tap_action:
                      action: none
                    type: custom:mushroom-template-card
                  - badge_color: '{{ ''red'' if states(entity) | int < 10 else ''light-blue''
                      }}'
                    badge_icon: "{% set charge = \"sensor.[[phone_base]]_battery_state\"\
                      \ %} {% set type = \"sensor.[[phone_base]]_charger_type\" %}\
                      \ {% if is_state(charge, \"charging\") and is_state(type, \"\
                      wireless\") %}\n  mdi:access-point\n{% elif is_state(charge,\
                      \ \"charging\") %}\n  mdi:lightning-bolt\n{% elif states(entity)\
                      \ | int < 10 %}\n  mdi:exclamation-thick\n{% endif %}"
                    card_mod:
                      style:
                        .: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                          \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                          \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                          \  margin: auto;\n}\n"
                        mushroom-shape-icon$: ".shape {\n  /* Radial progress bar\
                          \ */\n  background: radial-gradient(\n    var(--card-background-color)\
                          \ 60%,\n    transparent calc(60% + 1px)),\n    conic-gradient(var(--icon-color)\
                          \ {{ states(config.entity) }}% 0%,\n    var(--card-background-color)\
                          \ 0% 100%\n  );\n}\n.shape:after {\n  /* Add back icon shape\
                          \ */\n  content: \"\";\n  height: 100%;\n  width: 100%;\n\
                          \  position: absolute;\n  border-radius: var(--icon-border-radius);\n\
                          \  background: var(--shape-color);\n}\nha-icon {\n  /* Icon\
                          \ charging animation */\n  {{ '--icon-animation: charge\
                          \ 3s linear infinite;' if is_state(\"sensor.[[phone_base]]_battery_state\"\
                          , \"charging\") }}\n}\n@keyframes charge {\n  0%, 80% {\
                          \ clip-path: inset(0 0 0 0); }\n  10% { clip-path: polygon(0%\
                          \ 0%, 0% 100%, 34% 100%, 34% 24%, 67% 24%, 67% 84%, 34%\
                          \ 84%, 34% 100%, 100% 100%, 100% 0%); }\n  20% { clip-path:\
                          \ polygon(0% 0%, 0% 100%, 34% 100%, 34% 24%, 67% 24%, 67%\
                          \ 74%, 34% 74%, 34% 100%, 100% 100%, 100% 0%); }\n  30%\
                          \ { clip-path: polygon(0% 0%, 0% 100%, 34% 100%, 34% 24%,\
                          \ 67% 24%, 67% 64%, 34% 64%, 34% 100%, 100% 100%, 100% 0%);\
                          \ }\n  40% { clip-path: polygon(0% 0%, 0% 100%, 34% 100%,\
                          \ 34% 24%, 67% 24%, 67% 54%, 34% 54%, 34% 100%, 100% 100%,\
                          \ 100% 0%); }\n  50% { clip-path: polygon(0% 0%, 0% 100%,\
                          \ 34% 100%, 34% 24%, 67% 24%, 67% 44%, 34% 44%, 34% 100%,\
                          \ 100% 100%, 100% 0%); }\n  60% { clip-path: polygon(0%\
                          \ 0%, 0% 100%, 34% 100%, 34% 24%, 67% 24%, 67% 34%, 34%\
                          \ 34%, 34% 100%, 100% 100%, 100% 0%); }\n  70% { clip-path:\
                          \ polygon(0% 0%, 0% 100%, 34% 100%, 34% 24%, 67% 24%, 67%\
                          \ 24%, 34% 24%, 34% 100%, 100% 100%, 100% 0%); }\n}\n"
                    double_tap_action:
                      action: none
                    entity: sensor.[[phone_base]]_battery_level
                    hold_action:
                      action: none
                    icon: '{% from "util.jinja" import battery_icon %} {{ battery_icon(entity)
                      }}'
                    icon_color: "{% from \"util.jinja\" import battery_color %} {%\
                      \ if is_state(\"sensor.[[phone_base]]_battery_state\", \"charging\"\
                      ) %}\n  light-blue\n{% else %}\n  {{ battery_color(entity) }}\n\
                      {% endif %}"
                    layout: vertical
                    primary: '{{ states(entity) }}%'
                    secondary: '{{ states("sensor.pixel_7_battery_state") | replace(''_'',
                      '' '') | title }}

                      '
                    tap_action:
                      action: more-info
                    type: custom:mushroom-template-card
                  - card_mod:
                      style: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                        \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                        \ 0;\n\n  /* Center card on row */\n  width: fit-content;\n\
                        \  margin: auto;\n}\n"
                    double_tap_action:
                      action: none
                    entity: sensor.[[phone_base]]_wifi_signal_strength
                    hold_action:
                      action: none
                    icon: '{% from "util.jinja" import wifi_icon %} {{ wifi_icon(entity)
                      }}'
                    icon_color: cyan
                    layout: vertical
                    primary: '{{ states("sensor.[[phone_base]]_wifi_connection") }}'
                    secondary: "{% set signal_level = states(entity) | int %} {% if\
                      \ signal_level != -1 %}\n  {{ signal_level }} dBm\n{% endif\
                      \ %}"
                    tap_action:
                      action: more-info
                    type: custom:mushroom-template-card
                  type: horizontal-stack
                - alignment: center
                  card_mod:
                    style: "ha-card {\n  /* Style Chip like Mushroom button */\n \
                      \ --chip-background: rgba(var(--rgb-red), 0.2);\n  --chip-border-radius:\
                      \ var(--mush-control-border-radius, 12px);\n  --chip-height:\
                      \ var(--mush-control-height, 42px);\n  --chip-box-shadow: none;\n\
                      \  user-select: none;\n}\nha-card:active {\n  /* Add effect\
                      \ to give feedback on button press */\n  --chip-background:\
                      \ rgba(var(--rgb-red), 0.4);\n}\n"
                  chips:
                  - content: Find Phone
                    hold_action:
                      action: call-service
                      confirmation:
                        text: Are you sure you want to ring this device?
                      data:
                        data:
                          channel: alarm_stream
                          importance: high
                          priority: high
                          tag: Find
                          ttl: 0
                        message: Ringing phone...
                        title: Find Phone
                      service: notify.mobile_app_[[phone_base]]
                    icon: mdi:target
                    icon_color: red
                    tap_action:
                      action: none;
                    type: template
                  type: custom:mushroom-chips-card
                - card_mod:
                    style: "ha-card {\n  /* Remove default card styling */\n  --ha-card-background:\
                      \ none;\n  --ha-card-box-shadow: none;\n  --ha-card-border-width:\
                      \ 0;\n\n  /* Make card non-responsive to select and pointer\
                      \ */\n  user-select: none;\n  pointer-events: none;\n}\n"
                  double_tap_action:
                    action: none
                  entity: sensor.[[phone_base]]_geocoded_location
                  hold_action:
                    action: none
                  name: Location
                  tap_action:
                    action: none
                  type: custom:mushroom-entity-card
                - aspect_ratio: '4:3'
                  card_mod:
                    style:
                      .: "ha-card {\n  /* Remove default card styling without affecting\
                        \ child elements */\n  box-shadow: none;\n  border-width:\
                        \ 0;\n  border-radius: 0px 0px var(--ha-card-border-radius,\
                        \ 12px) var(--ha-card-border-radius, 12px);\n  transition:\
                        \ all 0s;\n}\n:host {\n  /* Define Person State colors. Can\
                        \ be added to theme */\n  --state-person-home: var(--green-color);\n\
                        \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
                        \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\
                        \n  /* Set person state color */\n  --state-person:\n  {%\
                        \ if is_state(config.entities[0].entity, ['home', 'not_home',\
                        \ 'unknown']) %}\n    var(--state-person-{{ states(config.entities[0].entity)\
                        \ | replace('_', '-') }})\n  {% else %}\n    var(--state-person-zone)\n\
                        \  {% endif %};\n}\nha-icon-button {\n  /* Position center\
                        \ button */\n  bottom: 12px;\n  left: 12px !important;\n \
                        \ top: auto !important;\n\n  /* Style center button to match\
                        \ Chip */\n  color: var(--deep-orange-color) !important;\n\
                        \  background: color-mix(in srgb, var(--deep-orange-color)\
                        \ 20%, transparent);\n  border-radius: var(--mush-chip-border-radius,\
                        \ 19px);\n  border: var(--ha-card-border-width, 1px) solid\
                        \ var(--ha-card-border-color, var(--divider-color, #e0e0e0))\
                        \ !important;\n}\n"
                      ha-icon-button $ mwc-icon-button $: "button {\n  /* Size center\
                        \ button to match Chip */\n  height: var(--mush-chip-height,\
                        \ 36px) !important;\n  width: var(--mush-chip-height, 36px)\
                        \ !important;\n  --mdc-icon-size: 22px;\n}\n"
                      ha-map $: "path:first-child {\n  /* Style accuracy radius */\n\
                        \  stroke: var(--state-person);\n  fill: color-mix(in srgb,\
                        \ var(--state-person) 50%, transparent);\n  stroke-width:\
                        \ 0px;\n}\npath:nth-child(even) {\n  /* Styling for waypoints\
                        \ */\n  stroke: var(--purple-color);\n  stroke-width: 4px;\n\
                        }\npath:nth-child(odd):not(:first-child) {\n  /* Styling for\
                        \ lines */\n  stroke: var(--purple-color);\n  stroke-width:\
                        \ 4px;\n}\n.leaflet-control-attribution {\n  /* Style attribution\
                        \ text */\n  background: rgba(var(--rgb-card-background-color),\
                        \ 0.4) !important;\n  font-size: 10px;\n}\n.leaflet-container\
                        \ a {\n  /* Set color of zoom icons & attribution text */\n\
                        \  color: var(--secondary-text-color);\n}\n.leaflet-control-zoom-in,\n\
                        .leaflet-control-zoom-out {\n  /* Style zoom buttons like\
                        \ Chips */\n  border-radius: var(--mush-chip-border-radius,\
                        \ 19px) !important;\n  padding: 3px;\n  background: rgb(var(--rgb-secondary-text-color),\
                        \ 0.2) !important;\n  margin: 8px 12px 0px;\n  border: var(--ha-card-border-width,\
                        \ 1px) solid var(--ha-card-border-color, var(--divider-color,\
                        \ #e0e0e0)) !important;\n}\n.leaflet-top {\n  /* Move zoom\
                        \ buttons to bottom of map */\n  bottom: 0px !important;\n\
                        }\n.leaflet-control-zoom {\n  /* Allow buttons to be moved\
                        \ */\n  position: absolute !important;\n\n  /* Adjust spacing\
                        \ for border */\n  bottom: calc(2 * var(--ha-card-border-width,\
                        \ 1px) + 56px);\n\n  /* Remove extra margin */\n  margin:\
                        \ 0px !important;\n\n  /* Remove zoom control border */\n\
                        \  border: none !important;\n}\n.leaflet-container:after {\n\
                        \  /* Fade out map at top */\n  content: \"\";\n  position:\
                        \ absolute;\n  height: 100%;\n  width: 100%;\n  background:\
                        \ linear-gradient(to top, transparent 65%, var(--card-background-color));\n\
                        }\n"
                      ha-map $ ha-entity-marker $: ".marker {\n  /* Style person marker\
                        \ & adjust position to avoid blocking waypoints */\n  border:\
                        \ 3px solid var(--state-person) !important;\n  border-radius:\
                        \ 50% 50% 50% 0px !important;\n  transform: rotate(-45deg)\
                        \ translate(50%, -50%);\n  overflow: visible !important;\n\
                        \  background: var(--state-person) !important;\n}\n.entity-picture\
                        \ {\n  /* Correct orientation of person avatar */\n  transform:\
                        \ rotate(45deg);\n  border-radius: 50%;\n}\n"
                  entities:
                  - entity: '[[person]]'
                  type: map
                type: vertical-stack
              title: '[[name]]'
            service: browser_mod.popup
        type: custom:mushroom-person-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: -5px;\n}\n"
        chips:
        - chip:
            double_tap_action:
              action: none
            entity: '[[proximity]]'
            hold_action:
              action: none
            icon: "{% if states(entity) | int >= 400 %}\n  {% set icon = \"map-marker-distance\"\
              \ %}\n  {% if is_state_attr(entity, \"dir_of_travel\", \"towards\")\
              \ %}\n    mdi:map-marker-left\n  {% elif is_state_attr(entity, \"dir_of_travel\"\
              , \"away_from\") %}\n    mdi:map-marker-right\n  {% else %}\n    mdi:map-marker-distance\n\
              \  {% endif %}\n{% endif %}"
            icon_color: "{% if is_state_attr(entity, \"dir_of_travel\", \"towards\"\
              ) %}\n  green\n{% elif is_state_attr(entity, \"dir_of_travel\", \"away_from\"\
              ) %}\n  orange\n{% else %}\n  grey\n{% endif %}"
            layout: vertical
            tap_action:
              action: none
            type: template
          conditions:
          - entity: '[[person]]'
            state_not: home
          type: conditional
        - chip:
            entity: '[[media]]'
            icon: mdi:spotify
            icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
              \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
              \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
              ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: media_card
                    type: custom:decluttering-card
                    variables:
                    - entity: '[[media]]'
                    - buttons: []
                service: browser_mod.popup
            type: template
          conditions:
          - entity: '[[media]]'
            state_not: unavailable
          type: conditional
        - entity: sensor.[[phone_base]]_wifi_connection
          icon: "{% if not is_state(entity, \"<not connected>\") %}\n  mdi:wifi\n\
            {% else %}\n  mdi:signal\n{% endif %}"
          icon_color: blue
          tap_action:
            action: more-info
          type: template
        - entity: sensor.[[phone_base]]_battery_level
          icon: '{% from "util.jinja" import cell_battery_icon %}

            {{ cell_battery_icon(entity, "sensor.[[phone_base]]_battery_state", "sensor.[[phone_base]]_charger_type")
            }}'
          icon_color: "{% from \"util.jinja\" import battery_color %} {% if is_state(\"\
            sensor.[[phone_base]]_battery_state\", \"charging\") %}\n  light-blue\n\
            {% else %}\n  {{ battery_color(entity) }}\n{% endif %}"
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
  room_card:
    card:
      card_mod:
        style: "ha-card {\n  {% if is_state(\"[[entity]]\", \"on\") %}\n    background:\
          \ rgba([[icon_color]], 0.2);\n  {% endif %}\n}\n"
      cards:
      - card_mod:
          style: "ha-card {\n  transition-duration: 0s;\n  margin: -8px 0px 0 -25px;\n\
            \  height: 75px !important;\n}\n:host {\n  --mush-icon-size: 86px;\n}\n\
            {% if is_state(config.entity, \"on\") %}\n:host {\n  --ha-card-background:\
            \ rgba([[icon_color]], 0.05);\n}\n{% endif %}\n"
        entity: '[[entity]]'
        fill_container: true
        hold_action:
          action: toggle
        icon: '[[icon]]'
        icon_color: '[[icon_color]]'
        primary: '[[primary]]'
        secondary: '{{ states("[[temperature]]")|round(1) }} °F'
        tap_action:
          action: navigate
          navigation_path: '[[path]]'
        type: custom:mushroom-template-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: 0;\n}\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    default:
    - primary: Room
    - entity: group.all_light_switches
    - temperature: sensor.home_temperature
    - icon: mdi:home-assistant
    - icon_color: disabled
    - path: main
    - chips: []
  shield_remote:
    card:
      card_mod:
        style: "ha-card {\n  --ha-card-background: none\n}\n"
      cards:
      - elements:
        - entity: '[[shield]]'
          icon: mdi:power
          state_color: true
          style:
            left: 85%
            padding: 10px
            top: 6%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            data:
              command: toggle
            service: media_player.toggle
            target:
              entity_id: '[[shield]]'
          type: state-icon
        - icon: mdi:chevron-up
          style:
            left: 50%
            padding: 0 5px
            top: 26%
            transform: translate(-50%, -50%) scale(600%, 300%)
          tap_action:
            action: call-service
            data:
              command: UP
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-down
          style:
            left: 50%
            padding: 0 5px
            top: 58%
            transform: translate(-50%, -50%) scale(600%, 300%)
          tap_action:
            action: call-service
            data:
              command: DOWN
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-left
          style:
            left: 21%
            padding: 3px 5px
            top: 41%
            transform: translate(-50%, -50%) scale(300%, 600%)
          tap_action:
            action: call-service
            data:
              command: LEFT
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-right
          style:
            left: 79%
            padding: 3px 5px
            top: 41%
            transform: translate(-50%, -50%) scale(300%, 600%)
          tap_action:
            action: call-service
            data:
              command: RIGHT
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:square-rounded-outline
          style:
            left: 50%
            top: 41%
            transform: translate(-50%, -50%) scale(750%)
          tap_action:
            action: call-service
            data:
              command: CENTER
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - hold_action:
            action: call-service
            data:
              command: HOME
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          icon: mdi:menu
          style:
            left: 15.5%
            padding: 10px
            top: 80%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            data:
              command: MENU
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:play-pause
          style:
            left: 15.5%
            padding: 10px
            top: 91%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            service: media_player.media_play_pause
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:chevron-left
          style:
            left: 50%
            padding: 5px 6px 6px
            top: 85%
            transform: translate(-50%, -50%) scale(500%)
          tap_action:
            action: call-service
            data:
              command: BACK
            service: androidtv.adb_command
            target:
              entity_id: '[[shield]]'
          type: icon
        - icon: mdi:plus
          style:
            left: 84.5%
            padding: 10px
            top: 80%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            service: media_player.volume_up
            target:
              entity_id: '[[universal]]'
          type: icon
        - icon: mdi:minus
          style:
            left: 84.5%
            padding: 10px
            top: 91%
            transform: translate(-50%, -50%) scale(180%)
          tap_action:
            action: call-service
            service: media_player.volume_down
            target:
              entity_id: '[[universal]]'
          type: icon
        image: /local/images/tv-remote.png?raw=true
        type: picture-elements
      type: custom:vertical-stack-in-card
  title_chips:
    card:
      cards:
      - title: '[[title]]'
        type: custom:mushroom-title-card
        view_layout:
          grid-area: title
      - card:
          subtitle: '[[subtitle]]'
          type: custom:mushroom-title-card
        card_mod:
          style:
            mushroom-title-card$: "h2 {\n  padding: 0 16px 12px;\n}\n.header {\n \
              \ --title-padding: 0;\n}\n"
        type: custom:mod-card
        view_layout:
          grid-area: subtitle
      - alignment: end
        card_mod:
          style: "ha-card {\n  transform: translateY(30%);\n}\n"
        chips: '[[chips]]'
        type: custom:mushroom-chips-card
        view_layout:
          grid-area: chips
      layout:
        grid-template-areas: '"title chips"

          "subtitle subtitle"

          '
        grid-template-columns: auto 1fr
        margin: -4px 0 -4px 0
      layout_type: custom:grid-layout
      type: custom:layout-card
    default:
    - title: Title
    - subtitle: ''
    - chips: []
kiosk_mode:
  mobile_settings:
    hide_header: true
    ignore_entity_settings: true
title: Mechanix
views:
- badges: []
  cards:
  - cards:
    - cards:
      - card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-icon-size: 1em;\n}\n"
        chips:
        - type: menu
        type: custom:mushroom-chips-card
      - card_mod:
          style: "ha-card {\n  background-color: var(--primary-background-color);\n\
            \  border-radius: var(--ha-card-border-radius);\n}\n"
        cards:
        - alignment: justify
          card_mod:
            style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-spacing: 0;\n}\n"
          chips:
          - content: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "Secure", "Not Secure") }}'
            entity: lock.lock_front
            icon: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "mdi:shield-check", "mdi:shield-alert") }}'
            icon_color: '{% from "util.jinja" import security_count %} {{ iif(security_count()
              | int == 0, "green", "red") }}'
            tap_action:
              action: navigate
              navigation_path: security
            type: template
          - content: '{{ states("sensor.home_temperature") | round(1) }}

              {{ state_attr("sensor.home_temperature", "unit_of_measurement") }}'
            entity: climate.home
            icon: mdi:thermostat-box
            icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\"\
              ) %}\n  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\"\
              ) %}\n  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"\
              fan\") %}\n  amber\n{% elif is_state(entity, \"off\") %}\n  disabled\n\
              {% else %}\n  blue-grey\n{% endif %}"
            tap_action:
              action: navigate
              navigation_path: climate
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.all_light_switches
            hold_action:
              action: call-service
              service: homeassistant.turn_off
              target:
                entity_id: group.all_light_switches
            icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
              }}'
            icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
            tap_action:
              action: navigate
              navigation_path: lights
            type: template
          - content: "{% if has_value(entity) %}\n  {% set power = states(entity)\
              \ | int | abs %}\n  {% if power > 1000 %}\n    {{ (power | float * 0.001)\
              \ | round(2) }} kWh\n  {% else %}\n    {{ power }} W\n  {% endif %}\n\
              {% endif %}"
            entity: sensor.grid_power
            icon: "{% if has_value(entity) %}\n  {% if states(entity) | int < 0 %}\n\
              \    mdi:transmission-tower-export\n  {% else %}\n    mdi:transmission-tower-import\n\
              \  {% endif %}\n{% else %}\n  mdi:transmission-tower-off\n{% endif %}"
            icon_color: "{% if has_value(entity) %}\n  {% if states(entity) | int\
              \ < 0 %}\n    lime\n  {% else %}\n    deep-orange\n  {% endif %}\n{%\
              \ else %}\n  disabled\n{% endif %}"
            tap_action:
              action: navigate
              navigation_path: power
            type: template
          type: custom:mushroom-chips-card
        - alignment: justify
          card_mod:
            style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
              \  --chip-spacing: 0;\n}\n"
          chips:
          - card_mod:
              style:
                .: "{% from \"util.jinja\" import computer_count %}\n{% if (computer_count()\
                  \ | int) > 0 %}\nha-card:after {\n  content: \"{{ computer_count()\
                  \ | int }}\";\n  position: absolute;\n  color: var(--teal-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            icon: mdi:desktop-tower
            icon_color: '{% from "util.jinja" import computer_count %} {{ "teal" if
              computer_count() | int > 0 else "disabled" }}'
            tap_action:
              action: navigate
              navigation_path: computer
            type: template
          - card_mod:
              style:
                .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                  \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') |\
                  \ list | count }}\";\n  position: absolute;\n  color: var(--cyan-color);\n\
                  \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                  \ 12px;\n}\n{% endif %}\n"
            entity: group.all_doors
            icon: '{{ iif(is_state(entity, "on"), "mdi:door-open", "mdi:door") }}'
            icon_color: '{{ iif(is_state(entity, "on"), "cyan", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none\n}\n"
                    cards:
                    - card:
                        cards: []
                        layout_type: masonry
                        type: custom:layout-card
                      filter:
                        exclude: []
                        include:
                        - group: group.all_doors
                          options:
                            card_mod:
                              style: "ha-card {\n  padding: 4px 12px !important;\n\
                                }\n"
                            hold_action:
                              action: none
                            layout: horizontal
                            secondary_info: last-changed
                            tap_action:
                              action: none
                            type: custom:mushroom-entity-card
                      show_empty: false
                      sort:
                        method: friendly_name
                      type: custom:auto-entities
                    type: custom:vertical-stack-in-card
                  title: All Doors
                service: browser_mod.popup
            type: template
          - content: "{% if is_state(entity, \"on\") and has_value(\"sensor.octoprint_layer_progress\"\
              ) %}\n  {{ progress }}\n{% endif %}"
            entity: switch.octoprint_psu
            hold_action:
              action: none
            icon: mdi:printer-3d
            icon_color: '{{ iif(is_state(entity, "on"), "green", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none\n}\n"
                    cards:
                    - entity: switch.octoprint_psu
                      hold_action:
                        action: toggle
                      icon: "{% if is_state(entity, \"on\") %}\n  mdi:power\n{% else\
                        \ %}\n  mdi:power-off\n{% endif %}"
                      icon_color: "{% if is_state(entity, \"on\") %}\n  green\n{%\
                        \ else %}\n  grey\n{% endif %}"
                      primary: Power
                      secondary: "{% if is_state(entity, \"on\") %}\n  Press and hold\
                        \ to power off\n{% else %}\n  Press and hold to power on\n\
                        {% endif %}"
                      type: custom:mushroom-template-card
                    - camera_view: live
                      entity: camera.ender_3_pro
                      show_name: false
                      show_state: false
                      type: picture-entity
                    - card:
                        cards:
                        - card_mod:
                            style: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                              \ 0px;\n}\n"
                          cards:
                          - card_mod:
                              style: "ha-card {\n  {% if is_state(config.entity, \"\
                                on\") %}\n    background: rgba(var(--rgb-yellow),\
                                \ 0.1);\n  {% else %}\n    background: rgba(var(--rgb-grey),\
                                \ 0.1);\n  {% endif %}\n  width: 74px;\n  border-radius:\
                                \ 50%;\n  margin-left: auto;\n  margin-right: auto;\n\
                                }\n"
                            entity: switch.octoprint_pause_print
                            hold_action:
                              action: toggle
                            icon: "{% if is_state(entity, \"on\") %}\n  mdi:play\n\
                              {% else %}\n  mdi:pause\n{% endif %}"
                            icon_color: "{% if is_state(entity, \"on\") %}\n  yellow\n\
                              {% else %}\n  grey\n{% endif %}"
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style: "ha-card {\n  background: rgba(var(--rgb-amber),\
                                \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n \
                                \ margin-left: auto;\n  margin-right: auto;\n}\n"
                            entity: button.octoprint_cancel_print
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_cancel_print
                            icon: mdi:cancel
                            icon_color: amber
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style: "ha-card {\n  background: rgba(var(--rgb-pink),\
                                \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n \
                                \ margin-left: auto;\n  margin-right: auto;\n}\n"
                            entity: button.octoprint_emergency_stop
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_emergency_stop
                            icon: mdi:alert-octagon
                            icon_color: pink
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          - card_mod:
                              style: "ha-card {\n  background: rgba(var(--rgb-red),\
                                \ 0.1);\n  width: 74px;\n  border-radius: 50%;\n \
                                \ margin-left: auto;\n  margin-right: auto;\n}\n"
                            entity: button.octoprint_shutdown_system
                            hold_action:
                              action: call-service
                              service: button.press
                              target:
                                entity_id: button.octoprint_shutdown_system
                            icon: mdi:power
                            icon_color: orange
                            layout: vertical
                            tap_action:
                              action: none
                            type: custom:mushroom-template-card
                          type: horizontal-stack
                        - cards:
                          - cards:
                            - entity: sensor.octoprint_print_status
                              icon: mdi:printer-3d-nozzle
                              icon_color: green
                              name: Status
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            - entity: sensor.octoprint_print_time_left_format
                              icon_color: light-blue
                              name: Est. Finish Time
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            - entity: sensor.octoprint_layer_progress
                              icon_color: lime
                              name: Layer
                              primary_info: state
                              secondary_info: name
                              tap_action:
                                action: none
                              type: custom:mushroom-entity-card
                            type: vertical-stack
                          - card_mod:
                              style: "ha-card {\n  height: 225px;\n}\n"
                            cards:
                            - apex_config:
                                chart:
                                  height: 250px
                                fill:
                                  gradient:
                                    inverseColors: false
                                    opacityFrom: 1
                                    opacityTo: 1
                                    shade: light
                                    shadeIntensity: 0.3
                                    stops:
                                    - 0
                                    - 50
                                    - 55
                                    - 90
                                    type: horizontal
                                  type: gradient
                                legend:
                                  show: false
                                plotOptions:
                                  radialBar:
                                    dataLabels:
                                      name:
                                        show: false
                                      value:
                                        show: false
                                    hollow:
                                      size: 80%
                                    track:
                                      margin: 0
                                      strokeWidth: 80%
                              chart_type: radialBar
                              header:
                                show: false
                              series:
                              - color: rgb(3, 169, 244)
                                entity: sensor.octoprint_print_progress
                                name: Job Progress
                                show:
                                  legend_value: false
                              type: custom:apexcharts-card
                            - card_mod:
                                style: "ha-card {\n  border-radius: 50%;\n  background:\
                                  \ none;\n  margin-top: -175px;\n  width: 140px;\n\
                                  \  margin-left: auto;\n  margin-right: auto;\n}\n"
                              entity: sensor.octoprint_print_progress
                              icon_color: light-blue
                              layout: vertical
                              name: Job Progress
                              primary_info: state
                              secondary_info: name
                              type: custom:mushroom-entity-card
                            type: custom:vertical-stack-in-card
                          layout:
                            grid-template-columns: 197px auto
                            margin: -4px -4px -8px -4px
                          layout_type: custom:grid-layout
                          type: custom:layout-card
                        - subtitle: Print Info
                          type: custom:mushroom-title-card
                        - cards:
                          - entity: sensor.octoprint_print_file
                            name: File
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_print_file_size
                            name: Print File Size
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_filament_cost
                            name: Filament Cost
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          - entity: sensor.octoprint_filament_length
                            name: Filament Length
                            primary_info: state
                            secondary_info: name
                            type: custom:mushroom-entity-card
                          columns: 2
                          square: false
                          type: grid
                        - subtitle: Temperature
                          type: custom:mushroom-title-card
                        - all_series_config:
                            curve: stepline
                            extend_to: now
                            float_precision: 2
                          apex_config:
                            chart:
                              foreColor: '#7B7B7B'
                              toolbar:
                                show: false
                            grid:
                              borderColor: '#7B7B7B'
                            xaxis:
                              tooltip:
                                enabled: false
                          brush:
                            apex_config:
                              chart:
                                foreColor: '#7B7B7B'
                                toolbar:
                                  show: false
                              grid:
                                borderColor: '#7B7B7B'
                              xaxis:
                                tooltip:
                                  enabled: false
                            selection_span: 1h
                          experimental:
                            brush: true
                          header:
                            colorize_states: true
                            show: true
                            show_states: true
                          series:
                          - color: rgb(244,67,54)
                            entity: sensor.octoprint_tool_0_temperature
                            name: Nozzle
                            show:
                              in_brush: true
                            stroke_width: 4
                          - color: rgb(3,169,244)
                            entity: sensor.octoprint_bed_temperature
                            name: Bed
                            stroke_width: 4
                          - color: rgb(255,235,59)
                            entity: sensor.octoprint_tool_0_target
                            name: Nozzle Target
                            stroke_width: 1
                            type: area
                          - color: rgb(233,30,99)
                            entity: sensor.octoprint_bed_target
                            name: Bed Target
                            stroke_width: 1
                            type: area
                          type: custom:apexcharts-card
                        type: vertical-stack
                      conditions:
                      - entity: binary_sensor.octoprint_connected
                        state: 'on'
                      type: conditional
                    type: custom:vertical-stack-in-card
                  title: 3D Printer
                service: browser_mod.popup
            type: template
          - content: "{% if has_value(entity) %}\n  {{ states(\"sensor.meater_probe_internal\"\
              ) }} °F\n  {% if has_value(\"sensor.meater_probe_remaining_time\") \
              \ %}\n    {% set t = (states(\"sensor.meater_probe_remaining_time\"\
              ) | as_datetime - now()).total_seconds() %}\n    | {{ t | timestamp_custom('%-H\
              \ hr %-M min' if t > 3600 else '%-M min', false) }}\n  {% endif %}\n\
              {% endif %}"
            entity: sensor.meater_probe_cook_state
            icon: mdi:food-drumstick
            icon_color: '{{ has_value(entity) | iif("brown", "disabled") }}'
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none\n}\n"
                    cards:
                    - entity: sensor.meater_probe_cooking
                      icon: mdi:food-steak
                      name: Cooking
                      primary_info: state
                      secondary_info: name
                      type: custom:mushroom-entity-card
                    - cards:
                      - entity: sensor.meater_probe_elapsed_time
                        name: Elapsed Time
                        primary_info: state
                        secondary_info: name
                        type: custom:mushroom-entity-card
                      - entity: sensor.meater_probe_remaining_time
                        name: Remaining Time
                        primary_info: state
                        secondary_info: name
                        type: custom:mushroom-entity-card
                      columns: 2
                      square: false
                      type: grid
                    - subtitle: Temperature
                      type: custom:mushroom-title-card
                    - all_series_config:
                        curve: stepline
                        extend_to: now
                        float_precision: 2
                      apex_config:
                        chart:
                          foreColor: '#7B7B7B'
                          toolbar:
                            show: false
                        grid:
                          borderColor: '#7B7B7B'
                        xaxis:
                          tooltip:
                            enabled: false
                      brush:
                        apex_config:
                          chart:
                            foreColor: '#7B7B7B'
                            toolbar:
                              show: false
                          grid:
                            borderColor: '#7B7B7B'
                          xaxis:
                            tooltip:
                              enabled: false
                        selection_span: 1h
                      experimental:
                        brush: true
                      header:
                        colorize_states: true
                        show: true
                        show_states: true
                      series:
                      - color: rgb(33,150,243)
                        entity: sensor.meater_probe_internal
                        name: Internal
                        show:
                          in_brush: true
                        stroke_width: 4
                      - color: rgb(139,195,74)
                        entity: sensor.meater_probe_ambient
                        name: Ambient
                        stroke_width: 4
                      - color: rgb(233,30,99)
                        entity: sensor.meater_probe_target
                        name: Target
                        stroke_width: 1
                        type: area
                      type: custom:apexcharts-card
                    type: custom:vertical-stack-in-card
                  title: Meater
                service: browser_mod.popup
            type: template
          - chip:
              content: "{%- if is_state(entity, \"on\") -%}\n  {{ states(\"sensor.available_version\"\
                ) }}\n{%- endif -%}\n"
              entity: binary_sensor.docker_hub_update_available
              icon: mdi:arrow-up-bold-circle
              icon_color: red
              tap_action:
                action: fire-dom-event
                browser_mod:
                  data:
                    content:
                      card_mod:
                        style: "ha-card {\n  --ha-card-background: none\n}\n"
                      content: '**Home Assistant** _{{ states("sensor.current_version")
                        }}_ -> _{{ states("sensor.available_version") }}_

                        {{ state_attr("sensor.home_assistant_website", "release_title")
                        }}

                        [Release Notes]({{ state_attr("sensor.home_assistant_website",
                        "release_notes") }}) | [HassPodcast](https://hasspodcast.io/episodes)'
                      type: markdown
                    title: Upgrade Available
                  service: browser_mod.popup
              type: template
            conditions:
            - entity: binary_sensor.docker_hub_update_available
              state: 'on'
            type: conditional
          - chip:
              content: '{{ states(entity) | int }}'
              entity: sensor.hacs
              icon: mdi:chevron-triple-up
              icon_color: red
              tap_action:
                action: navigate
                navigation_path: /hacs
              type: template
            conditions:
            - entity: sensor.hacs
              state_not: '0'
            - entity: sensor.hacs
              state_not: unavailable
            type: conditional
          - chip:
              content: '{{ states(entity) }}'
              entity: sensor.low_battery_devices
              icon: mdi:battery-alert
              icon_color: red
              tap_action:
                action: fire-dom-event
                browser_mod:
                  data:
                    content:
                      card_mod:
                        style: "ha-card {\n  --ha-card-background: none\n}\n"
                      cards:
                      - card:
                          cards: []
                          layout_type: masonry
                          type: custom:layout-card
                        filter:
                          exclude: null
                          include:
                          - attributes:
                              device_class: battery
                            options:
                              badge_color: red
                              badge_icon: "{% set battery_level = states(entity) |\
                                \ int %} {% if battery_level < 10 %}\n  mdi:exclamation-thick\n\
                                {% endif %}"
                              card_mod:
                                style: "ha-card {\n  padding: 4px 12px !important;\n\
                                  }\n"
                              icon: '{% from "util.jinja" import battery_icon %} {{
                                battery_icon(entity) }}

                                '
                              icon_color: '{% from "util.jinja" import battery_color
                                %} {{ battery_color(entity) }}'
                              layout: horizontal
                              primary: '{{ states(entity) }}%'
                              secondary: '{{ state_attr(entity, "friendly_name") |
                                title }}'
                              tap_action:
                                action: more-info
                              type: custom:mushroom-template-card
                            state: < 30
                        show_empty: false
                        sort:
                          method: friendly_name
                        type: custom:auto-entities
                      type: custom:vertical-stack-in-card
                    title: Low Batteries
                  service: browser_mod.popup
              type: template
            conditions:
            - entity: sensor.low_battery_devices
              state_not: '0'
            type: conditional
          type: custom:mushroom-chips-card
        type: custom:vertical-stack-in-card
      layout:
        grid-template-columns: 55px auto
        grid-template-rows: auto
        margin: 0
        padding: 5px
      layout_type: custom:grid-layout
      type: custom:layout-card
    - alignment: justify
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-spacing: 0;\n}\n"
      chips:
      - entity: weather.openweathermap
        show_conditions: true
        show_temperature: true
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - card_config_version: 8
                  entity_apparent_temp: sensor.openweathermap_feels_like_temperature
                  entity_forecast_icon: weather.openweathermap
                  entity_forecast_icon_1: weather.openweathermap
                  entity_forecast_max: sensor.openweathermap_forecast_temperature
                  entity_forecast_max_1: weather.openweathermap
                  entity_forecast_min: sensor.openweathermap_forecast_temperature_low
                  entity_forecast_min_1: weather.openweathermap
                  entity_humidity: sensor.openweathermap_humidity
                  entity_pop: sensor.openweathermap_forecast_precipitation_probability
                  entity_pop_1: weather.openweathermap
                  entity_pos: sensor.openweathermap_forecast_precipitation
                  entity_pos_1: weather.openweathermap
                  entity_pressure: sensor.openweathermap_pressure
                  entity_summary: weather.openweathermap
                  entity_summary_1: weather.openweathermap
                  entity_sun: sun.sun
                  entity_temperature: weather.openweathermap
                  entity_uv_alert_summary: sensor.openweathermap_uv_index
                  entity_visibility: sensor.openweathermap_visibility
                  entity_wind_bearing: sensor.openweathermap_wind_bearing
                  entity_wind_speed: sensor.openweathermap_wind_speed
                  option_color_fire_danger: true
                  option_static_icons: false
                  option_time_format: 12hour
                  option_today_rainfall_decimals: false
                  option_today_temperature_decimals: false
                  section_order:
                  - overview
                  - extended
                  - slots
                  - daily_forecast
                  show_section_extended: false
                  slot_l1: forecast_max
                  slot_l2: forecast_min
                  slot_l3: wind
                  slot_l4: pressure
                  slot_l5: sun_next
                  slot_l6: remove
                  slot_l7: remove
                  slot_l8: remove
                  slot_r1: popforecast
                  slot_r2: humidity
                  slot_r3: uv_summary
                  slot_r4: visibility
                  slot_r5: sun_following
                  slot_r6: remove
                  slot_r7: remove
                  slot_r8: remove
                  type: custom:platinum-weather-card
                - cards:
                  - card_mod:
                      style: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                        \ 0px;\n}\n"
                    entity: weather.owm_hourly
                    icon_color: blue
                    type: custom:mushroom-entity-card
                  - card_mod:
                      style:
                        .: "ha-card {\n  background: none;\n  --ha-card-box-shadow:\
                          \ 0px;\n  margin: -8px -4px -4px -16px;\n}\n"
                        weather-bar$: ".main {\n  --mush-rgb-red: 244, 67, 54;\n \
                          \ --mush-rgb-pink: 233, 30, 99;\n  --mush-rgb-purple: 156,\
                          \ 39, 176;\n  --mush-rgb-deep-purple: 103, 58, 183;\n  --mush-rgb-indigo:\
                          \ 63, 81, 181;\n  --mush-rgb-blue: 33, 150, 243;\n  --mush-rgb-light-blue:\
                          \ 3, 169, 244;\n  --mush-rgb-cyan: 0, 188, 212;\n  --mush-rgb-teal:\
                          \ 0, 150, 136;\n  --mush-rgb-green: 76, 175, 80;\n  --mush-rgb-light-green:\
                          \ 139, 195, 74;\n  --mush-rgb-lime: 205, 220, 57;\n  --mush-rgb-yellow:\
                          \ 255, 235, 59;\n  --mush-rgb-amber: 255, 193, 7;\n  --mush-rgb-orange:\
                          \ 255, 152, 0;\n  --mush-rgb-deep-orange: 255, 87, 34;\n\
                          \  --mush-rgb-brown: 121, 85, 72;\n  --mush-rgb-grey: 158,\
                          \ 158, 158;\n  --mush-rgb-blue-grey: 96, 125, 139;\n  --mush-rgb-black:\
                          \ 0, 0, 0;\n  --mush-rgb-white: 255, 255, 255;\n\n  --color-clear-night:\
                          \ rgba(var(--mush-rgb-black), 0.2) !important;\n  --color-cloudy:\
                          \ rgba(var(--mush-rgb-grey), 0.2) !important;\n  --color-fog:\
                          \ var(--color-cloudy);\n  --color-hail: rgba(var(--mush-rgb-indigo),\
                          \ 0.2) !important;\n  --color-lightning: var(--color-rainy);\n\
                          \  --color-lightning-rainy: var(--color-rainy);\n  --color-partlycloudy:\
                          \ rgba(var(--mush-rgb-blue), 0.2) !important;\n  --color-pouring:\
                          \ var(--color-rainy);\n  --color-rainy: rgba(var(--mush-rgb-indigo),\
                          \ 0.2) !important;\n  --color-snowy: rgba(var(--mush-rgb-white),\
                          \ 0.2) !important;\n  --color-snowy-rainy: var(--color-partlycloudy);\n\
                          \  --color-sunny: rgba(var(--mush-rgb-yellow), 0.2) !important;\n\
                          \  --color-windy: var(--color-sunny);\n  --color-windy-variant:\
                          \ var(--color-sunny);\n  --color-exceptional: rgba(var(--mush-rgb-amber),\
                          \ 0.2) !important;\n}\n.bar > div {\n  height: 42px !important;\n\
                          }\n.bar > div:first-child {\n  border-top-left-radius: var(--ha-card-border-radius)\
                          \ !important;\n  border-bottom-left-radius: var(--ha-card-border-radius)\
                          \ !important;\n}\n.bar > div:last-child {\n  border-top-right-radius:\
                          \ var(--ha-card-border-radius) !important;\n  border-bottom-right-radius:\
                          \ var(--ha-card-border-radius) !important;\n}\n.bar > div\
                          \ > span {\n  text-shadow: none !important;\n  color: rgb(var(--primary-text-color));\n\
                          \  font-size: 14px;\n  font-weight: bold;\n}\n.axes > div\
                          \ > .bar-block-bottom > .hour {\n  font-size: 12px;\n  font-weight:\
                          \ bolder;\n}\n.axes > div > .bar-block-bottom > .temperature\
                          \ {\n  font-size: 12px;\n  font-weight: bolder;\n}\n.axes\
                          \ {\n  margin-top: 10px !important;\n}\n"
                    entity: weather.owm_hourly
                    icons: false
                    label_spacing: '2'
                    name: ' '
                    num_segments: '12'
                    type: custom:hourly-weather
                  layout:
                    grid-template-columns: 66px auto
                    margin: -4px -4px -12px -4px;
                  layout_type: custom:grid-layout
                  type: custom:layout-card
                - type: iframe
                  url: https://embed.windy.com/embed2.html?lat=43.241&lon=-112.143&zoom=7&level=surface&overlay=wind&menu=&message=true&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=43.490&detailLon=-112.040&metricWind=mph&metricTemp=%C2%B0F&radarRange=-1
                - type: custom:horizon-card
                type: custom:vertical-stack-in-card
              title: Weather
            service: browser_mod.popup
        type: weather
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.airnow_aqi
        icon: '{{ iif(has_value(entity), "mdi:blur", "mdi:blur-off") }}'
        icon_color: "{% if has_value(entity) %}\n  {% set level = states(entity) |\
          \ float(default=0) %}\n  {% if level >= 300 %}\n    red\n  {% elif level\
          \ >= 200 %}\n    purple\n  {% elif level >= 150 %}\n    pink\n  {% elif\
          \ level >= 100 %}\n    orange\n  {% elif level >= 50 %}\n    yellow\n  {%\
          \ elif level >= 0 %}\n    green\n  {% endif %}\n{% else %}\n  disabled\n\
          {% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - double_tap_action:
                    action: none
                  entity: sensor.airnow_aqi
                  fill_container: false
                  hold_action:
                    action: none
                  multiline_secondary: true
                  primary: 'AQI: {{ state_attr(entity, "description") }}'
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.airnow_aqi
                    max: 400
                    min: 0
                    severity:
                    - color: var(--green-color)
                      from: '0'
                      to: '50'
                    - color: var(--yellow-color)
                      from: '50'
                      to: '100'
                    - color: var(--orange-color)
                      from: '100'
                      to: '150'
                    - color: var(--red-color)
                      from: '150'
                      to: '200'
                    - color: var(--purple-color)
                      from: '200'
                      to: '300'
                    - color: var(--pink-color)
                      from: '300'
                      to: '400'
                  - entity: sensor.airnow_pm2_5
                    max: 100
                    min: 0
                    severity:
                    - color: var(--green-color)
                      from: '0'
                      to: '12'
                    - color: var(--yellow-color)
                      from: '12'
                      to: '35'
                    - color: var(--orange-color)
                      from: '35'
                      to: '50'
                    - color: var(--red-color)
                      from: '50'
                      to: '100'
                  positions:
                    indicator: inside
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                type: custom:vertical-stack-in-card
              title: Air Quality
            service: browser_mod.popup
        type: template
      - content: '{{ states(entity) | float(default=0) }}'
        entity: sensor.allergy_index_today
        icon: mdi:flower-pollen
        icon_color: "{% set level = states(entity) | float(default=0) %}\n{% if level\
          \ >= 9.7 %}\n  red\n{% elif level >= 7.3 %}\n  orange\n{% elif level >=\
          \ 4.9 %}\n  yellow\n{% elif level >= 2.5 %}\n  lime\n{% else %}\n  green\n\
          {% endif %}"
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - title: Allergens
                  type: custom:mushroom-title-card
                - double_tap_action:
                    action: none
                  entity: sensor.allergy_index_today
                  fill_container: false
                  hold_action:
                    action: none
                  multiline_secondary: true
                  secondary: "{%- set ns = namespace(allergens=[]) -%} {%- for id\
                    \ in range(1, 3) -%}\n  {%- set attr = \"allergen_name_\" ~ id\
                    \ -%}\n  {%- if not state_attr(entity, attr) in [\"unknown\",\
                    \ \"unavailable\", None] -%}\n    {%- set ns.allergens = ns.allergens\
                    \ + [ state_attr(entity, attr) ] -%}\n  {%- endif -%}\n{%- endfor\
                    \ -%} {{ ns.allergens | join(\", \") }}\n{{ state_attr(\"sensor.allergy_index_forecasted_average\"\
                    , \"outlook\") | default(\"\", true) }}"
                  tap_action:
                    action: none
                  type: custom:mushroom-template-card
                - title: Forecast
                  type: custom:mushroom-title-card
                - animation:
                    state: 'on'
                  decimal: 1
                  entities:
                  - entity: sensor.allergy_index_today
                  - entity: sensor.allergy_index_tomorrow
                  - entity: sensor.allergy_index_forecasted_average
                  - entity: sensor.asthma_index_today
                  - entity: sensor.asthma_index_tomorrow
                  - entity: sensor.asthma_index_forecasted_average
                  - entity: sensor.cold_flu_index_today
                  - entity: sensor.cold_flu_forecasted_average
                  max: 12
                  min: 0
                  positions:
                    indicator: inside
                  severity:
                  - color: var(--green-color)
                    from: '0'
                    to: '2.5'
                  - color: var(--light-green-color)
                    from: '2.5'
                    to: '4.9'
                  - color: var(--amber-color)
                    from: '4.9'
                    to: '7.3'
                  - color: var(--orange-color)
                    from: '7.3'
                    to: '9.7'
                  - color: var(--red-color)
                    from: '9.7'
                    to: '12'
                  style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px\
                    \ var(--primary-background-color);\n}"
                  type: custom:bar-card
                type: custom:vertical-stack-in-card
              title: Allergy / Asthma
            service: browser_mod.popup
        type: template
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  - cards:
    - template: person_card
      type: custom:decluttering-card
      variables:
      - person: person.joshua
      - name: Joshua
      - media: media_player.spotify_josh
      - proximity: proximity.joshua_home
      - phone_base: pixel_7
    - template: person_card
      type: custom:decluttering-card
      variables:
      - person: person.amy
      - name: Amy
      - media: media_player.spotify_amy
      - proximity: proximity.amy_home
      - phone_base: galaxy_s21
    - card_mod:
        style: "ha-card {\n  background:\n  {% set state = states(\"device_tracker.ascent_location\"\
          ) %}\n  {% if state == \"not_home\" %}\n    rgba(244, 67, 54, 0.2);\n  {%\
          \ elif state in [\"unknown\", \"unavailable\"] %}\n    rgba(189, 189, 189,\
          \ 0.2);\n  {% elif state != \"home\" %}\n    rgba(33, 150, 243, 0.2);\n\
          \  {% endif %}\n}\n"
      cards:
      - card_mod:
          style:
            .: "ha-card {\n  transition-duration: 0s;\n  margin-left: -10px;\n  height:\
              \ 66px !important;\n}\n:host {\n  --mush-icon-size: 55px;\n  {% if not\
              \ is_state(config.entity, \"home\") %}\n  {% set state = states(config.entity)\
              \ %}\n  --ha-card-background:\n    {% if state == \"not_home\" %}\n\
              \      rgba(244, 67, 54, 0.05)\n    {% elif state in [\"unknown\", \"\
              unavailable\"] %}\n      rgba(189, 189, 189, 0.05)\n    {% elif state\
              \ != \"home\" %}\n      rgba(33, 150, 243, 0.05)\n    {% endif %};\n\
              \  {% endif %}\n}\n"
            mushroom-shape-avatar$: "{% set timer = \"timer.subaru_remote_start\"\
              \ %}\n{% if state_attr(timer, \"finishes_at\") %}\n.picture {\n  {%\
              \ set remaining = (as_datetime(state_attr(timer, \"finishes_at\")) -\
              \ now()).total_seconds() | int %}\n  {% set duration =\n    (state_attr(timer,\
              \ \"duration\").split(\":\")[0] | int * 60 * 60)\n    + (state_attr(timer,\
              \ \"duration\").split(\":\")[1] | int * 60)\n    + (state_attr(timer,\
              \ \"duration\").split(\":\")[2] | int)\n  %}\n  background:\n    radial-gradient(var(--card-background-color)\
              \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--accent-color)\
              \ {{ (remaining / duration * 100) | round() }}% 0%, var(--card-background-color)\
              \ 0% 100%);\n}\n{% endif %}\n"
        entity: device_tracker.ascent_location
        icon_type: entity-picture
        name: Ascent
        tap_action:
          action: navigate
          navigation_path: subaru
        type: custom:mushroom-person-card
      - alignment: end
        card_mod:
          style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
            \  --chip-spacing: 0;\n}\n"
        chips:
        - content: "{% if has_value(entity) %}\n  {{ states(entity) | round(0) }}mi\n\
            {% endif %}"
          entity: sensor.ascent_range
          icon: mdi:gas-station
          icon_color: "{% if has_value(entity) %}\n  {% set range = states(entity)\
            \ | int %}\n  {% if range > 200 %}\n    green\n  {% elif range > 60 %}\n\
            \    light-green\n  {% elif range > 40 %}\n    amber\n  {% elif range\
            \ > 20 %}\n    orange\n  {% else %}\n    red\n  {% endif %}\n{% endif\
            \ %}"
          tap_action:
            action: more-info
          type: template
        type: custom:mushroom-chips-card
      type: custom:vertical-stack-in-card
    type: horizontal-stack
  - cards:
    - badge_icon: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif state_attr(entity,\
        \ \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else %}\n  mdi:numeric-{{\
        \ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style:
          .: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.garbage_collection\"\
            , \"on\") -%}\n  {% set icon_color = \"rgb-green-color\" %}\n{%- elif\
            \ is_state(config.entity, \"0\") -%}\n  {% set icon_color = \"rgb-red-color\"\
            \ %}\n  {% set icon_size = \"1em\" %}\n{%- elif is_state(config.entity,\
            \ \"1\") -%}\n  {% set icon_color = \"rgb-yellow-color\" %}\n{%- else\
            \ -%}\n  {% set icon_color = \"primary-text-color\" %}\n{%- endif -%}\n\
            mushroom-badge-icon {\n  --icon-color: rgb(var(--{{ icon_color }}));\n\
            \  --main-color: none;\n  --badge-icon-size: {{ icon_size }};\n}\nha-card\
            \ {\n  background: none;\n  box-shadow: none;\n  margin-top: 10px;\n}\n"
          mushroom-shape-icon$: ".shape {\n  {%- if is_state(\"input_boolean.garbage_collection\"\
            , \"off\") and is_state(config.entity, \"0\") -%}\n  --shape-animation:\
            \ ping 2s infinite;\n  {%- endif -%}\n}\n@keyframes ping {\n  0% { box-shadow:\
            \ 0 0 1px 1px rgba(var(--rgb-red), 0.7); }\n  100% { box-shadow: 0 0 5px\
            \ 15px transparent; }\n}\n"
      entity: sensor.garbage
      hold_action:
        action: call-service
        data:
          entity: sensor.garbage
        service: script.collection_at_curb
        target: {}
      icon: mdi:delete
      icon_color: "{% if is_state(\"input_boolean.garbage_collection\", \"on\") %}\n\
        \  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - badge_icon: "{% if is_state(\"input_boolean.recycling_collection\", \"on\")\
        \ %}\n  mdi:alpha-c\n{% elif is_state(entity, \"0\") %}\n  mdi:alert\n{% elif\
        \ state_attr(entity, \"days\") | int > 9 %}\n  mdi:numeric-9-plus\n{% else\
        \ %}\n  mdi:numeric-{{ state_attr(entity, \"days\") }}\n{% endif %}"
      card_mod:
        style:
          .: "{% set icon_size = \"1.5em\" %}\n{%- if is_state(\"input_boolean.recycling_collection\"\
            , \"on\") -%}\n  {% set icon_color = \"rgb-green-color\" %}\n{%- elif\
            \ is_state(config.entity, \"0\") -%}\n  {% set icon_color = \"rgb-red-color\"\
            \ %}\n  {% set icon_size = \"1em\" %}\n{%- elif is_state(config.entity,\
            \ \"1\") -%}\n  {% set icon_color = \"rgb-yellow-color\" %}\n{%- else\
            \ -%}\n  {% set icon_color = \"primary-text-color\" %}\n{%- endif -%}\n\
            mushroom-badge-icon {\n  --icon-color: rgb(var(--{{ icon_color }}));\n\
            \  --main-color: none;\n  --badge-icon-size: {{ icon_size }};\n}\nha-card\
            \ {\n  background: none;\n  box-shadow: none;\n  margin-top: 10px;\n}\n"
          mushroom-shape-icon$: ".shape {\n  {%- if is_state(\"input_boolean.recycling_collection\"\
            , \"off\") and is_state(config.entity, \"0\") -%}\n  --shape-animation:\
            \ ping 2s infinite;\n  {%- endif -%}\n}\n@keyframes ping {\n  0% { box-shadow:\
            \ 0 0 1px 1px rgba(var(--rgb-red), 0.7); }\n  100% { box-shadow: 0 0 5px\
            \ 15px transparent; }\n}\n"
      entity: sensor.recycling
      hold_action:
        action: call-service
        data:
          entity: sensor.recycling
        service: script.collection_at_curb
        target: {}
      icon: mdi:recycle
      icon_color: "{% if is_state(\"input_boolean.recycling_collection\", \"on\")\
        \ %}\n  green\n{% elif is_state(entity, \"0\") %}\n  red\n{% elif is_state(entity,\
        \ \"1\") %}\n  yellow\n{% else %}\n  disabled\n{% endif %}"
      layout: vertical
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - card:
        badge_icon: "{% if states(entity) | int > 0 %}\n  mdi:numeric-{{ states(entity)\
          \ }}\n{% elif states(entity) | int > 9 %}\n  mdi:numeric-9-plus\n{% endif\
          \ %}"
        card_mod:
          style: "mushroom-badge-icon {\n  --icon-color: var(--{{config.icon_color}}-color);\n\
            \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n  background:\
            \ none;\n  box-shadow: none;\n  margin-top: 10px;\n}\n"
        entity: sensor.mail_usps_mail
        icon: mdi:mail
        icon_color: blue
        layout: vertical
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                elements:
                - camera_image: camera.mail_usps_camera
                  camera_view: live
                  style:
                    left: 50%
                    top: 50%
                    width: 100%
                  type: image
                - image: /local/mail_and_packages/overlay.png
                  style:
                    left: 50%
                    top: 50%
                    width: 101%
                  type: image
                - entity: camera.mail_usps_camera
                  image: /local/mail_and_packages/vignette.png
                  style:
                    left: 50%
                    top: 50%
                    width: 101%
                  type: image
                entity: camera.mail_usps_camera
                image: local/mail_and_packages/white.png
                type: picture-elements
              size: wide
              title: Mail
            service: browser_mod.popup
        type: custom:mushroom-template-card
      conditions:
      - entity: sensor.mail_usps_mail
        state_not: '0'
      type: conditional
    - card:
        badge_icon: "{% if states(entity) | int > 0 %}\n  mdi:numeric-{{ states(entity)\
          \ }}\n{% elif states(entity) | int > 9 %}\n  mdi:numeric-9-plus\n{% endif\
          \ %}"
        card_mod:
          style:
            .: "mushroom-badge-icon {\n  --icon-color: var(--{{config.icon_color}}-color);\n\
              \  --main-color: none;\n  --badge-icon-size: 1.5em;\n}\nha-card {\n\
              \  background: none;\n  box-shadow: none;\n  margin-top: 10px;\n}\n"
            mushroom-shape-icon$: ".shape {\n  {%- if states(config.entity) | int\
              \ > 0 -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
              }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-{{config.icon_color}}),\
              \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
        entity: sensor.mail_packages_delivered
        icon: mdi:package-variant
        icon_color: orange
        layout: vertical
        tap_action:
          action: none
        type: custom:mushroom-template-card
      conditions:
      - entity: sensor.mail_packages_delivered
        state_not: '0'
      type: conditional
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_usps_delivering
      - name: USPS
      - icon: fab:usps
      - icon_color: blue
      - url: https://tools.usps.com/go/TrackConfirmAction?tLabels=
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_ups_delivering
      - name: UPS
      - icon: fab:ups
      - icon_color: brown
      - url: https://www.ups.com/track?loc=en_US&tracknum=
    - template: package_delivery
      type: custom:decluttering-card
      variables:
      - entity: sensor.mail_fedex_delivering
      - name: FedEx
      - icon: fab:fedex
      - icon_color: purple
      - url: https://www.fedex.com/fedextrack/?trknbr=
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  margin-top:\
              \ 10px;\n}\n"
            mushroom-shape-icon$: "ha-icon {\n  {%- if is_state(config.entity, \"\
              on\") -%}\n  --icon-animation: shake 400ms ease-in-out infinite, drum\
              \ 2s ease infinite;\n  transform-origin: 50% 110%;\n  {% endif %}\n\
              }\n@keyframes shake {\n  0%, 100% { transform: translate(0, 0) rotate(0);\
              \ }\n  20%  { transform: translate(0.4px, -0.4px) rotate(-4deg); }\n\
              \  40%  { transform: translate(-0.4px, 0.4px) rotate(4deg); }\n  60%\
              \  { transform: translate(0.4px, 0.4px) rotate(-4deg); }\n  80%  { transform:\
              \ translate(-0.4px, -0.4px) rotate(4deg); }\n}\n@keyframes drum {\n\
              \  50%  { clip-path: polygon(0 0, 0 100%, 35% 100%, 34% 68%, 60% 41%,\
              \ 71% 56%, 65% 74%, 47% 79%, 32% 69%, 35% 100%, 100% 100%, 100% 0);\
              \ }\n}\n"
        entity: input_boolean.washer
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:washing-machine\n{%- else\
          \ -%}\n  mdi:washing-machine-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  blue\n{%- else -%}\n \
          \ disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.washer
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  margin-top:\
              \ 10px;\n}\n"
            mushroom-shape-icon$: "ha-icon {\n  {%- if is_state(config.entity, \"\
              on\") -%}\n  --icon-animation: shake 400ms ease-in-out infinite, drum\
              \ 1s infinite;\n  transform-origin: 50% 65%;\n  {% endif %}\n}\n@keyframes\
              \ shake {\n  0%, 100% { transform: rotate(4deg); }\n  50%  { transform:\
              \ rotate(-4deg); }\n}\n@keyframes drum {\n  50%  { clip-path: polygon(0\
              \ 0, 0 100%, 35% 100%, 36% 74%, 31% 43%, 61% 40%, 71% 69%, 62% 78%,\
              \ 36% 73%, 35% 100%, 100% 100%, 100% 0); }\n}\n"
        entity: input_boolean.dryer
        icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:tumble-dryer\n{%- else -%}\n\
          \  mdi:tumble-dryer-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  orange\n{%- else -%}\n\
          \  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_boolean.dryer
        state: 'on'
      type: conditional
    - card:
        card_mod:
          style:
            .: "ha-card {\n  background: none;\n  box-shadow: none;\n  margin-top:\
              \ 10px;\n}\n"
            mushroom-shape-icon$: "{% set timer = \"timer.dishwasher_run_time\" %}\n\
              {%- if is_state(config.entity, \"Washing\") -%}\n  {% set icon_color\
              \ = \"purple\" %}\n{%- elif is_state(config.entity, \"Draining\") -%}\n\
              \  {% set icon_color = \"lime\" %}\n{%- elif is_state(config.entity,\
              \ \"Rinsing\") -%}\n  {% set icon_color = \"blue\" %}\n{%- elif is_state(config.entity,\
              \ \"Drying\") -%}\n  {% set icon_color = \"orange\" %}\n{%- elif is_state(config.entity,\
              \ \"Clean\") -%}\n  {% set icon_color = \"cyan\" %}\n{%- else -%}\n\
              \  {% set icon_color = \"disabled\" %}\n{%- endif -%}\nha-icon {\n \
              \ {%- if not is_state(config.entity, \"Off\") -%}\n  --icon-animation:\
              \ bounce 1.5s ease-in-out infinite, wash 1s ease-in-out infinite;\n\
              \  transform-origin: 50% 75%;\n  {% endif %}\n}\n{% if state_attr(timer,\
              \ \"finishes_at\") %}\n.shape {\n  {% set remaining = (as_datetime(state_attr(timer,\
              \ \"finishes_at\")) - now()).total_seconds() | int %}\n  {% set duration\
              \ =\n    (state_attr(timer, \"duration\").split(\":\")[0] | int * 60\
              \ * 60)\n      + (state_attr(timer, \"duration\").split(\":\")[1] |\
              \ int * 60)\n      + (state_attr(timer, \"duration\").split(\":\")[2]\
              \ | int)\n  %}\n  background:\n    radial-gradient(var(--card-background-color)\
              \ 60%, transparent calc(60% + 1px)),\n    conic-gradient(var(--{{ icon_color\
              \ }}-color) {{ ((duration - remaining) / duration * 100) | round() }}%\
              \ 0%, var(--card-background-color) 0% 100%);\n}\n.shape:after {\n  content:\
              \ \"\";\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  border-radius:\
              \ 50%;\n  background: rgba(var(--rgb-{{ icon_color }}), 0.2);\n}\n{%\
              \ endif %}\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {transform:\
              \ translateY(0); }\n  40% { transform: translateY(-1.2px) rotate(5deg);\
              \ }\n  60% { transform: translateY(-1.1px) rotate(-4deg); }\n}\n@keyframes\
              \ wash {\n  50%  { clip-path: polygon(0 0, 0 100%, 35% 100%, 36% 74%,\
              \ 31% 43%, 61% 40%, 71% 69%, 62% 78%, 36% 73%, 35% 100%, 100% 100%,\
              \ 100% 0); }\n}\n"
        entity: input_select.dishwasher_status
        icon: "{%- if not is_state(entity, \"Off\") -%}\n  mdi:dishwasher\n{%- else\
          \ -%}\n  mdi:dishwasher-off\n{%- endif -%}"
        icon_color: "{%- if is_state(entity, \"Washing\") -%}\n  purple\n{%- elif\
          \ is_state(entity, \"Draining\") -%}\n  lime\n{%- elif is_state(entity,\
          \ \"Rinsing\") -%}\n  blue\n{%- elif is_state(entity, \"Drying\") -%}\n\
          \  orange\n{%- elif is_state(entity, \"Clean\") -%}\n  cyan\n{%- else -%}\n\
          \  disabled\n{%- endif -%}"
        layout: vertical
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      conditions:
      - entity: input_select.dishwasher_status
        state_not: 'Off'
      type: conditional
    type: horizontal-stack
  - cards:
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Living Room
      - entity: group.lights_living_room
      - temperature: sensor.home_temperature
      - icon: mdi:sofa-single
      - icon_color: 255, 152, 0
      - path: living
      - chips:
        - entity: media_player.living_room_universal
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  cards:
                  - template: media_card
                    type: custom:decluttering-card
                    variables:
                    - name: Living Room
                    - expanded: true
                    - entity: media_player.living_room_universal
                    - sound_entity: media_player.yamaha_rx_v679
                    - sound_mode: select.yamaha_sound_mode
                  type: custom:vertical-stack-in-card
              service: browser_mod.popup
          type: template
        - entity: fan.living_room
          icon: mdi:fan
          icon_color: "{% if is_state(entity, 'on') %}\n  {% set speed = state_attr(entity,\
            \ 'percentage') %}\n  {{ {\n    25: \"green\",\n    50: \"yellow\",\n\
            \    75: \"orange\",\n    100: \"red\"\n  }[speed] }}\n{% else %}\n  disabled\n\
            {% endif %}"
          style: "ha-card {\n  {% if is_state(config.entity, 'on') %}\n    {% set\
            \ speed = state_attr(config.entity, 'percentage') %}\n    {% set duration\
            \ = {\n      25: \"1.33333s\",\n      50: \"0.942809s\",\n      75: \"\
            0.7698s\",\n      100: \"0.666667s\"\n    }[speed] %}\n    animation:\
            \ rotation linear infinite;\n    animation-duration: {{ duration }};\n\
            \  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform: rotate(360deg);\n\
            \  }\n}\n"
          tap_action:
            action: more-info
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_living_room
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_living_room
                title: Living Room Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.home_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Family Room
      - entity: group.lights_family_room
      - temperature: sensor.family_room_temperature
      - icon: mdi:gamepad-circle
      - icon_color: 255, 235, 59
      - path: family
      - chips:
        - chip:
            entity: binary_sensor.athos_connected
            icon: mdi:desktop-tower
            icon_color: lime
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.athos_connected
            state: 'on'
          type: conditional
        - chip:
            entity: binary_sensor.quest_interactive
            icon: fapro:meta
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.quest_interactive
            state: 'on'
          type: conditional
        - entity: select.family_room_activities
          icon: "{% set state = states(entity) %}\n{% if state == \"Computer\" %}\n\
            \  mdi:desktop-tower\n{% elif state == \"PS3\" %}\n  fapro:ps3\n{% elif\
            \ state == \"PS4\" %}\n  fapro:ps4\n{% elif state == \"XBox\" %}\n  mdi:microsoft-xbox\n\
            {% else %}\n  mdi:gamepad-variant\n{% endif %}"
          icon_color: "{% set state = states(entity) %}\n{% if state == \"Computer\"\
            \ %}\n  teal\n{% elif state == \"PS3\" %}\n  cyan\n{% elif state == \"\
            PS4\" %}\n  blue\n{% elif state == \"XBox\" %}\n  green\n{% else %}\n\
            \  disabled\n{% endif %}"
          tap_action:
            action: none
          type: template
        - entity: media_player.family_room_universal
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  cards:
                  - template: media_card
                    type: custom:decluttering-card
                    variables:
                    - name: Family Room
                    - expanded: true
                    - entity: media_player.family_room_universal
                    - sound_entity: media_player.denon_avr_s760h
                    - sound_mode: select.denon_sound_mode
                  type: custom:vertical-stack-in-card
              service: browser_mod.popup
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_family_room
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_family_room
                title: Family Room Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.family_room_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Office
      - entity: group.lights_office
      - temperature: sensor.office_temperature
      - icon: mdi:chair-rolling
      - icon_color: 33, 150, 243
      - path: office
      - chips:
        - chip:
            entity: binary_sensor.erebus_connected
            icon: mdi:desktop-tower
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.erebus_connected
            state: 'on'
          type: conditional
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_office
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_office
                title: Office Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.office_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Kitchen
      - entity: group.lights_kitchen
      - temperature: sensor.kitchen_temperature
      - icon: mdi:fridge-variant
      - icon_color: 0, 188, 212
      - path: kitchen
      - chips:
        - chip:
            entity: light.smart_display
            icon: mdi:mirror-rectangle
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: light.smart_display
            state: 'on'
          type: conditional
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_kitchen
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_kitchen
                title: Kitchen Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.kitchen_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Master Bedroom
      - entity: group.lights_master_bedroom
      - temperature: sensor.master_bedroom_temperature
      - icon: mdi:bed-king
      - icon_color: 103, 58, 183
      - path: master
      - chips:
        - entity: media_player.master_bedroom_universal
          icon: '{% from "util.jinja" import media_icon %} {{ media_icon(entity) }}'
          icon_color: "{% set state = states(entity) %}\n{% if state == \"playing\"\
            \ %}\n  green\n{% elif state == \"paused\" %}\n  amber\n{% elif state\
            \ == \"idle\" %}\n  light-blue\n{% elif state in [\"standby\", \"on\"\
            ] %}\n  blue-grey\n{% else %}\n  disabled\n{% endif %}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  cards:
                  - template: media_card
                    type: custom:decluttering-card
                    variables:
                    - name: Master Bedroom
                    - expanded: true
                    - entity: media_player.master_bedroom_universal
                    - buttons:
                      - icon: mdi:plex
                        id: com.plexapp.android
                        name: Plex
                        type: source
                      - icon: mdi:netflix
                        id: com.netflix.ninja
                        name: Netflix
                        type: source
                      - icon: fab:amazon
                        id: com.amazon.amazonvideo.livingroom
                        name: Prime
                        type: source
                      - icon: mdi:youtube
                        id: com.google.android.youtube.tv
                        name: YouTube
                        type: source
                      - icon: mdi:spotify
                        id: com.spotify.tv.android
                        name: Spotify
                        type: source
                      - icon: mdi:twitch
                        id: tv.twitch.android.viewer
                        name: Twitch
                        type: source
                      - icon: fapro:crunchyroll
                        id: com.crunchyroll.crunchyroid
                        name: Crunchyroll
                        type: source
                      - icon: mdi:apps
                        id: com.spocky.projengmenu
                        name: Home
                        type: source
                  type: custom:vertical-stack-in-card
              service: browser_mod.popup
          type: template
        - entity: fan.master_bedroom
          icon: mdi:fan
          icon_color: "{% if is_state(entity, 'on') %}\n  {% set speed = state_attr(entity,\
            \ 'percentage') %}\n  {{ {\n    25: \"green\",\n    50: \"yellow\",\n\
            \    75: \"orange\",\n    100: \"red\"\n  }[speed] }}\n{% else %}\n  disabled\n\
            {% endif %}"
          style: "ha-card {\n  {% if is_state(config.entity, 'on') %}\n    {% set\
            \ speed = state_attr(config.entity, 'percentage') %}\n    {% set duration\
            \ = {\n      25: \"1.33333s\",\n      50: \"0.942809s\",\n      75: \"\
            0.7698s\",\n      100: \"0.666667s\"\n    }[speed] %}\n    animation:\
            \ rotation linear infinite;\n    animation-duration: {{ duration }};\n\
            \  {% endif %}\n}\n@keyframes rotation {\n  100% {\n    transform: rotate(360deg);\n\
            \  }\n}\n"
          tap_action:
            action: more-info
          type: template
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_master_bedroom
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_master_bedroom
                title: Master Bedroom Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.master_bedroom_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Ethan
      - entity: group.lights_ethan
      - temperature: sensor.ethan_temperature
      - icon: mdi:robot
      - icon_color: 76, 175, 80
      - path: ethan
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_ethan
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_ethan
                title: Ethan's Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.ethan_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Emma
      - entity: group.lights_emma
      - temperature: sensor.emma_temperature
      - icon: mdi:unicorn-variant
      - icon_color: 156, 39, 176
      - path: emma
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_emma
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_emma
                title: Emma's Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.emma_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Guest
      - entity: light.guest_room
      - temperature: sensor.guest_room_temperature
      - icon: mdi:account
      - icon_color: 244, 67, 54
      - path: guest-room
      - chips:
        - entity: light.guest_room
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: none
          type: template
        - entity: binary_sensor.guest_room_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Garage
      - entity: light.garage
      - temperature: sensor.garage_multisensor_air_temperature
      - icon: '{% if is_state(entity, ''open'') %}mdi:garage-open-variant{% elif states(entity)
          in [''opening'', ''closing''] %}mdi:garage-alert-variant{% else %}mdi:garage-variant{%
          endif %}'
      - icon_color: 96, 125, 139
      - path: garage
      - chips:
        - chip:
            card_mod:
              style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                \ phase 1.5s ease-out infinite;\n}"
            entity: cover.garage_door
            icon: "{%- if is_state(entity, \"open\") -%}\n  mdi:garage-open-variant\n\
              {%- elif states(entity) in [\"opening\", \"closing\"] -%}\n  mdi:garage-alert-variant\n\
              {%- endif -%}"
            icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif states(entity)\
              \ in [\"opening\", \"closing\"]  %}\n  orange\n{% endif %}"
            tap_action:
              action: none
            type: template
          conditions:
          - entity: cover.garage_door
            state: open
          - entity: cover.garage_door
            state: opening
          - entity: cover.garage_door
            state: closing
          type: conditional
        - entity: light.garage
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: none
          type: template
        - entity: binary_sensor.garage_occupancy
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Outside
      - entity: group.lights_outside
      - temperature: sensor.openweathermap_temperature
      - icon: mdi:spa
      - icon_color: 139, 195, 74
      - path: outside
      - chips:
        - card_mod:
            style:
              .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
                \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
                \ | count }}\";\n  position: absolute;\n  color: var(--amber-color);\n\
                \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size:\
                \ 12px;\n}\n{% endif %}\n"
          entity: group.lights_outside
          icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-on", "mdi:lightbulb")
            }}'
          icon_color: '{{ iif(is_state(entity, "on"), "amber", "disabled") }}'
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: light_group_popup
                  type: custom:decluttering-card
                  variables:
                  - entity: group.lights_outside
                title: Outside Lights
              service: browser_mod.popup
          type: template
        - entity: binary_sensor.doorbell_human
          icon: '{{ iif(is_state(entity, "on"), "mdi:motion-sensor", "mdi:walk") }}'
          icon_color: '{{ iif(is_state(entity, "on"), "blue", "disabled") }}'
          tap_action:
            action: none
          type: template
    - template: room_card
      type: custom:decluttering-card
      variables:
      - primary: Utility
      - entity: ''
      - temperature: sensor.water_main_air_temperature
      - icon: mdi:progress-wrench
      - icon_color: 121, 85, 72
      - path: utility
      - chips:
        - chip:
            card_mod:
              style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                \ phase 1.5s ease-out infinite;\n}\n"
            icon: mdi:valve-closed
            icon_color: red
            tap_action:
              action: none
            type: template
          conditions:
          - entity: switch.water_main
            state: 'off'
          type: conditional
        - chip:
            card_mod:
              style: "@keyframes phase {\n  50% {opacity: 0;}\n}\nha-card {\n  animation:\
                \ phase 1.5s ease-out infinite;\n}\n"
            icon: mdi:water
            icon_color: blue
            tap_action:
              action: none
            type: template
          conditions:
          - entity: binary_sensor.water_leak_detected
            state: 'on'
          type: conditional
        - icon: "{% set zone = expand(\"switch.rachio_zones\") | selectattr(\"state\"\
            , \"==\", \"on\") | map(attribute=\"entity_id\") | list %}\n{% if zone[0]\
            \ is defined %}\n  {% set id = state_attr(zone[0], \"Zone number\") %}\n\
            \  mdi:numeric-{{ id }}-circle\n{% endif %}"
          icon_color: light-blue
          tap_action:
            action: none
          type: template
    columns: 2
    square: false
    type: grid
  - cards:
    - card:
        cards:
        - title: XMas
          type: custom:mushroom-title-card
        - cards:
          - double_tap_action:
              action: more-info
            entity: light.xmas_tree
            hold_action:
              action: toggle
            icon: mdi:pine-tree
            name: Tree
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: light_wled_popup
                    type: custom:decluttering-card
                    variables:
                    - light: light.xmas_tree
                    - effect: select.xmas_tree_effect
                  title: Tree
                service: browser_mod.popup
            type: custom:mushroom-light-card
          - double_tap_action:
              action: more-info
            entity: light.wled_mario_star
            hold_action:
              action: toggle
            icon: mdi:star-face
            name: Star
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    template: light_wled_popup
                    type: custom:decluttering-card
                    variables:
                    - light: light.wled_mario_star
                    - effect: select.mario_star_effect
                  title: Star
                service: browser_mod.popup
            type: custom:mushroom-light-card
          - entity: switch.xmas_light
            icon: mdi:string-lights
            name: Outside
            type: custom:mushroom-light-card
          columns: 3
          square: false
          type: grid
        type: vertical-stack
      conditions:
      - entity: binary_sensor.is_xmas
        state: 'on'
      type: conditional
    type: vertical-stack
  icon: mdi:home
  layout:
    max_cols: 1
  path: main
  theme: Backend-selected
  title: Main
  type: custom:vertical-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Living Room
    - icon: mdi:sofa-single
    - icon_color: orange
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.home_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.home_temperature
        type: entity
      - entity: sensor.home_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_living_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - double_tap_action:
        action: more-info
      entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.hallway_light
        layout: vertical
        name: Hallway
        secondary_info: none
        type: custom:mushroom-light-card
      - entity: switch.front_entry_light
        layout: vertical
        name: Entry
        secondary_info: none
        type: custom:mushroom-light-card
      - entity: switch.garage_entry_light
        layout: vertical
        name: Garage Entry
        secondary_info: none
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: fan.living_room
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:dots-horizontal-circle
          icon_color: blue
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                - label: Message
                  name: message
                  selector:
                    select:
                      custom_value: true
                      options:
                      - label: Snack Time
                        value: It's time for snacks!
                      - label: Lunch Time
                        value: Hey, come get some lunch!
                      - label: Dinner Time
                        value: It's time for dinner.
                right_button: Send
                right_button_action:
                  data:
                    media_player: media_player.living_room_speaker
                    volume: 80
                  service: script.media_play
                title: Send Message
              service: browser_mod.popup
          type: template
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.living_room_universal
                  - shield: media_player.living_room_shield
                title: Living Room Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: media_player.living_room_shield
        icon: mdi:motion-play-outline
        icon_color: "{%- if not is_state(entity, \"off\") -%}\n  green\n{%- else -%}\n\
          \  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data: {}
          service: media_player.turn_on
          target:
            entity_id: media_player.living_room_shield
        type: custom:mushroom-template-card
      - card:
          entity: media_player.living_room_shield
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: media_player.turn_off
            target:
              entity_id: media_player.living_room_shield
          type: custom:mushroom-template-card
        conditions:
        - entity: media_player.living_room_shield
          state_not: 'off'
        type: conditional
      columns: 2
      square: false
      type: grid
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - name: Living Room
        - entity: media_player.living_room_universal
        - sound_entity: media_player.yamaha_rx_v679
        - sound_mode: select.yamaha_sound_mode
      conditions:
      - entity: media_player.living_room_universal
        state_not: 'off'
      type: conditional
    - entity: media_player.living_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      type: custom:mini-media-player
    type: vertical-stack
  icon: mdi:sofa-single
  layout:
    max_cols: 2
  path: living
  theme: Backend-selected
  title: Living
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Family Room
    - icon: mdi:gamepad-circle
    - icon_color: yellow
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.family_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.family_room_temperature
        type: entity
      - entity: binary_sensor.quest_interactive
        icon: fapro:meta
        icon_color: blue
        name: Quest
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_family_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.stair_light
        name: Stairs
        type: custom:mushroom-light-card
      - entity: script.family_room_game_light_mode
        icon: mdi:light-flood-up
        icon_color: "{%- if is_state(entity, \"on\") -%}\n  amber\n{%- else -%}\n\
          \  grey\n{%- endif -%}"
        primary: Game Lighting
        secondary: Set lighting for Games
        tap_action:
          action: call-service
          service: script.family_room_game_light_mode
          target: {}
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:dots-horizontal-circle
          icon_color: blue
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                - label: Message
                  name: message
                  selector:
                    select:
                      custom_value: true
                      options:
                      - label: Snack Time
                        value: It's snack time!
                      - label: Lunch Time
                        value: Hey, come get some lunch.
                      - label: Dinner Time
                        value: Head up-stairs, it's time for dinner.
                      - label: Ethan up-stairs
                        value: Hey Ethan, come up-stairs please.
                      - label: Emma up-stairs
                        value: Hey Emma, come up-stairs please.
                      - label: Kids up-stairs
                        value: Hey kids, come up-stairs please.
                right_button: Send
                right_button_action:
                  data:
                    media_player: media_player.family_room_speaker
                    volume: 90
                  service: script.media_play
                title: Send Message
              service: browser_mod.popup
          type: template
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.family_room_universal
                  - shield: media_player.family_room_shield
                title: Family Room Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: remote.family_room
        icon: mdi:motion-play-outline
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Shield TV\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data:
            activity: Shield TV
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: mdi:desktop-tower
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Computer\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PC
        tap_action:
          action: call-service
          data:
            activity: Computer
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: fapro:ps4
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"PS4\") -%}\n\
          \  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PS4
        tap_action:
          action: call-service
          data:
            activity: PS4
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: fapro:ps3
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"PS3\") -%}\n\
          \  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: PS3
        tap_action:
          action: call-service
          data:
            activity: PS3
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - entity: remote.family_room
        icon: mdi:microsoft-xbox
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"XBox\")\
          \ -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: XBox
        tap_action:
          action: call-service
          data:
            activity: XBox
          service: remote.turn_on
          target:
            entity_id: remote.family_room
        type: custom:mushroom-template-card
      - card:
          entity: remote.family_room
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: remote.turn_off
            target:
              entity_id: remote.family_room
          type: custom:mushroom-template-card
        conditions:
        - entity: remote.family_room
          state: 'on'
        type: conditional
      columns: 3
      square: false
      type: grid
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - name: Family Room
        - entity: media_player.family_room_universal
        - sound_entity: media_player.denon_avr_s760h
        - sound_mode: select.denon_sound_mode
      conditions:
      - entity: sensor.family_room_denon_source
        state: Shield
      type: conditional
    - card:
        artwork: cover
        entity: media_player.playstation_4
        hide:
          controls: true
          mute: true
          power: true
          volume: true
        info: scroll
        type: custom:mini-media-player
      conditions:
      - entity: sensor.family_room_denon_source
        state: PS4
      type: conditional
    - card:
        entity: media_player.denon_avr_s760h
        hide:
          controls: true
          power: true
          source: true
        icon: mdi:audio-video
        shortcuts:
          attribute: source
          buttons:
          - icon: mdi:motion-play-outline
            id: Shield
            type: source
          - icon: mdi:desktop-tower
            id: Computer
            type: source
          - icon: fapro:ps4
            id: PS4
            type: source
          - icon: fapro:ps3
            id: PS3
            type: source
          - icon: mdi:microsoft-xbox
            id: XBox
            type: source
          columns: 5
        type: custom:mini-media-player
      conditions:
      - entity: sensor.family_room_denon_source
        state_not: 'off'
      type: conditional
    - entity: media_player.family_room_speaker
      hide:
        power: true
      icon: mdi:dots-horizontal-circle
      info: scroll
      name: Google Home
      type: custom:mini-media-player
    type: vertical-stack
  - cards:
    - title: Dreamscreen
      type: custom:mushroom-title-card
    - cards:
      - entity: dreamscreen.family_room
        icon: mdi:television
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 1) -%}\n  purple\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Video
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 1
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:music-note
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 2) -%}\n  blue\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Music
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 2
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      - entity: dreamscreen.family_room
        icon: mdi:lightbulb-on
        icon_color: "{%- if is_state_attr(entity, \"device_mode\", 3) -%}\n  amber\n\
          {%- else -%}\n  grey\n{%- endif -%}"
        primary: Ambient
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 3
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      type: horizontal-stack
    - card:
        entity: dreamscreen.family_room
        icon: mdi:power
        icon_color: red
        primary: Power
        tap_action:
          action: call-service
          data:
            entity_id: dreamscreen.family_room
            mode: 0
          service: dreamscreen.set_mode
          target:
            entity_id: dreamscreen.family_room
        type: custom:mushroom-template-card
      conditions:
      - entity: dreamscreen.family_room
        state: 'on'
      type: conditional
    - card:
        entity: input_select.dreamscreen_family_room_scene
        icon_color: amber
        layout: horizontal
        name: Ambient Scene
        secondary_info: none
        type: custom:mushroom-select-card
      conditions:
      - entity: sensor.ds_family_room_mode
        state: Ambient
      type: conditional
    type: vertical-stack
  icon: mdi:gamepad-circle
  layout:
    max_cols: 2
  path: family
  theme: Backend-selected
  title: Family
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Office
    - icon: mdi:chair-rolling
    - icon_color: blue
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.office_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.office_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: pink
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: cyan
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_office
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_office
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - double_tap_action:
        action: more-info
      entity: light.office_light
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_light
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - double_tap_action:
        action: more-info
      entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - double_tap_action:
        action: more-info
      entity: light.office_desk_led
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_desk_led
              - effect: select.office_desk_led_effect
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: switch.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - entity: media_player.office_speaker
    hide:
      power: true
    icon: mdi:dots-horizontal-circle
    info: scroll
    name: Google Home
    type: custom:mini-media-player
  icon: mdi:chair-rolling
  layout:
    max_cols: 1
  path: office
  theme: Backend-selected
  title: Office
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Kitchen
    - icon: mdi:fridge-variant
    - icon_color: cyan
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.kitchen_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.kitchen_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_kitchen
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.dining_room_light
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:fridge-variant
  layout:
    max_cols: 1
  path: kitchen
  theme: Backend-selected
  title: Kitchen
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Master Bedroom
    - icon: mdi:bed-king
    - icon_color: deep-purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.master_bedroom_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.master_bedroom_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_master_bedroom
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - double_tap_action:
        action: more-info
      entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - entity: fan.master_bedroom
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Media
      - chips:
        - icon: mdi:remote-tv
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  template: shield_remote
                  type: custom:decluttering-card
                  variables:
                  - universal: media_player.master_bedroom_universal
                  - shield: media_player.master_bedroom_shield
                title: Master Bedroom Remote
              service: browser_mod.popup
          type: template
    - cards:
      - entity: remote.master_bedroom
        icon: mdi:motion-play-outline
        icon_color: "{%- if is_state_attr(entity, \"current_activity\", \"Shield TV\"\
          ) -%}\n  green\n{%- else -%}\n  grey\n{%- endif -%}"
        primary: Shield
        tap_action:
          action: call-service
          data:
            activity: Shield TV
          service: remote.turn_on
          target:
            entity_id: remote.master_bedroom
        type: custom:mushroom-template-card
      - card:
          entity: remote.master_bedroom
          icon: mdi:power
          icon_color: red
          primary: Power
          tap_action:
            action: call-service
            service: remote.turn_off
            target:
              entity_id: remote.master_bedroom
          type: custom:mushroom-template-card
        conditions:
        - entity: remote.master_bedroom
          state: 'on'
        type: conditional
      columns: 2
      square: false
      type: grid
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - name: Master Bedroom
        - entity: media_player.master_bedroom_universal
        - buttons:
          - icon: mdi:plex
            id: com.plexapp.android
            name: Plex
            type: source
          - icon: mdi:netflix
            id: com.netflix.ninja
            name: Netflix
            type: source
          - icon: fab:amazon
            id: com.amazon.amazonvideo.livingroom
            name: Prime
            type: source
          - icon: mdi:youtube
            id: com.google.android.youtube.tv
            name: YouTube
            type: source
          - icon: mdi:spotify
            id: com.spotify.tv.android
            name: Spotify
            type: source
          - icon: mdi:twitch
            id: tv.twitch.android.viewer
            name: Twitch
            type: source
          - icon: fapro:crunchyroll
            id: com.crunchyroll.crunchyroid
            name: Crunchyroll
            type: source
          - icon: mdi:apps
            id: com.spocky.projengmenu
            name: Home
            type: source
      conditions:
      - entity: remote.master_bedroom
        state_not: 'off'
      type: conditional
    type: vertical-stack
  icon: mdi:bed-king
  layout:
    max_cols: 1
  path: master
  theme: Backend-selected
  title: Master
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ethan
    - icon: mdi:robot
    - icon_color: green
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.ethan_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.ethan_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_ethan
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.ethans_lamp
      name: Lamp
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:robot
  layout:
    max_cols: 1
  path: ethan
  theme: Backend-selected
  title: Ethan
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Emma
    - icon: mdi:unicorn-variant
    - icon_color: purple
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.emma_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.emma_temperature
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_emma
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:unicorn-variant
  layout:
    max_cols: 1
  path: emma
  theme: Backend-selected
  title: Emma
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Guest
    - icon: mdi:account
    - icon_color: red
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.guest_room_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.guest_room_temperature
        type: entity
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.guest_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:account
  layout:
    max_cols: 1
  path: guest-room
  theme: Backend-selected
  title: Guest Room
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Garage
    - icon: '{% if is_state(''cover.garage_door'', ''open'') %}mdi:garage-open-variant{%
        elif states(''cover.garage_door'') in [''opening'', ''closing''] %}mdi:garage-alert-variant{%
        else %}mdi:garage-variant{% endif %}'
    - icon_color: blue-grey
    - chips:
      - content: '{{ iif(is_state(entity, "on"), "Detected", "Clear") }}'
        entity: binary_sensor.garage_occupancy
        icon: '{{ iif(is_state(entity, "on"), "mdi:home-circle", "mdi:circle-off-outline")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "") }}'
        tap_action:
          action: more-info
        type: template
      - entity: sensor.garage_multisensor_air_temperature
        type: entity
      - entity: sensor.garage_multisensor_humidity
        type: entity
      - content: '{{ states(entity) }}%'
        entity: sensor.garage_multisensor_illuminance
        icon: mdi:brightness-6
        type: template
  - cards:
    - title: Lights
      type: custom:mushroom-title-card
    - entity: light.garage
      name: Light
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - entity: cover.garage_door
      icon: "{% if is_state(entity, \"open\") %}\n  mdi:garage-open-variant\n{% elif\
        \ is_state(entity, \"opening\") %}\n  mdi:garage-alert-variant\n{% elif is_state(entity,\
        \ \"closed\") %}\n  mdi:garage-variant\n{% else %}\n  mdi:garage-alert-variant\n\
        {% endif %}"
      icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif is_state(entity,\
        \ \"opening\") %}\n  amber\n{% elif is_state(entity, \"closed\") %}\n  green\n\
        {% else %}\n  mdi:garage-alert-variant\n{% endif %}"
      multiline_secondary: true
      primary: Garage Door
      secondary: "{% from \"util.jinja\" import custom_timedelta %} {%- if is_state(entity,\
        \ \"open\") %}\n  Open\n{%- elif is_state(entity, \"opening\") %}\n  Opening\n\
        {%- elif is_state(entity, \"closed\") %}\n  Closed\n{%- else %}\n  Unknown\n\
        {%- endif %}\n{{ custom_timedelta(entity) }}"
      tap_action:
        action: none
      type: custom:mushroom-template-card
    - entity: cover.garage_door
      icon_type: none
      name: Garage Door
      primary_info: none
      secondary_info: none
      show_buttons_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-cover-card
    horizontal: true
    type: custom:vertical-stack-in-card
  - card_mod:
      style: "ha-card {\n  height: 85px;\n}\n"
    cards:
    - entity: binary_sensor.opengarage_vehicle_present
      icon: fapro:subaru
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- else -%}\n  red\n\
        {%- endif -%}"
      primary: Ascent {{ "not" if not is_state(entity, "on") }} in Garage
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - alignment: end
      card_mod:
        style: "ha-card {\n  --chip-box-shadow: none;\n  --chip-background: none;\n\
          \  --chip-spacing: 0;\n  --chip-avatar-padding: 0.2375em;\n  top: -20px\n\
          }\n"
      chips:
      - entity: sensor.opengarage_distance
        icon: mdi:arrow-collapse-vertical
        type: entity
      - entity: sensor.opengarage_rssi
        type: entity
      type: custom:mushroom-chips-card
    type: custom:vertical-stack-in-card
  icon: mdi:garage-variant
  layout:
    max_cols: 1
  path: garage
  theme: Backend-selected
  title: Garage
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Outside
    - icon: mdi:spa
    - icon_color: light-green
    - chips:
      - entity: sensor.openweathermap_temperature
        type: entity
      - entity: sensor.openweathermap_humidity
        type: entity
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Lights
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_outside
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.outside_side_light
        name: Side
        type: custom:mushroom-light-card
      - entity: switch.outside_back_light
        name: Back
        type: custom:mushroom-light-card
      - entity: switch.xmas_light
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:spa
  layout:
    max_cols: 1
  path: outside
  theme: Backend-selected
  title: Outside
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Utility
    - icon: mdi:progress-wrench
    - icon_color: brown
    - chips:
      - entity: sensor.water_main_air_temperature
        type: entity
  - cards:
    - title: Water
      type: custom:mushroom-title-card
    - card:
        type: vertical-stack
      card_param: cards
      filter:
        exclude:
        - entity_id: binary_sensor.water_leak_detected
        - state: 'off'
        - state: unavailable
        - state: unknown
        include:
        - attributes:
            device_class: moisture
          entity_id: binary_sensor.*leak*
          options:
            type: custom:mushroom-entity-card
      sort:
        method: state
      type: custom:auto-entities
    - entity: switch.water_main
      hold_action:
        action: toggle
      icon: "{%- if is_state(entity, \"on\") -%}\n  mdi:valve-open\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  mdi:valve-closed\n{%- else -%}\n  mdi:valve\n{%- endif -%}"
      icon_color: "{%- if is_state(entity, \"on\") -%}\n  green\n{%- elif is_state(entity,\
        \ \"off\") -%}\n  red\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: Water Main Valve
      secondary: "{%- if is_state(entity, \"on\") -%}\n  Press and Hold to close\n\
        {%- elif is_state(entity, \"off\") -%}\n  Press and Hold to open\n{%- endif\
        \ -%}"
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    - animation:
        state: 'on'
      decimal: 1
      entities:
      - entity: sensor.salt_level
        name: Water Softener Salt Level
      name: Water Softener Salt Level
      positions:
        indicator: inside
      severity:
      - color: var(--red-color)
        from: 0
        to: 20
      - color: var(--orange-color)
        from: 20
        to: 40
      - color: var(--amber-color)
        from: 40
        to: 60
      - color: var(--light-green-color)
        from: 60
        to: 80
      - color: var(--green-color)
        from: 80
        to: 100
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - title: Sprinklers
      type: custom:mushroom-title-card
    - cards:
      - entity: switch.rachio_zone_1
        hold_action:
          action: toggle
        name: 1 | Front North
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_2
        hold_action:
          action: toggle
        name: 2 | Front Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_3
        hold_action:
          action: toggle
        name: 3 | North Fence
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_4
        hold_action:
          action: toggle
        name: 4 | Back Middle
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_5
        hold_action:
          action: toggle
        name: 5 | Back South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_6
        hold_action:
          action: toggle
        name: 6 | Front South
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_zone_7
        hold_action:
          action: toggle
        name: 7 | Flower Beds
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      - entity: switch.rachio_standby_mode
        hold_action:
          action: toggle
        icon_color: amber
        name: Standby
        tap_action:
          action: more-info
        type: custom:mushroom-entity-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:progress-wrench
  layout:
    max_cols: 1
  path: utility
  theme: Backend-selected
  title: Utility
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Ascent
    - secondary: Press and Hold to Activate Actions
    - icon: fapro:subaru
    - icon_color: blue
    - chips:
      - entity: sensor.ascent_odometer
        type: entity
      - entity: sensor.ascent_avg_fuel_consumption
        type: entity
  - animation:
      state: 'on'
    decimal: 1
    entities:
    - entity: sensor.ascent_range
    height: 24px
    max: 345
    name: Range
    positions:
      icon: inside
      indicator: inside
    severity:
    - color: var(--red-color)
      from: 0
      to: 20
    - color: var(--orange-color)
      from: 20
      to: 40
    - color: var(--amber-color)
      from: 40
      to: 60
    - color: var(--light-green-color)
      from: 60
      to: 200
    - color: var(--green-color)
      from: 200
      to: 400
    style: "ha-card {\n  background: none;\n}\n#states {\n  padding: 8px 2px;\n}\n\
      bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
      }\nbar-card-backgroundbar {\n  background-color: var(--primary-background-color);\n\
      }"
    type: custom:bar-card
  - cards:
    - title: Actions
      type: custom:mushroom-title-card
    - cards:
      - entity: script.subaru_remote_start
        hold_action:
          action: call-service
          service: script.turn_on
          target:
            entity_id: script.subaru_remote_start
        icon: mdi:key-wireless
        icon_color: amber
        primary: Start Car
        secondary: Open the Garage and Start the Ascent
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - bar_background: var(--disabled-color)
        bar_direction: rtl
        compressed: true
        entities:
        - entity: timer.subaru_remote_start
          name: Timer
        filter: true
        invert: true
        type: custom:timer-bar-card
      type: custom:vertical-stack-in-card
    - entity: select.ascent_climate_preset
      icon_color: pink
      layout: horizontal
      name: Climate Preset
      secondary_info: none
      type: custom:mushroom-select-card
    - cards:
      - entity: lock.ascent_door_locks
        hold_action:
          action: call-service
          service: lock.lock
          target:
            entity_id: lock.ascent_door_locks
        icon: mdi:lock
        icon_color: grey
        primary: Lock
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: lock.ascent_door_locks
        hold_action:
          action: call-service
          service: lock.unlock
          target:
            entity_id: lock.ascent_door_locks
        icon: mdi:lock-open
        icon_color: grey
        primary: Unlock
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_remote_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_remote_start
        icon: mdi:key-wireless
        icon_color: grey
        primary: Remote Start
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_remote_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_remote_stop
        icon: mdi:stop-circle-outline
        icon_color: grey
        primary: Remote Stop
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_lights_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_lights_start
        icon: mdi:lightbulb-on
        icon_color: grey
        primary: Flash Lights
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_lights_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_lights_stop
        icon: mdi:lightbulb-off
        icon_color: grey
        primary: Stop Flash Lights
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_horn_start
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_horn_start
        icon: mdi:volume-high
        icon_color: grey
        primary: Sound Horn
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_horn_stop
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_horn_stop
        icon: mdi:volume-off
        icon_color: grey
        primary: Stop Horn
        tap_action:
          action: none
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Location
      type: custom:mushroom-title-card
    - cards:
      - entity: device_tracker.ascent_location
        icon_type: entity-picture
        name: Location
        primary_info: state
        secondary_info: none
        type: custom:mushroom-person-card
      - entity: binary_sensor.opengarage_vehicle_present
        icon: fapro:subaru
        icon_color: '{{ iif(is_state(entity, "on"), "green", "red") }}'
        primary: '{{ iif(is_state(entity, "on"), "In Garage", "Not in Garage") }}'
        tap_action:
          action: more-info
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    - aspect_ratio: '4:3'
      card_mod:
        style:
          .: "ha-card {\n  /* Remove default card styling without affecting child\
            \ elements */\n  box-shadow: none;\n  border-width: 0;\n  border-radius:\
            \ 0px 0px var(--ha-card-border-radius, 12px) var(--ha-card-border-radius,\
            \ 12px);\n  transition: all 0s;\n}\n:host {\n  /* Define Person State\
            \ colors. Can be added to theme */\n  --state-person-home: var(--green-color);\n\
            \  --state-person-not-home: var(--red-color);\n  --state-person-zone:\
            \ var(--blue-color);\n  --state-person-unknown: var(--grey-color);\n\n\
            \  /* Set person state color */\n  --state-person:\n  {% if is_state(config.entities[0].entity,\
            \ ['home', 'not_home', 'unknown']) %}\n    var(--state-person-{{ states(config.entities[0].entity)\
            \ | replace('_', '-') }})\n  {% else %}\n    var(--state-person-zone)\n\
            \  {% endif %};\n}\nha-icon-button {\n  /* Position center button */\n\
            \  bottom: 12px;\n  left: 12px !important;\n  top: auto !important;\n\n\
            \  /* Style center button to match Chip */\n  color: var(--deep-orange-color)\
            \ !important;\n  background: color-mix(in srgb, var(--deep-orange-color)\
            \ 20%, transparent);\n  border-radius: var(--mush-chip-border-radius,\
            \ 19px);\n  border: var(--ha-card-border-width, 1px) solid var(--ha-card-border-color,\
            \ var(--divider-color, #e0e0e0)) !important;\n}\n"
          ha-icon-button $ mwc-icon-button $: "button {\n  /* Size center button to\
            \ match Chip */\n  height: var(--mush-chip-height, 36px) !important;\n\
            \  width: var(--mush-chip-height, 36px) !important;\n  --mdc-icon-size:\
            \ 22px;\n}\n"
          ha-map $: "path:first-child {\n  /* Style accuracy radius */\n  stroke:\
            \ var(--state-person);\n  fill: color-mix(in srgb, var(--state-person)\
            \ 50%, transparent);\n  stroke-width: 0px;\n}\npath:nth-child(even) {\n\
            \  /* Styling for waypoints */\n  stroke: var(--purple-color);\n  stroke-width:\
            \ 4px;\n}\npath:nth-child(odd):not(:first-child) {\n  /* Styling for lines\
            \ */\n  stroke: var(--purple-color);\n  stroke-width: 4px;\n}\n.leaflet-control-attribution\
            \ {\n  /* Style attribution text */\n  background: rgba(var(--rgb-card-background-color),\
            \ 0.4) !important;\n  font-size: 10px;\n}\n.leaflet-container a {\n  /*\
            \ Set color of zoom icons & attribution text */\n  color: var(--secondary-text-color);\n\
            }\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out {\n  /* Style\
            \ zoom buttons like Chips */\n  border-radius: var(--mush-chip-border-radius,\
            \ 19px) !important;\n  padding: 3px;\n  background: rgb(var(--rgb-secondary-text-color),\
            \ 0.2) !important;\n  margin: 8px 12px 0px;\n  border: var(--ha-card-border-width,\
            \ 1px) solid var(--ha-card-border-color, var(--divider-color, #e0e0e0))\
            \ !important;\n}\n.leaflet-top {\n  /* Move zoom buttons to bottom of\
            \ map */\n  bottom: 0px !important;\n}\n.leaflet-control-zoom {\n  /*\
            \ Allow buttons to be moved */\n  position: absolute !important;\n\n \
            \ /* Adjust spacing for border */\n  bottom: calc(2 * var(--ha-card-border-width,\
            \ 1px) + 56px);\n\n  /* Remove extra margin */\n  margin: 0px !important;\n\
            \n  /* Remove zoom control border */\n  border: none !important;\n}\n\
            .leaflet-container:after {\n  /* Fade out map at top */\n  content: \"\
            \";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background:\
            \ linear-gradient(to top, transparent 65%, var(--card-background-color));\n\
            }\n"
          ha-map $ ha-entity-marker $: ".marker {\n  /* Style person marker & adjust\
            \ position to avoid blocking waypoints */\n  border: 3px solid var(--state-person)\
            \ !important;\n  border-radius: 50% 50% 50% 0px !important;\n  transform:\
            \ rotate(-45deg) translate(50%, -50%);\n  overflow: visible !important;\n\
            \  background: var(--state-person) !important;\n}\n.entity-picture {\n\
            \  /* Correct orientation of person avatar */\n  transform: rotate(45deg);\n\
            \  border-radius: 50%;\n}\n"
      default_zoom: 12
      entities:
      - entity: device_tracker.ascent_location
      hours_to_show: 24
      type: map
    type: vertical-stack
  - card:
      cards:
      - title: Doors
        type: custom:mushroom-title-card
      - card:
          columns: 1
          square: false
          type: grid
        card_param: cards
        filter:
          exclude:
          - state: 'off'
          - state: unavailable
          include:
          - entity_id: binary_sensor.ascent_*_door
            options:
              type: custom:mushroom-entity-card
        type: custom:auto-entities
      type: vertical-stack
    conditions:
    - entity: binary_sensor.ascent_doors_windows
      state: 'on'
    type: conditional
  - cards:
    - title: Tire Pressure
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.ascent_tire_pressure_fl
        max: 40
        min: 25
        name: Front Left
        needle: true
        segments:
        - color: var(--red-color)
          from: 25
        - color: var(--yellow-color)
          from: 28
        - color: var(--green-color)
          from: 30
        - color: var(--yellow-color)
          from: 35
        - color: var(--red-color)
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_fr
        max: 40
        min: 25
        name: Front Right
        needle: true
        segments:
        - color: var(--red-color)
          from: 25
        - color: var(--yellow-color)
          from: 28
        - color: var(--green-color)
          from: 30
        - color: var(--yellow-color)
          from: 35
        - color: var(--red-color)
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_rl
        max: 40
        min: 25
        name: Rear Left
        needle: true
        segments:
        - color: var(--red-color)
          from: 25
        - color: var(--yellow-color)
          from: 28
        - color: var(--green-color)
          from: 30
        - color: var(--yellow-color)
          from: 35
        - color: var(--red-color)
          from: 37
        type: gauge
      - entity: sensor.ascent_tire_pressure_rr
        max: 40
        min: 25
        name: Rear Right
        needle: true
        segments:
        - color: var(--red-color)
          from: 25
        - color: var(--yellow-color)
          from: 28
        - color: var(--green-color)
          from: 30
        - color: var(--yellow-color)
          from: 35
        - color: var(--red-color)
          from: 37
        type: gauge
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Update Data
      type: custom:mushroom-title-card
    - cards:
      - entity: button.ascent_refresh
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_refresh
        icon: mdi:refresh
        icon_color: grey
        primary: Refresh
        secondary: Get from server
        tap_action:
          action: none
        type: custom:mushroom-template-card
      - entity: button.ascent_locate
        hold_action:
          action: call-service
          service: button.press
          target:
            entity_id: button.ascent_locate
        icon: mdi:car-connected
        icon_color: grey
        primary: Poll
        secondary: Get instant data
        tap_action:
          action: none
        type: custom:mushroom-template-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: fapro:subaru
  layout:
    max_cols: 2
  path: subaru
  theme: Backend-selected
  title: Subaru
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Computers
    - secondary: Press and Hold to Activate Actions
    - icon: mdi:desktop-tower
    - icon_color: grey
    - chips:
      - card_mod:
          style:
            .: "{% from \"util.jinja\" import computer_count %}\n{% if (computer_count()\
              \ | int) > 0 %}\nha-card:after {\n  content: \"{{ computer_count() |\
              \ int }}\";\n  position: absolute;\n  color: var(--teal-color);\n  font-weight:\
              \ bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n}\n{% endif\
              \ %}\n"
        icon: mdi:desktop-tower
        icon_color: '{% from "util.jinja" import computer_count %} {{ "teal" if computer_count()
          | int > 0 else "disabled" }}'
        tap_action:
          action: none
        type: template
      - card_mod:
          style: "ha-card {\n{% if is_state(config.entity, \"online\") %}\n  --chip-background:\
            \ rgba(var(--rgb-green), 0.8);\n{% endif %}\n  --chip-height: 30px;\n\
            \  margin-top: 3px;\n  margin-left: 10px;\n}\n{% if is_state(config.entity,\
            \ \"offline\") %}\n.avatar {\n  filter: grayscale(100%);\n}\n{% endif\
            \ %}\n"
        content: '{{ iif(is_state(config.entity, "online"), "Online") }}'
        entity: sensor.steam_zanix
        picture: '{{ state_attr(entity, "entity_picture") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  background: none;\n}\n"
                entity: sensor.steam_zanix
                game_background: true
                type: custom:kb-steam-card
              title: Steam
            service: browser_mod.popup
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Erebus
      - subtitle: R5-5600X | RX 580 | 650W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.erebus_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.erebus_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.erebus_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.erebus_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.erebus_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.erebus_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.erebus_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.erebus
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: erebus
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.erebus
        - sound_entity: media_player.erebus
        - buttons: []
      conditions:
      - entity: media_player.erebus
        state_not: unavailable
      - entity: media_player.erebus
        state_not: 'off'
      type: conditional
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Nasya
      - subtitle: i7-1260P | RTX 3050 Ti | 100W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.nasya_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.nasya_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.nasya_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.nasya_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.nasya_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.nasya_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.nasya_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.nasya_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.nasya_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.nasya
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: nasya
    - card:
        animation:
          state: 'on'
        decimal: 0
        entities:
        - entity: sensor.nasya_battery_charge_remaining_percentage
        name: Nasya Battery Level
        positions:
          indicator: inside
        severity:
        - color: var(--red-color)
          from: 0
          to: 10
        - color: var(--orange-color)
          from: 10
          to: 30
        - color: var(--amber-color)
          from: 30
          to: 50
        - color: var(--light-green-color)
          from: 50
          to: 80
        - color: var(--green-color)
          from: 80
          to: 100
        style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
          }"
        type: custom:bar-card
      conditions:
      - entity: binary_sensor.nasya_connected
        state_not: unavailable
      - entity: binary_sensor.nasya_connected
        state_not: 'off'
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.nasya
        - sound_entity: media_player.nasya
        - buttons: []
      conditions:
      - entity: media_player.nasya
        state_not: unavailable
      - entity: media_player.nasya
        state_not: 'off'
      type: conditional
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ardena
      - subtitle: R5-5600X | RTX 3080 | 750W
      - chips:
        - card_mod:
            style:
              .: "ha-card {\n  {% if is_state('switch.computer_exhaust_fan', 'on')\
                \ %}\n  animation: rotation 1.5s linear infinite;\n  {% endif %}\n\
                }\n@keyframes rotation {\n  100% {\n    transform: rotate(-360deg);\n\
                \  }\n}\n"
          entity: switch.computer_exhaust_fan
          icon: mdi:fan
          icon_color: '{{ iif(is_state(entity, ''on''), "green", "disabled") }}'
          type: template
        - chip:
            content_info: none
            entity: binary_sensor.ardena_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.ardena_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.ardena_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.ardena_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.ardena_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.ardena_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.ardena_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.ardena_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.ardena
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: ardena
    - card:
        template: computer_apps
        type: custom:decluttering-card
        variables:
        - entity: media_player.ardena
      conditions:
      - entity: binary_sensor.ardena_connected
        state_not: 'off'
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.ardena
        - sound_entity: media_player.ardena
        - buttons: []
      conditions:
      - entity: media_player.ardena
        state_not: unavailable
      - entity: media_player.ardena
        state_not: 'off'
      type: conditional
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Athos
      - subtitle: i5-6500 | GTX 1070 | 500W
      - chips:
        - chip:
            content_info: none
            entity: binary_sensor.athos_mic_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.athos_mic_active
            state: 'on'
          type: conditional
        - chip:
            content_info: none
            entity: binary_sensor.athos_webcam_active
            icon_color: green
            type: entity
          conditions:
          - entity: binary_sensor.athos_webcam_active
            state: 'on'
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.athos_windows_updates_available_software_updates
            icon: mdi:arrow-up-bold-circle
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_software_updates
            state_not: unknown
          type: conditional
        - chip:
            content: '{{ states(entity) | int }}'
            entity: sensor.athos_windows_updates_available_driver_updates
            icon: mdi:cog-refresh
            icon_color: red
            tap_action:
              action: more-info
            type: template
          conditions:
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: '0'
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unavailable
          - entity: sensor.athos_windows_updates_available_driver_updates
            state_not: unknown
          type: conditional
        - entity: button.athos_publish_sensors
          hold_action:
            action: call-service
            data:
              entity: media_player.athos
            service: script.hass_publish_sensors
          icon: mdi:gesture-tap-button
          tap_action:
            action: none
          type: template
    - template: computer_power
      type: custom:decluttering-card
      variables:
      - computer: athos
    - card:
        template: computer_apps
        type: custom:decluttering-card
        variables:
        - entity: media_player.athos
      conditions:
      - entity: binary_sensor.athos_connected
        state_not: 'off'
      type: conditional
    - card:
        template: media_card
        type: custom:decluttering-card
        variables:
        - entity: media_player.athos
        - sound_entity: media_player.athos
        - buttons: []
      conditions:
      - entity: media_player.athos
        state_not: unavailable
      - entity: media_player.athos
        state_not: 'off'
      type: conditional
    type: vertical-stack
  - cards:
    - subtitle: Virtual Reality Headset
      title: Quest 2
      type: custom:mushroom-title-card
    - animation:
        state: 'on'
      decimal: 0
      entities:
      - entity: sensor.quest_battery_level
      name: Quest 2 Battery Level
      positions:
        indicator: inside
      severity:
      - color: var(--red-color)
        from: 0
        to: 10
      - color: var(--orange-color)
        from: 10
        to: 30
      - color: var(--amber-color)
        from: 30
        to: 50
      - color: var(--light-green-color)
        from: 50
        to: 80
      - color: var(--green-color)
        from: 80
        to: 100
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - subtitle: Raspberry Pi 4
      title: Smart Display
      type: custom:mushroom-title-card
    - entity: light.smart_display
      layout: horizontal
      name: Monitor
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:desktop-tower
  layout:
    max_cols: 3
  path: computer
  theme: Backend-selected
  title: Computer
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Climate
    - icon: mdi:thermostat-box
    - icon_color: indigo
    - chips:
      - content: "{% if is_state(entity, \"off\") %}\n  Off\n{% else %}\n  {{ state_attr(\"\
          climate.home\", \"hvac_action\") | capitalize }}\n{% endif %}"
        entity: climate.home
        icon: mdi:thermostat-box
        icon_color: "{% if is_state_attr(entity, \"hvac_action\", \"heating\") %}\n\
          \  red\n{% elif is_state_attr(entity, \"hvac_action\", \"cooling\") %}\n\
          \  light-blue\n{% elif is_state_attr(entity, \"hvac_action\", \"fan\") %}\n\
          \  amber\n{% elif is_state(entity, \"off\") %}\n  grey\n{% else %}\n  blue-grey\n\
          {% endif %}"
        tap_action:
          action: none
        type: template
  - card_mod:
      style: "ha-card {\n  overflow: visible !important;\n}\n"
    cards:
    - card_mod:
        style: "mushroom-shape-icon {\n  {% if is_state(config.entity, 'heat_cool')\
          \ %}\n    --card-mod-icon: mdi:autorenew;\n  {% elif is_state(config.entity,\
          \ 'heat') %}\n    --card-mod-icon: mdi:fire;\n  {% elif is_state(config.entity,\
          \ 'cool') %}\n    --card-mod-icon: mdi:snowflake;\n  {% elif is_state(config.entity,\
          \ 'fan_only') %}\n    --card-mod-icon: mdi:fan;\n  {% else %}\n    --card-mod-icon:\
          \ mdi:air-conditioner;\n  {% endif %}\n  display: flex;\n}\n"
      entity: climate.home
      hvac_modes:
      - heat_cool
      - heat
      - cool
      layout: horizontal
      primary_info: state
      secondary_info: last-updated
      show_temperature_control: true
      tap_action:
        action: more-info
      type: custom:mushroom-climate-card
    - cards:
      - entity: sensor.home_temperature
        icon_color: green
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.home_humidity
        icon_color: blue
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      type: horizontal-stack
    - entity: select.ecobee_preset
      icon_color: cyan
      layout: horizontal
      name: Profile
      secondary_info: none
      type: custom:mushroom-select-card
    - cardName: historycard-ecobee-mode
      graphs:
      - entities:
        - entity: sensor.ecobee_mode
        type: timeline
      header: hide
      labelAreaWidth: 0
      labelsVisible: false
      stateColors:
        Cooling: rgb(33,150,243)
        Fan: rgb(255,235,59)
        Heating: rgb(244,67,54)
        Idle: rgb(100,100,100)
      stateTextMode: auto
      tooltipShowDuration: true
      tooltipSize: slim
      type: custom:history-explorer-card
      uiLayout:
        selector: hide
        toolbar: hide
      uimode: dark
    type: custom:vertical-stack-in-card
  - cards:
    - title: Thermostat Detail
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(158,158,158)
        entity: sensor.home_temperature
        name: Indoor Temp
        yaxis_id: temp
      - attribute: target_temp_high
        color: rgb(33,150,243)
        entity: climate.home
        name: Cool Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: target_temp_low
        color: rgb(255,152,0)
        entity: climate.home
        name: Heat Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - attribute: temperature
        color: rgb(33,150,243)
        entity: climate.home
        name: Setpoint
        stroke_width: 1
        unit: °F
        yaxis_id: temp
      - color: rgb(0,150,136)
        entity: sensor.home_humidity
        name: Indoor Humidity
        yaxis_id: perc
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_humidity
        name: Garage Humidity
        yaxis_id: perc
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
        decimals: 0
        id: temp
        max: ~85
        min: ~65
      - apex_config:
          tickAmount: 4
        decimals: 0
        id: perc
        max: ~50
        min: ~10
        opposite: true
    type: vertical-stack
  - cards:
    - title: Temperatures
      type: custom:mushroom-title-card
    - all_series_config:
        extend_to: now
        stroke_width: 2
        type: line
      apex_config:
        chart:
          foreColor: '#7B7B7B'
          toolbar:
            show: false
        grid:
          borderColor: '#7B7B7B'
        xaxis:
          tooltip:
            enabled: false
      graph_span: 1d
      header:
        colorize_states: true
        show: true
        show_states: true
      series:
      - color: rgb(255,152,0)
        entity: sensor.home_temperature
        name: Home
      - color: rgb(205,220,57)
        entity: sensor.kitchen_temperature
        name: Kitchen
      - color: rgb(103,58,183)
        entity: sensor.master_bedroom_temperature
        name: Master
      - color: rgb(76,175,80)
        entity: sensor.ethan_temperature
        name: Ethan
      - color: rgb(156,39,176)
        entity: sensor.emma_temperature
        name: Emma
      - color: rgb(255,235,59)
        entity: sensor.family_room_temperature
        name: Family Room
      - color: rgb(33,150,243)
        entity: sensor.office_temperature
        name: Office
      - color: rgb(0,188,212)
        entity: sensor.guest_room_temperature
        name: Guest Room
      - color: rgb(121,85,72)
        entity: sensor.water_main_air_temperature
        name: Utility
      - color: rgb(96,125,139)
        entity: sensor.garage_multisensor_air_temperature
        name: Garage
      type: custom:apexcharts-card
      yaxis:
      - apex_config:
          tickAmount: 4
        decimals: 0
        max: ~78
        min: ~65
    type: vertical-stack
  icon: mdi:thermostat-box
  layout:
    max_cols: 2
  path: climate
  theme: Backend-selected
  title: Climate
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Light Control
    - icon: mdi:lightbulb-group
    - icon_color: amber
    - chips:
      - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
          }}'
        entity: group.all_light_switches
        hold_action:
          action: call-service
          service: homeassistant.turn_off
          target:
            entity_id: group.all_light_switches
        icon: '{{ iif(is_state(entity, "on"), "mdi:lightbulb-group", "mdi:lightbulb-group-off")
          }}'
        icon_color: '{{ iif(is_state(entity, "on"), "amber", "grey") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                template: light_group_popup
                type: custom:decluttering-card
                variables:
                - entity: group.all_light_switches
              title: Lights
            service: browser_mod.popup
        type: template
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Living Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_living_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.living_room
      layout: horizontal
      name: Living Room
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.living_room_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.living_room_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.hallway_light
        name: Hallway
        type: custom:mushroom-light-card
      - entity: switch.front_entry_light
        name: Entry
        type: custom:mushroom-light-card
      - entity: switch.garage_entry_light
        name: Garage Entry
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: fan.living_room
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Kitchen
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_kitchen
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.kitchen
      layout: horizontal
      name: Kitchen
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.dining_room_light
      name: Dining
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Office
      - chips:
        - content_info: none
          entity: switch.adaptive_lighting_adapt_brightness_office
          icon: mdi:brightness-auto
          icon_color: amber
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_adapt_color_office
          icon: mdi:palette
          icon_color: pink
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_sleep_mode_office
          icon: mdi:sleep
          icon_color: cyan
          tap_action:
            action: toggle
          type: entity
        - content_info: none
          entity: switch.adaptive_lighting_office
          icon_color: green
          tap_action:
            action: toggle
          type: entity
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_office
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.office_light
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_light
            title: Main
          service: browser_mod.popup
      icon: mdi:lightbulb
      layout: horizontal
      name: Main
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_lamp
            title: Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: light.office_desk_led
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wled_popup
              type: custom:decluttering-card
              variables:
              - light: light.office_desk_led
              - effect: select.office_desk_led_effect
            title: Desk
          service: browser_mod.popup
      icon: mdi:led-strip-variant
      layout: horizontal
      name: Desk
      show_brightness_control: true
      show_color_control: true
      type: custom:mushroom-light-card
      use_light_color: true
    - entity: switch.office_shelf_led
      name: Shelf
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Family Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_family_room
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.family_room
      layout: horizontal
      name: Family Room
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.play_space
      layout: horizontal
      name: Play Space
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.family_room_lamp
      layout: horizontal
      name: Lamp
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.stair_light
      name: Stairs
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Master Bedroom
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_master_bedroom
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.master_bedroom
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: light.master_bedroom_floor_lamp
      hold_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              template: light_wb_popup
              type: custom:decluttering-card
              variables:
              - light: light.master_bedroom_floor_lamp
            title: Floor Lamp
          service: browser_mod.popup
      layout: horizontal
      name: Floor Lamp
      show_brightness_control: true
      show_color_temp_control: true
      type: custom:mushroom-light-card
    - entity: fan.master_bedroom
      icon_animation: true
      layout: horizontal
      name: Fan
      show_percentage_control: true
      type: custom:mushroom-fan-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Ethan's Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_ethan
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.ethan
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    - entity: switch.ethans_lamp
      name: Lamp
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Emma's Room
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_emma
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.emma
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - title: Guest Room
      type: custom:mushroom-title-card
    - entity: light.guest_room
      layout: horizontal
      name: Main
      show_brightness_control: true
      type: custom:mushroom-light-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Outside
      - chips:
        - content: '{{ expand(entity) | selectattr("state", "==", "on") | list | count
            }} / {{ expand(entity) | list | count }}'
          entity: group.lights_outside
          hold_action:
            action: toggle
          tap_action:
            action: more-info
          type: template
    - entity: light.outside_front
      layout: horizontal
      name: Front
      show_brightness_control: true
      type: custom:mushroom-light-card
    - cards:
      - entity: switch.outside_side_light
        name: Side
        type: custom:mushroom-light-card
      - entity: switch.outside_back_light
        name: Back
        type: custom:mushroom-light-card
      - entity: switch.xmas_light
        name: XMas
        type: custom:mushroom-light-card
      columns: 3
      square: false
      type: grid
    - entity: light.garage
      name: Garage
      type: custom:mushroom-light-card
    type: vertical-stack
  icon: mdi:lightbulb-group
  layout:
    max_cols: 3
  path: lights
  theme: Backend-selected
  title: Lights
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Security
    - icon: mdi:shield
    - icon_color: green
    - chips:
      - content: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "Secure", "Not Secure") }}'
        entity: lock.lock_front
        hold_action:
          action: none
        icon: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "mdi:shield-check", "mdi:shield-alert") }}'
        icon_color: '{% from "util.jinja" import security_count %} {{ iif(security_count()
          | int == 0, "green", "red") }}'
        tap_action:
          action: none
        type: template
      - card_mod:
          style:
            .: "{% if is_state(config.entity, \"on\") %}\nha-card:after {\n  content:\
              \ \"{{ expand(config.entity) | selectattr('state', '==', 'on') | list\
              \ | count }}\";\n  position: absolute;\n  color: var(--cyan-color);\n\
              \  font-weight: bolder;\n  top: -2px;\n  right: 2px;\n  font-size: 12px;\n\
              }\n{% endif %}\n"
        entity: group.all_doors
        icon: '{{ iif(is_state(entity, "on"), "mdi:door-open", "mdi:door") }}'
        icon_color: '{{ iif(is_state(entity, "on"), "cyan", "disabled") }}'
        tap_action:
          action: none
        type: template
  - cards:
    - title: Doors
      type: custom:mushroom-title-card
    - cards:
      - card_mod:
          style: "ha-card {\n  {% if is_state(\"lock.lock_front\", \"locked\") and\
            \ is_state(\"binary_sensor.front_door_is_open\", \"off\") %}\n    background:\
            \ rgba(101,170,91,0.2);\n  {% endif %}\n}\n"
        cards:
        - badge_color: '{% from "util.jinja" import battery_color %} {{ battery_color("sensor.front_door_battery_level")
            }}'
          badge_icon: '{% from "util.jinja" import battery_icon %} {{ battery_icon("sensor.front_door_battery_level")
            }}'
          entity: binary_sensor.front_door_is_open
          icon: "{% if is_state(entity, \"on\") %}\n  mdi:door-open\n{% elif is_state(\"\
            lock.lock_front\", \"unlocked\") and is_state(entity, \"off\") %}\n  mdi:door-closed\n\
            {% elif is_state(\"lock.lock_front\", \"locked\") and is_state(entity,\
            \ \"off\") %}\n  mdi:door-closed-lock\n{% endif %}"
          icon_color: "{% if is_state(entity, \"on\") %}\n  red\n{% elif is_state(\"\
            lock.lock_front\", \"unlocked\") and is_state(entity, \"off\") %}\n  yellow\n\
            {% elif is_state(\"lock.lock_front\", \"locked\") and is_state(entity,\
            \ \"off\") %}\n  green\n{% endif %}"
          multiline_secondary: true
          primary: Front Door
          secondary: "{% from \"util.jinja\" import custom_timedelta %} {% if is_state(entity,\
            \ \"on\") -%}\n  Open\n{% elif is_state(\"lock.lock_front\", \"unlocked\"\
            ) -%}\n  Closed and Unlocked\n{% else -%}\n  Closed and Locked\n{% endif\
            \ -%} {{ custom_timedelta(entity) }}"
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - cards:
          - badge_color: '{% from "util.jinja" import battery_color %} {{ battery_color("sensor.lock_front_battery_level")
              }}'
            badge_icon: '{% from "util.jinja" import battery_icon %} {{ battery_icon("sensor.lock_front_battery_level")
              }}'
            card_mod:
              style: "ha-card {\n  --icon-border-radius: var(--control-border-radius);\n\
                }\n"
            icon: mdi:lock-smart
            icon_color: disabled
            tap_action:
              action: navigate
              navigation_path: /dashboard-locks
            type: custom:mushroom-template-card
          - entity: lock.lock_front
            icon_type: none
            name: Front Door
            primary_info: none
            secondary_info: none
            type: custom:mushroom-lock-card
          layout:
            grid-template-columns: 65px auto
            grid-template-rows: auto
            margin: 0 0 -4px 0
            padding: 0
          layout_type: custom:grid-layout
          type: custom:layout-card
        type: custom:vertical-stack-in-card
      - cards:
        - entity: cover.garage_door
          icon: "{% if is_state(entity, \"open\") %}\n  mdi:garage-open-variant\n\
            {% elif states(entity) in [\"opening\", \"closing\"] %}\n  mdi:garage-alert-variant\n\
            {% elif is_state(entity, \"closed\") %}\n  mdi:garage-variant\n{% else\
            \ %}\n  mdi:garage-alert-variant\n{% endif %}"
          icon_color: "{% if is_state(entity, \"open\") %}\n  red\n{% elif states(entity)\
            \ in [\"opening\", \"closing\"] %}\n  amber\n{% elif is_state(entity,\
            \ \"closed\") %}\n  green\n{% else %}\n  red\n{% endif %}"
          multiline_secondary: true
          primary: Garage Door
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ states(entity)
            | title }} {{ custom_timedelta(entity) }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - entity: cover.garage_door
          icon_type: none
          name: Garage Door
          primary_info: none
          secondary_info: none
          show_buttons_control: true
          type: custom:mushroom-cover-card
        type: custom:vertical-stack-in-card
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Sliding Door
        - entity: binary_sensor.sliding_door_is_open
        - battery_entity: sensor.sliding_door_battery_level
        - icon: mdi:door-sliding
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Garage Entry Door
        - entity: binary_sensor.garage_entry_door_is_open
        - battery_entity: sensor.garage_entry_door_battery_level
        - icon: mdi:door
      - template: door_card
        type: custom:decluttering-card
        variables:
        - name: Garage Side Door
        - entity: binary_sensor.garage_side_door_is_open
        - battery_entity: sensor.garage_side_door_battery_level
        - icon: mdi:door
      - cards:
        - card_mod:
            style:
              .: "ha-card {\n  background: none;\n  box-shadow: none;\n  margin-top:\
                \ 10px;\n}\n"
              mushroom-shape-icon$: ".shape {\n  {%- if is_state(config.entity, \"\
                on\") -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
                }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-yellow),\
                \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
          entity: input_boolean.ignore_alert_doors
          hold_action:
            action: toggle
          icon: mdi:door
          icon_color: "{% if is_state(entity, \"on\") %}\n  yellow\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        - card_mod:
            style:
              .: "ha-card {\n  background: none;\n  box-shadow: none;\n  margin-top:\
                \ 10px;\n}\n"
              mushroom-shape-icon$: ".shape {\n  {%- if is_state(config.entity, \"\
                on\") -%}\n  --shape-animation: ping 2s infinite;\n  {%- endif -%}\n\
                }\n@keyframes ping {\n  0% { box-shadow: 0 0 1px 1px rgba(var(--rgb-yellow),\
                \ 0.7); }\n  100% { box-shadow: 0 0 5px 15px transparent; }\n}\n"
          entity: input_boolean.ignore_alert_garage_door
          hold_action:
            action: toggle
          icon: mdi:garage-variant
          icon_color: "{% if is_state(entity, \"on\") %}\n  yellow\n{% endif %}"
          layout: vertical
          tap_action:
            action: none
          type: custom:mushroom-template-card
        columns: 2
        square: false
        type: grid
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Cameras
      type: custom:mushroom-title-card
    - cards:
      - aspect_ratio: '16:9'
        camera_view: auto
        entity: camera.emma
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - entity: camera.emma
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: custom:vertical-stack-in-card
              size: wide
              title: Emma
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        entity: camera.ethan
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - entity: camera.ethan
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: custom:vertical-stack-in-card
              size: wide
              title: Ethan
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        entity: camera.family_room
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - entity: camera.family_room
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: custom:vertical-stack-in-card
              size: wide
              title: Family Room
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        entity: camera.garage
        show_name: false
        show_state: false
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                card_mod:
                  style: "ha-card {\n  --ha-card-background: none\n}\n"
                cards:
                - entity: camera.garage
                  intersection: 0.75
                  muted: false
                  type: custom:webrtc-camera
                  ui: true
                type: custom:vertical-stack-in-card
              size: wide
              title: Garage
            service: browser_mod.popup
        type: picture-entity
      - aspect_ratio: '16:9'
        camera_image: camera.doorbell
        elements:
        - icon: mdi:cctv
          style:
            right: 15px
            top: 20px
            transform: translate(-50%, -50%) scale(200%)
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  cards:
                  - entity: camera.doorbell
                    intersection: 0.75
                    muted: false
                    type: custom:webrtc-camera
                    ui: true
                  type: custom:vertical-stack-in-card
                size: wide
                title: Doorbell
              service: browser_mod.popup
          type: icon
        - entity: binary_sensor.doorbell_human
          state_color: true
          style:
            bottom: -20px
            right: -20px
            transform: translate(-50%, -50%) scale(120%)
          tap_action:
            action: more-info
          type: state-icon
        - entity: binary_sensor.doorbell_motion
          icon: mdi:motion
          state_color: true
          style:
            bottom: -20px
            right: 20px
            transform: translate(-50%, -50%) scale(120%)
          tap_action:
            action: more-info
          type: state-icon
        show_name: false
        show_state: false
        type: picture-elements
      - cards:
        - entity: binary_sensor.doorbell_ring
          icon: mdi:bell-ring
          icon_color: disabled
          primary: Last Ring
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ custom_timedelta(entity)
            }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        - entity: binary_sensor.doorbell_human
          icon: mdi:walk
          icon_color: disabled
          primary: Last Person
          secondary: '{% from "util.jinja" import custom_timedelta %} {{ custom_timedelta(entity)
            }}'
          tap_action:
            action: more-info
          type: custom:mushroom-template-card
        type: vertical-stack
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  - cards:
    - title: Occupancy
      type: custom:mushroom-title-card
    - cards:
      - entity: binary_sensor.home_occupancy
        icon_color: light-green
        name: Home
        type: custom:mushroom-entity-card
      - entity: binary_sensor.kitchen_occupancy
        icon_color: light-green
        name: Kitchen
        type: custom:mushroom-entity-card
      - entity: binary_sensor.family_room_occupancy
        icon_color: light-green
        name: Family
        type: custom:mushroom-entity-card
      - entity: binary_sensor.master_bedroom_occupancy
        icon_color: light-green
        name: Master
        type: custom:mushroom-entity-card
      - entity: binary_sensor.emma_occupancy
        icon_color: light-green
        name: Emma
        type: custom:mushroom-entity-card
      - entity: binary_sensor.ethan_occupancy
        icon_color: light-green
        name: Ethan
        type: custom:mushroom-entity-card
      - entity: binary_sensor.guest_room_occupancy
        icon_color: light-green
        name: Guest Room
        type: custom:mushroom-entity-card
      - entity: binary_sensor.office_occupancy
        icon_color: light-green
        name: Office
        type: custom:mushroom-entity-card
      - entity: binary_sensor.garage_occupancy
        icon_color: light-green
        name: Garage
        type: custom:mushroom-entity-card
      columns: 3
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:shield
  layout:
    max_cols: 2
  path: security
  theme: Backend-selected
  title: Security
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Power
    - icon: mdi:transmission-tower
    - icon_color: red
    - chips:
      - entity: sensor.pv_power
        icon: mdi:solar-power-variant
        type: entity
      - content: "{%- if has_value(entity) -%}\n  {{ (states(entity) | float(default=0))\
          \ | round(1) }}\n  {{ state_attr(entity, \"unit_of_measurement\") }}\n{%-\
          \ endif -%}"
        entity: sensor.grid_net_monthly
        icon: mdi:power-plug
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(has_value(entity), states(entity) | float(default=0)) }}'
        entity: sensor.month_power_cost
        hold_action:
          action: none
        icon: mdi:currency-usd
        tap_action:
          action: more-info
        type: template
      - content: '{{ iif(has_value(entity), states(entity) | int(default=0) ~ "%")
          }}'
        entity: sensor.battery_state_of_charge
        hold_action:
          action: none
        icon: '{% from "util.jinja" import battery_icon %}

          {{ battery_icon(entity) }}'
        icon_color: '{% from "util.jinja" import battery_color %}

          {{ battery_color(entity) }}'
        tap_action:
          action: more-info
        type: template
  - entity: sensor.device_mode
    icon: mdi:transit-connection-variant
    name: Mode
    type: entity
  - cards:
    - title: Cost
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.minute_power_cost
        name: Minute
        type: entity
      - entity: sensor.day_power_cost
        name: Day
        type: entity
      - entity: sensor.month_power_cost
        name: Month
        type: entity
      columns: 3
      square: false
      type: grid
    - entity: select.monthly_energy
      icon: mdi:transmission-tower
      icon_color: "{%- if is_state(entity, \"summer_offpeak\") -%}\n  yellow\n{%-\
        \ elif is_state(entity, \"summer_peak\") -%}\n  red\n{%- elif is_state(entity,\
        \ \"winter_offpeak\") -%}\n  blue\n{%- elif is_state(entity, \"winter_peak\"\
        ) -%}\n  deep-orange\n{%- else -%}\n  grey\n{%- endif -%}"
      primary: "{%- if is_state(entity, \"summer_offpeak\") -%}\n  Summer Off-Peak\n\
        {%- elif is_state(entity, \"summer_peak\") -%}\n  Summer Peak\n{%- elif is_state(entity,\
        \ \"winter_offpeak\") -%}\n  Winter Off-Peak\n{%- elif is_state(entity, \"\
        winter_peak\") -%}\n  Winter Peak\n{%- else -%}\n  Unknown\n{%- endif -%}"
      secondary: '{{ states("sensor.tariff_price") }} {{ state_attr("sensor.tariff_price",
        "unit_of_measurement") }}'
      tap_action:
        action: more-info
      type: custom:mushroom-template-card
    type: vertical-stack
  - cards:
    - cards:
      - cards:
        - title: Daily
          type: custom:mushroom-title-card
        - entity: sensor.grid_net_daily
          icon: mdi:transmission-tower
          icon_color: blue
          name: Net
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.pv_daily
          icon: mdi:solar-panel
          icon_color: red
          name: Solar
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.battery_net_daily
          icon: mdi:battery-high
          icon_color: lime
          name: Battery
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_in_daily
          icon: mdi:transmission-tower-import
          icon_color: amber
          name: Import
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_out_daily
          icon: mdi:transmission-tower-export
          icon_color: green
          name: Export
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.load_daily
          icon: mdi:calendar-today
          icon_color: orange
          name: Load
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - icon: mdi:chart-sankey-variant
          icon_color: pink
          primary: Sankey Chart
          secondary: Daily
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  height: 700
                  round: 1
                  sections:
                  - entities:
                    - children:
                      - sensor.load_daily
                      - sensor.battery_in_daily
                      color: var(--purple-color)
                      entity_id: sensor.grid_in_daily
                      name: Grid Import
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                    - children:
                      - sensor.load_daily
                      color: var(--pink-color)
                      entity_id: sensor.battery_out_daily
                      name: Battery
                    - children:
                      - sensor.load_daily
                      - sensor.battery_in_daily
                      - sensor.grid_out_daily
                      color: var(--orange-color)
                      entity_id: sensor.pv_daily
                      name: Solar
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                  - entities:
                    - children:
                      - sensor.home_balance_energy
                      - sensor.air_conditioner_energy
                      - sensor.basement_bedrooms_energy
                      - sensor.bedrooms_energy
                      - sensor.dishwasher_disposal_energy
                      - sensor.dryer_energy
                      - sensor.entry_living_bath_lights_energy
                      - sensor.family_room_energy
                      - sensor.fridge_kitchen_outlets_energy
                      - sensor.furnace_energy
                      - sensor.garage_outlets_energy
                      - sensor.living_room_master_bedroom_energy
                      - sensor.mechanical_energy
                      - sensor.microwave_energy
                      - sensor.range_energy
                      - sensor.theater_room_energy
                      - sensor.washer_energy
                      color: var(--cyan-color)
                      entity_id: sensor.load_daily
                      name: Total Energy Used
                      remaining:
                        color: var(--grey-color)
                        name: Other
                    - color: var(--pink-color)
                      entity_id: sensor.battery_in_daily
                      name: Battery Charge
                    - color: var(--purple-color)
                      entity_id: sensor.grid_out_daily
                      name: Grid Export
                  - entities:
                    - entity_id: sensor.home_balance_energy
                      name: Balance
                    - entity_id: sensor.air_conditioner_energy
                      name: Air Conditioner
                    - entity_id: sensor.basement_bedrooms_energy
                      name: Basement Bedrooms
                    - entity_id: sensor.bedrooms_energy
                      name: Bedrooms
                    - entity_id: sensor.dishwasher_disposal_energy
                      name: Dishwasher / Disposal
                    - entity_id: sensor.dryer_energy
                      name: Dryer
                    - entity_id: sensor.entry_living_bath_lights_energy
                      name: Entry, Living Room, Bath Lights
                    - entity_id: sensor.family_room_energy
                      name: Family Room
                    - entity_id: sensor.fridge_kitchen_outlets_energy
                      name: Fridge / Kitchen Outlets
                    - entity_id: sensor.furnace_energy
                      name: Furnace
                    - entity_id: sensor.garage_outlets_energy
                      name: Garage Outlets
                    - entity_id: sensor.living_room_master_bedroom_energy
                      name: Living / Master Bed
                    - entity_id: sensor.microwave_energy
                      name: Microwave
                    - entity_id: sensor.mechanical_energy
                      name: Utility
                    - entity_id: sensor.range_energy
                      name: Range
                    - entity_id: sensor.theater_room_energy
                      name: Theater Room
                    - entity_id: sensor.washer_energy
                      name: Washer
                  show_names: true
                  type: custom:sankey-chart
                  unit_prefix: k
                  wide: true
                size: wide
                title: Daily Power Usage
              service: browser_mod.popup
          type: custom:mushroom-template-card
        type: vertical-stack
      - cards:
        - title: Monthly
          type: custom:mushroom-title-card
        - entity: sensor.grid_net_monthly
          icon: mdi:transmission-tower
          icon_color: blue
          name: Net
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.pv_monthly
          icon: mdi:solar-panel
          icon_color: red
          name: Solar
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.battery_net_monthly
          icon: mdi:battery-high
          icon_color: lime
          name: Battery
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_in_monthly
          icon: mdi:transmission-tower-import
          icon_color: amber
          name: Import
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.grid_out_monthly
          icon: mdi:transmission-tower-export
          icon_color: green
          name: Export
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - entity: sensor.load_monthly
          icon: mdi:calendar-month
          icon_color: orange
          name: Load
          primary_info: state
          secondary_info: name
          type: custom:mushroom-entity-card
        - icon: mdi:chart-sankey-variant
          icon_color: pink
          primary: Sankey Chart
          secondary: Monthly
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  height: 700
                  round: 1
                  sections:
                  - entities:
                    - children:
                      - sensor.load_monthly
                      - sensor.battery_in_monthly
                      color: var(--purple-color)
                      entity_id: sensor.grid_in_monthly
                      name: Grid Import
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                    - children:
                      - sensor.load_monthly
                      color: var(--pink-color)
                      entity_id: sensor.battery_out_monthly
                      name: Battery
                    - children:
                      - sensor.load_monthly
                      - sensor.battery_in_monthly
                      - sensor.grid_out_monthly
                      color: var(--orange-color)
                      entity_id: sensor.pv_monthly
                      name: Solar
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                  - entities:
                    - children:
                      - sensor.home_balance_monthly
                      - sensor.air_conditioner_monthly
                      - sensor.basement_bedrooms_monthly
                      - sensor.bedrooms_monthly
                      - sensor.dishwasher_disposal_monthly
                      - sensor.dryer_monthly
                      - sensor.entry_living_bath_lights_monthly
                      - sensor.family_room_monthly
                      - sensor.fridge_kitchen_outlets_monthly
                      - sensor.furnace_monthly
                      - sensor.garage_outlets_monthly
                      - sensor.living_room_master_bedroom_monthly
                      - sensor.mechanical_monthly
                      - sensor.microwave_monthly
                      - sensor.range_monthly
                      - sensor.theater_room_monthly
                      - sensor.washer_monthly
                      color: var(--cyan-color)
                      entity_id: sensor.load_monthly
                      name: Total Energy Used
                      remaining:
                        color: var(--grey-color)
                        name: Other
                    - color: var(--pink-color)
                      entity_id: sensor.battery_in_monthly
                      name: Battery Charge
                    - color: var(--purple-color)
                      entity_id: sensor.grid_out_monthly
                      name: Grid Export
                  - entities:
                    - entity_id: sensor.home_balance_monthly
                      name: Balance
                    - entity_id: sensor.air_conditioner_monthly
                      name: Air Conditioner
                    - entity_id: sensor.basement_bedrooms_monthly
                      name: Basement Bedrooms
                    - entity_id: sensor.bedrooms_monthly
                      name: Bedrooms
                    - entity_id: sensor.dishwasher_disposal_monthly
                      name: Dishwasher / Disposal
                    - entity_id: sensor.dryer_monthly
                      name: Dryer
                    - entity_id: sensor.entry_living_bath_lights_monthly
                      name: Entry, Living Room, Bath Lights
                    - entity_id: sensor.family_room_monthly
                      name: Family Room
                    - entity_id: sensor.fridge_kitchen_outlets_monthly
                      name: Fridge / Kitchen Outlets
                    - entity_id: sensor.furnace_monthly
                      name: Furnace
                    - entity_id: sensor.garage_outlets_monthly
                      name: Garage Outlets
                    - entity_id: sensor.living_room_master_bedroom_monthly
                      name: Living / Master Bed
                    - entity_id: sensor.microwave_monthly
                      name: Microwave
                    - entity_id: sensor.mechanical_monthly
                      name: Utility
                    - entity_id: sensor.range_monthly
                      name: Range
                    - entity_id: sensor.theater_room_monthly
                      name: Theater Room
                    - entity_id: sensor.washer_monthly
                      name: Washer
                  show_names: true
                  type: custom:sankey-chart
                  unit_prefix: k
                  wide: true
                size: wide
                title: Monthly Power Usage
              service: browser_mod.popup
          type: custom:mushroom-template-card
        type: vertical-stack
      type: horizontal-stack
    - cards:
      - cards:
        - cards:
          - title: Yearly
            type: custom:mushroom-title-card
          - entity: sensor.grid_net_yearly
            icon: mdi:transmission-tower
            icon_color: blue
            name: Net
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.pv_yearly
            icon: mdi:solar-panel
            icon_color: red
            name: Solar
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.battery_net_yearly
            icon: mdi:battery-high
            icon_color: lime
            name: Battery
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_in_yearly
            icon: mdi:transmission-tower-import
            icon_color: amber
            name: Import
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_out_yearly
            icon: mdi:transmission-tower-export
            icon_color: green
            name: Export
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.load_yearly
            icon: mdi:calendar-multiple
            icon_color: orange
            name: Load
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - icon: mdi:chart-sankey-variant
            icon_color: pink
            primary: Sankey Chart
            secondary: Yearly
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none\n}\n"
                    height: 700
                    round: 1
                    sections:
                    - entities:
                      - children:
                        - sensor.load_yearly
                        - sensor.battery_in_yearly
                        color: var(--purple-color)
                        entity_id: sensor.grid_in_yearly
                        name: Grid Import
                        remaining:
                          color: var(--grey-color)
                          name: Inverter
                      - children:
                        - sensor.load_yearly
                        color: var(--pink-color)
                        entity_id: sensor.battery_out_yearly
                        name: Battery
                      - children:
                        - sensor.load_yearly
                        - sensor.battery_in_yearly
                        - sensor.grid_out_yearly
                        color: var(--orange-color)
                        entity_id: sensor.pv_yearly
                        name: Solar
                        remaining:
                          color: var(--grey-color)
                          name: Inverter
                    - entities:
                      - color: var(--cyan-color)
                        entity_id: sensor.load_yearly
                        name: Total Energy Used
                        remaining:
                          color: var(--grey-color)
                          name: Other
                      - color: var(--pink-color)
                        entity_id: sensor.battery_in_yearly
                        name: Battery Charge
                      - color: var(--purple-color)
                        entity_id: sensor.grid_out_yearly
                        name: Grid Export
                    show_names: true
                    type: custom:sankey-chart
                    unit_prefix: k
                    wide: true
                  size: wide
                  title: Yearly Power Usage
                service: browser_mod.popup
            type: custom:mushroom-template-card
          type: vertical-stack
        - cards:
          - title: Lifetime
            type: custom:mushroom-title-card
          - entity: sensor.grid_energy_in
            icon: mdi:transmission-tower
            icon_color: blue
            name: Net
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.pv_energy
            icon: mdi:solar-panel
            icon_color: red
            name: Solar
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_energy_in
            icon: mdi:transmission-tower-import
            icon_color: amber
            name: Import
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.grid_energy_out
            icon: mdi:transmission-tower-export
            icon_color: green
            name: Export
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - entity: sensor.load_energy
            icon: mdi:calendar-multiple
            icon_color: orange
            name: Load
            primary_info: state
            secondary_info: name
            type: custom:mushroom-entity-card
          - icon: mdi:chart-sankey-variant
            icon_color: pink
            primary: Sankey Chart
            secondary: Lifetime
            tap_action:
              action: fire-dom-event
              browser_mod:
                data:
                  content:
                    card_mod:
                      style: "ha-card {\n  --ha-card-background: none\n}\n"
                    height: 700
                    round: 1
                    sections:
                    - entities:
                      - children:
                        - sensor.load_energy
                        - sensor.battery_energy_in
                        color: var(--purple-color)
                        entity_id: sensor.grid_energy_in
                        name: Grid Import
                        remaining:
                          color: var(--grey-color)
                          name: Inverter
                      - children:
                        - sensor.load_energy
                        color: var(--pink-color)
                        entity_id: sensor.battery_energy_out
                        name: Battery
                      - children:
                        - sensor.load_energy
                        - sensor.battery_energy_in
                        - sensor.grid_energy_out
                        color: var(--orange-color)
                        entity_id: sensor.pv_energy
                        name: Solar
                        remaining:
                          color: var(--grey-color)
                          name: Inverter
                    - entities:
                      - color: var(--cyan-color)
                        entity_id: sensor.load_energy
                        name: Total Energy Used
                        remaining:
                          color: var(--grey-color)
                          name: Other
                      - color: var(--pink-color)
                        entity_id: sensor.battery_energy_in
                        name: Battery Charge
                      - color: var(--purple-color)
                        entity_id: sensor.grid_energy_out
                        name: Grid Export
                    show_names: true
                    type: custom:sankey-chart
                    unit_prefix: k
                    wide: true
                  size: wide
                  title: Lifetime Power Usage
                service: browser_mod.popup
            type: custom:mushroom-template-card
          type: vertical-stack
        type: horizontal-stack
      type: vertical-stack
    type: custom:swipe-card
  - cards:
    - title: Energy Distribution
      type: custom:mushroom-title-card
    - clickable_entities: true
      entities:
        battery:
          entity:
            consumption: sensor.battery_power_out
            production: sensor.battery_power_in
          state_of_charge: sensor.battery_state_of_charge
        grid:
          entity: sensor.grid_power
        home:
          entity: sensor.load_power
        solar:
          entity: sensor.pv_power
      kw_decimals: 2
      type: custom:power-flow-card-plus
      w_decimals: 0
    type: vertical-stack
  - cards:
    - title: Solar Generation
      type: custom:mushroom-title-card
    - animate: true
      entities:
      - color: var(--green-color)
        entity: sensor.pv_power
        name: PV Power
      height: 60
      hours_to_show: 24
      icon: mdi:solar-power-variant
      line_width: 2
      name: PV Power
      points_per_hour: 12
      show:
        labels: false
      type: custom:mini-graph-card
      upper_bound: 4800
    type: vertical-stack
  - cards:
    - title: Battery
      type: custom:mushroom-title-card
    - entities:
      - entity: sensor.battery_state_of_charge
        icon: mdi:battery-high
        max: 100
        min: 0
        name: State of Charge
        severity:
        - color: var(--red-color)
          from: 0
          to: 30
        - color: var(--orange-color)
          from: 30
          to: 50
        - color: var(--amber-color)
          from: 50
          to: 70
        - color: var(--light-green-color)
          from: 70
          to: 90
        - color: var(--green-color)
          from: 90
          to: 100
      - entity: sensor.battery_voltage
        icon: mdi:sine-wave
        max: 56
        min: 44
        name: Voltage
        severity:
        - color: var(--red-color)
          from: 44
          to: 46
        - color: var(--amber-color)
          from: 46
          to: 48
        - color: var(--green-color)
          from: 48
          to: 53
        - color: var(--amber-color)
          from: 53
          to: 54
        - color: var(--red-color)
          from: 54
          to: 56
      - entity: sensor.battery_temperature
        icon: mdi:thermometer
        max: 150
        min: -10
        name: Temperature
        severity:
        - color: var(--red-color)
          from: -10
          to: -4
        - color: var(--orange-color)
          from: -4
          to: 32
        - color: var(--amber-color)
          from: 32
          to: 42
        - color: var(--green-color)
          from: 42
          to: 100
        - color: var(--orange-color)
          from: 120
          to: 130
        - color: var(--red-color)
          from: 130
          to: 150
      height: 30px
      positions:
        indicator: inside
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - template: title_chips
      type: custom:decluttering-card
      variables:
      - title: Realtime Power
      - chips:
        - icon: mdi:chart-sankey-variant
          icon_color: pink
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  card_mod:
                    style: "ha-card {\n  --ha-card-background: none\n}\n"
                  height: 700
                  round: 1
                  sections:
                  - entities:
                    - children:
                      - sensor.load_power
                      - sensor.battery_power_in
                      color: var(--purple-color)
                      entity_id: sensor.grid_power_in
                      name: Grid Import
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                    - children:
                      - sensor.load_power
                      color: var(--pink-color)
                      entity_id: sensor.battery_power_out
                      name: Battery
                    - children:
                      - sensor.load_power
                      - sensor.battery_power_in
                      - sensor.grid_power_out
                      color: var(--orange-color)
                      entity_id: sensor.pv_power
                      name: Solar
                      remaining:
                        color: var(--grey-color)
                        name: Inverter
                  - entities:
                    - children:
                      - sensor.home_balance_power
                      - sensor.air_conditioner_power
                      - sensor.basement_bedrooms_power
                      - sensor.bedrooms_power
                      - sensor.dishwasher_disposal_power
                      - sensor.dryer_power
                      - sensor.entry_living_bath_lights_power
                      - sensor.family_room_power
                      - sensor.fridge_kitchen_outlets_power
                      - sensor.furnace_power
                      - sensor.garage_outlets_power
                      - sensor.living_room_master_bedroom_power
                      - sensor.mechanical_power
                      - sensor.microwave_power
                      - sensor.range_power
                      - sensor.theater_room_power
                      - sensor.washer_power
                      color: var(--cyan-color)
                      entity_id: sensor.load_power
                      name: Total Power Used
                      remaining:
                        color: var(--grey-color)
                        name: Other
                    - color: var(--pink-color)
                      entity_id: sensor.battery_power_in
                      name: Battery Charge
                    - color: var(--purple-color)
                      entity_id: sensor.grid_power_out
                      name: Grid Export
                  - entities:
                    - entity_id: sensor.home_balance_power
                      name: Balance
                    - entity_id: sensor.air_conditioner_power
                      name: Air Conditioner
                    - entity_id: sensor.basement_bedrooms_power
                      name: Basement Bedrooms
                    - entity_id: sensor.bedrooms_power
                      name: Bedrooms
                    - entity_id: sensor.dishwasher_disposal_power
                      name: Dishwasher / Disposal
                    - entity_id: sensor.dryer_power
                      name: Dryer
                    - entity_id: sensor.entry_living_bath_lights_power
                      name: Entry, Living Room, Bath Lights
                    - entity_id: sensor.family_room_power
                      name: Family Room
                    - entity_id: sensor.fridge_kitchen_outlets_power
                      name: Fridge / Kitchen Outlets
                    - entity_id: sensor.furnace_power
                      name: Furnace
                    - entity_id: sensor.garage_outlets_power
                      name: Garage Outlets
                    - entity_id: sensor.living_room_master_bedroom_power
                      name: Living / Master Bed
                    - entity_id: sensor.microwave_power
                      name: Microwave
                    - entity_id: sensor.mechanical_power
                      name: Utility
                    - entity_id: sensor.range_power
                      name: Range
                    - entity_id: sensor.theater_room_power
                      name: Theater Room
                    - entity_id: sensor.washer_power
                      name: Washer
                  show_names: true
                  type: custom:sankey-chart
                  unit_prefix: k
                  wide: true
                size: wide
                title: Realtime Power Usage
              service: browser_mod.popup
          type: template
    - subtitle: System
      type: custom:mushroom-title-card
    - entities:
      - entity: sensor.grid_power
        icon: mdi:transmission-tower
        min: -5000
        name: Grid Power
        severity:
        - color: var(--purple-color)
          from: '-5000'
          to: '-4000'
        - color: var(--blue-color)
          from: '-4000'
          to: '-3000'
        - color: var(--light-blue-color)
          from: '-3000'
          to: '-2000'
        - color: var(--cyan-color)
          from: '-2000'
          to: '-1000'
        - color: var(--teal-color)
          from: '-1000'
        - color: var(--green-color)
          from: '0'
          to: '9600'
        - color: var(--light-green-color)
          from: '9600'
          to: '19200'
        - color: var(--amber-color)
          from: '19200'
          to: '28800'
        - color: var(--orange-color)
          from: '28800'
          to: '38400'
        - color: var(--red-color)
          from: '38400'
          to: '48000'
        target: '0'
      - entity: sensor.load_power
        icon: mdi:power-plug
        name: Load Power
        severity:
        - color: var(--green-color)
          from: 0
          to: 9600
        - color: var(--light-green-color)
          from: 9600
          to: 19200
        - color: var(--amber-color)
          from: 19200
          to: 28800
        - color: var(--orange-color)
          from: 28800
          to: 38400
        - color: var(--red-color)
          from: 38400
          to: 48000
      - entity: sensor.pv_power
        icon: mdi:solar-power-variant
        max: 5000
        name: Solar
        severity:
        - color: var(--green-color)
          from: 0
          to: 1000
        - color: var(--light-green-color)
          from: 1000
          to: 2000
        - color: var(--amber-color)
          from: 2000
          to: 3000
        - color: var(--orange-color)
          from: 3000
          to: 4000
        - color: var(--red-color)
          from: 4000
          to: 5000
      - entity: sensor.battery_power
        icon: mdi:battery-high
        max: 12960
        min: -12960
        name: Battery
        severity:
        - color: var(--purple-color)
          from: -12960
          to: -10368
        - color: var(--blue-color)
          from: -10368
          to: -7776
        - color: var(--light-blue-color)
          from: -7776
          to: -5184
        - color: var(--cyan-color)
          from: -5184
          to: -2592
        - color: var(--teal-color)
          from: -2592
          to: 0
        - color: var(--green-color)
          from: 0
          to: 2592
        - color: var(--light-green-color)
          from: 2592
          to: 5184
        - color: var(--amber-color)
          from: 5184
          to: 7776
        - color: var(--orange-color)
          from: 7776
          to: 10368
        - color: var(--red-color)
          from: 10368
          to: 12960
        target: '0'
      height: 30px
      max: 48000
      min: 0
      positions:
        indicator: inside
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    - subtitle: Circuits
      type: custom:mushroom-title-card
    - decimal: 1
      entities:
      - entity: sensor.home_balance_power
        icon: mdi:home-analytics
        max: 9600
        name: Home Balance
        severity:
        - color: var(--green-color)
          from: 0
          to: 1920
        - color: var(--light-green-color)
          from: 1920
          to: 3840
        - color: var(--amber-color)
          from: 3840
          to: 5760
        - color: var(--orange-color)
          from: 5760
          to: 7680
        - color: var(--red-color)
          from: 7680
          to: 9600
      - entity: sensor.air_conditioner_power
        icon: mdi:air-conditioner
        max: 7200
        name: Air Conditioner
        severity:
        - color: var(--green-color)
          from: 0
          to: 1440
        - color: var(--light-green-color)
          from: 1440
          to: 2880
        - color: var(--amber-color)
          from: 2880
          to: 4320
        - color: var(--orange-color)
          from: 4320
          to: 5760
        - color: var(--red-color)
          from: 5760
          to: 7200
      - entity: sensor.basement_bedrooms_power
        icon: mdi:home-floor-0
        name: Basement Bedrooms
      - entity: sensor.bedrooms_power
        icon: mdi:home-floor-1
        name: Bedrooms
      - entity: sensor.dishwasher_disposal_power
        icon: mdi:dishwasher
        name: Dishwasher / Disposal
      - entity: sensor.dryer_power
        icon: mdi:tumble-dryer
        max: 7200
        name: Dryer
        severity:
        - color: var(--green-color)
          from: 0
          to: 1440
        - color: var(--light-green-color)
          from: 1440
          to: 2880
        - color: var(--amber-color)
          from: 2880
          to: 4320
        - color: var(--orange-color)
          from: 4320
          to: 5760
        - color: var(--red-color)
          from: 5760
          to: 7200
      - entity: sensor.family_room_power
        icon: mdi:gamepad-circle
        name: Family Room
      - entity: sensor.fridge_kitchen_outlets_power
        icon: mdi:fridge-variant
        name: Fridge / Kitchen Outlets
      - entity: sensor.furnace_power
        icon: mdi:hvac
        name: Furance
      - entity: sensor.entry_living_bath_lights_power
        icon: mdi:lightbulb-group
        max: 1800
        name: Entry, Living Room, Bath Lights
        severity:
        - color: var(--green-color)
          from: 0
          to: 360
        - color: var(--light-green-color)
          from: 360
          to: 720
        - color: var(--amber-color)
          from: 720
          to: 1080
        - color: var(--orange-color)
          from: 1080
          to: 1440
        - color: var(--red-color)
          from: 1440
          to: 1800
      - entity: sensor.garage_outlets_power
        icon: mdi:garage-variant
        name: Garage Outlets
      - entity: sensor.living_room_master_bedroom_power
        icon: mdi:sofa-single
        name: Living / Master Bed
      - entity: sensor.microwave_power
        icon: mdi:microwave
        name: Microwave
      - entity: sensor.mechanical_power
        icon: mdi:progress-wrench
        max: 1800
        name: Utility
        severity:
        - color: var(--green-color)
          from: 0
          to: 360
        - color: var(--light-green-color)
          from: 360
          to: 720
        - color: var(--amber-color)
          from: 720
          to: 1080
        - color: var(--orange-color)
          from: 1080
          to: 1440
        - color: var(--red-color)
          from: 1440
          to: 1800
      - entity: sensor.range_power
        icon: mdi:stove
        max: 9600
        name: Range
        severity:
        - color: var(--green-color)
          from: 0
          to: 1920
        - color: var(--light-green-color)
          from: 1920
          to: 3840
        - color: var(--amber-color)
          from: 3840
          to: 5760
        - color: var(--orange-color)
          from: 5760
          to: 7680
        - color: var(--red-color)
          from: 7680
          to: 9600
      - entity: sensor.theater_room_power
        icon: mdi:theater
        name: Theater Room
      - entity: sensor.washer_power
        icon: mdi:washing-machine
        name: Washer
      height: 30px
      max: 2400
      min: 0
      positions:
        indicator: inside
      severity:
      - color: var(--green-color)
        from: 0
        to: 480
      - color: var(--light-green-color)
        from: 480
        to: 960
      - color: var(--amber-color)
        from: 960
        to: 1440
      - color: var(--orange-color)
        from: 1440
        to: 1920
      - color: var(--red-color)
        from: 1920
        to: 2400
      style: "bar-card-name,\nbar-card-value {\n  text-shadow: 1px 1px var(--primary-background-color);\n\
        }"
      type: custom:bar-card
    type: vertical-stack
  - cards:
    - title: Voltage
      type: custom:mushroom-title-card
    - cards:
      - entity: sensor.phase_a_voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.phase_b_voltage
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.phase_a_frequency
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      - entity: sensor.phase_b_phase_angle
        primary_info: state
        secondary_info: name
        type: custom:mushroom-entity-card
      columns: 2
      square: false
      type: grid
    type: vertical-stack
  icon: mdi:transmission-tower
  layout:
    max_cols: 2
  path: power
  theme: Backend-selected
  title: Power
  type: custom:masonry-layout
- badges: []
  cards:
  - template: chip_header
    type: custom:decluttering-card
    variables:
    - primary: Testing
    - icon: mdi:test-tube
    - icon_color: disabled
  icon: mdi:test-tube
  layout:
    max_cols: 2
  path: test
  theme: Backend-selected
  title: Test
  type: custom:masonry-layout
